function g1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var bs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function gg(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var vg={exports:{}},Fl={},yg={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var To=Symbol.for("react.element"),v1=Symbol.for("react.portal"),y1=Symbol.for("react.fragment"),_1=Symbol.for("react.strict_mode"),w1=Symbol.for("react.profiler"),x1=Symbol.for("react.provider"),S1=Symbol.for("react.context"),b1=Symbol.for("react.forward_ref"),T1=Symbol.for("react.suspense"),k1=Symbol.for("react.memo"),C1=Symbol.for("react.lazy"),Qf=Symbol.iterator;function E1(t){return t===null||typeof t!="object"?null:(t=Qf&&t[Qf]||t["@@iterator"],typeof t=="function"?t:null)}var _g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wg=Object.assign,xg={};function di(t,e,n){this.props=t,this.context=e,this.refs=xg,this.updater=n||_g}di.prototype.isReactComponent={};di.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};di.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Sg(){}Sg.prototype=di.prototype;function Jd(t,e,n){this.props=t,this.context=e,this.refs=xg,this.updater=n||_g}var eh=Jd.prototype=new Sg;eh.constructor=Jd;wg(eh,di.prototype);eh.isPureReactComponent=!0;var Zf=Array.isArray,bg=Object.prototype.hasOwnProperty,th={current:null},Tg={key:!0,ref:!0,__self:!0,__source:!0};function kg(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)bg.call(e,r)&&!Tg.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:To,type:t,key:i,ref:o,props:s,_owner:th.current}}function N1(t,e){return{$$typeof:To,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function nh(t){return typeof t=="object"&&t!==null&&t.$$typeof===To}function A1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Jf=/\/+/g;function jc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?A1(""+t.key):e.toString(36)}function Sa(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case To:case v1:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+jc(o,0):r,Zf(s)?(n="",t!=null&&(n=t.replace(Jf,"$&/")+"/"),Sa(s,e,n,"",function(c){return c})):s!=null&&(nh(s)&&(s=N1(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Jf,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Zf(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+jc(i,a);o+=Sa(i,e,n,l,s)}else if(l=E1(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+jc(i,a++),o+=Sa(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ho(t,e,n){if(t==null)return t;var r=[],s=0;return Sa(t,r,"","",function(i){return e.call(n,i,s++)}),r}function I1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ft={current:null},ba={transition:null},O1={ReactCurrentDispatcher:ft,ReactCurrentBatchConfig:ba,ReactCurrentOwner:th};function Cg(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:Ho,forEach:function(t,e,n){Ho(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ho(t,function(){e++}),e},toArray:function(t){return Ho(t,function(e){return e})||[]},only:function(t){if(!nh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ee.Component=di;ee.Fragment=y1;ee.Profiler=w1;ee.PureComponent=Jd;ee.StrictMode=_1;ee.Suspense=T1;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O1;ee.act=Cg;ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=wg({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=th.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)bg.call(e,l)&&!Tg.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:To,type:t.type,key:s,ref:i,props:r,_owner:o}};ee.createContext=function(t){return t={$$typeof:S1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:x1,_context:t},t.Consumer=t};ee.createElement=kg;ee.createFactory=function(t){var e=kg.bind(null,t);return e.type=t,e};ee.createRef=function(){return{current:null}};ee.forwardRef=function(t){return{$$typeof:b1,render:t}};ee.isValidElement=nh;ee.lazy=function(t){return{$$typeof:C1,_payload:{_status:-1,_result:t},_init:I1}};ee.memo=function(t,e){return{$$typeof:k1,type:t,compare:e===void 0?null:e}};ee.startTransition=function(t){var e=ba.transition;ba.transition={};try{t()}finally{ba.transition=e}};ee.unstable_act=Cg;ee.useCallback=function(t,e){return ft.current.useCallback(t,e)};ee.useContext=function(t){return ft.current.useContext(t)};ee.useDebugValue=function(){};ee.useDeferredValue=function(t){return ft.current.useDeferredValue(t)};ee.useEffect=function(t,e){return ft.current.useEffect(t,e)};ee.useId=function(){return ft.current.useId()};ee.useImperativeHandle=function(t,e,n){return ft.current.useImperativeHandle(t,e,n)};ee.useInsertionEffect=function(t,e){return ft.current.useInsertionEffect(t,e)};ee.useLayoutEffect=function(t,e){return ft.current.useLayoutEffect(t,e)};ee.useMemo=function(t,e){return ft.current.useMemo(t,e)};ee.useReducer=function(t,e,n){return ft.current.useReducer(t,e,n)};ee.useRef=function(t){return ft.current.useRef(t)};ee.useState=function(t){return ft.current.useState(t)};ee.useSyncExternalStore=function(t,e,n){return ft.current.useSyncExternalStore(t,e,n)};ee.useTransition=function(){return ft.current.useTransition()};ee.version="18.3.1";yg.exports=ee;var S=yg.exports;const nr=Zd(S),Eg=g1({__proto__:null,default:nr},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P1=S,R1=Symbol.for("react.element"),M1=Symbol.for("react.fragment"),D1=Object.prototype.hasOwnProperty,F1=P1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,L1={key:!0,ref:!0,__self:!0,__source:!0};function Ng(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)D1.call(e,r)&&!L1.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:R1,type:t,key:i,ref:o,props:s,_owner:F1.current}}Fl.Fragment=M1;Fl.jsx=Ng;Fl.jsxs=Ng;vg.exports=Fl;var C=vg.exports,Ag={exports:{}},Lt={},Ig={exports:{}},Og={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,P){var L=O.length;O.push(P);e:for(;0<L;){var U=L-1>>>1,H=O[U];if(0<s(H,P))O[U]=P,O[L]=H,L=U;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var P=O[0],L=O.pop();if(L!==P){O[0]=L;e:for(var U=0,H=O.length,Te=H>>>1;U<Te;){var le=2*(U+1)-1,K=O[le],Z=le+1,$=O[Z];if(0>s(K,L))Z<H&&0>s($,K)?(O[U]=$,O[Z]=L,U=Z):(O[U]=K,O[le]=L,U=le);else if(Z<H&&0>s($,L))O[U]=$,O[Z]=L,U=Z;else break e}}return P}function s(O,P){var L=O.sortIndex-P.sortIndex;return L!==0?L:O.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,u=null,h=3,p=!1,m=!1,f=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(O){for(var P=n(c);P!==null;){if(P.callback===null)r(c);else if(P.startTime<=O)r(c),P.sortIndex=P.expirationTime,e(l,P);else break;P=n(c)}}function x(O){if(f=!1,_(O),!m)if(n(l)!==null)m=!0,D(w);else{var P=n(c);P!==null&&F(x,P.startTime-O)}}function w(O,P){m=!1,f&&(f=!1,g(T),T=-1),p=!0;var L=h;try{for(_(P),u=n(l);u!==null&&(!(u.expirationTime>P)||O&&!I());){var U=u.callback;if(typeof U=="function"){u.callback=null,h=u.priorityLevel;var H=U(u.expirationTime<=P);P=t.unstable_now(),typeof H=="function"?u.callback=H:u===n(l)&&r(l),_(P)}else r(l);u=n(l)}if(u!==null)var Te=!0;else{var le=n(c);le!==null&&F(x,le.startTime-P),Te=!1}return Te}finally{u=null,h=L,p=!1}}var k=!1,b=null,T=-1,N=5,E=-1;function I(){return!(t.unstable_now()-E<N)}function A(){if(b!==null){var O=t.unstable_now();E=O;var P=!0;try{P=b(!0,O)}finally{P?R():(k=!1,b=null)}}else k=!1}var R;if(typeof v=="function")R=function(){v(A)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,j=M.port2;M.port1.onmessage=A,R=function(){j.postMessage(null)}}else R=function(){y(A,0)};function D(O){b=O,k||(k=!0,R())}function F(O,P){T=y(function(){O(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(w))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(h){case 1:case 2:case 3:var P=3;break;default:P=h}var L=h;h=P;try{return O()}finally{h=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,P){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var L=h;h=O;try{return P()}finally{h=L}},t.unstable_scheduleCallback=function(O,P,L){var U=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?U+L:U):L=U,O){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=L+H,O={id:d++,callback:P,priorityLevel:O,startTime:L,expirationTime:H,sortIndex:-1},L>U?(O.sortIndex=L,e(c,O),n(l)===null&&O===n(c)&&(f?(g(T),T=-1):f=!0,F(x,L-U))):(O.sortIndex=H,e(l,O),m||p||(m=!0,D(w))),O},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(O){var P=h;return function(){var L=h;h=P;try{return O.apply(this,arguments)}finally{h=L}}}})(Og);Ig.exports=Og;var V1=Ig.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j1=S,Dt=V1;function V(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Pg=new Set,Ji={};function cs(t,e){Ks(t,e),Ks(t+"Capture",e)}function Ks(t,e){for(Ji[t]=e,t=0;t<e.length;t++)Pg.add(e[t])}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cu=Object.prototype.hasOwnProperty,U1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ep={},tp={};function B1(t){return Cu.call(tp,t)?!0:Cu.call(ep,t)?!1:U1.test(t)?tp[t]=!0:(ep[t]=!0,!1)}function z1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function W1(t,e,n,r){if(e===null||typeof e>"u"||z1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Je[t]=new pt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Je[e]=new pt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Je[t]=new pt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Je[t]=new pt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Je[t]=new pt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Je[t]=new pt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Je[t]=new pt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Je[t]=new pt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Je[t]=new pt(t,5,!1,t.toLowerCase(),null,!1,!1)});var rh=/[\-:]([a-z])/g;function sh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rh,sh);Je[e]=new pt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rh,sh);Je[e]=new pt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rh,sh);Je[e]=new pt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Je[t]=new pt(t,1,!1,t.toLowerCase(),null,!1,!1)});Je.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Je[t]=new pt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ih(t,e,n,r){var s=Je.hasOwnProperty(e)?Je[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(W1(e,n,s,r)&&(n=null),r||s===null?B1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var $n=j1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Go=Symbol.for("react.element"),Ts=Symbol.for("react.portal"),ks=Symbol.for("react.fragment"),oh=Symbol.for("react.strict_mode"),Eu=Symbol.for("react.profiler"),Rg=Symbol.for("react.provider"),Mg=Symbol.for("react.context"),ah=Symbol.for("react.forward_ref"),Nu=Symbol.for("react.suspense"),Au=Symbol.for("react.suspense_list"),lh=Symbol.for("react.memo"),ir=Symbol.for("react.lazy"),Dg=Symbol.for("react.offscreen"),np=Symbol.iterator;function Ni(t){return t===null||typeof t!="object"?null:(t=np&&t[np]||t["@@iterator"],typeof t=="function"?t:null)}var Oe=Object.assign,Uc;function ji(t){if(Uc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Uc=e&&e[1]||""}return`
`+Uc+t}var Bc=!1;function zc(t,e){if(!t||Bc)return"";Bc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Bc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ji(t):""}function $1(t){switch(t.tag){case 5:return ji(t.type);case 16:return ji("Lazy");case 13:return ji("Suspense");case 19:return ji("SuspenseList");case 0:case 2:case 15:return t=zc(t.type,!1),t;case 11:return t=zc(t.type.render,!1),t;case 1:return t=zc(t.type,!0),t;default:return""}}function Iu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ks:return"Fragment";case Ts:return"Portal";case Eu:return"Profiler";case oh:return"StrictMode";case Nu:return"Suspense";case Au:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Mg:return(t.displayName||"Context")+".Consumer";case Rg:return(t._context.displayName||"Context")+".Provider";case ah:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lh:return e=t.displayName||null,e!==null?e:Iu(t.type)||"Memo";case ir:e=t._payload,t=t._init;try{return Iu(t(e))}catch{}}return null}function q1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Iu(e);case 8:return e===oh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Tr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function H1(t){var e=Fg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Yo(t){t._valueTracker||(t._valueTracker=H1(t))}function Lg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Fg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ja(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ou(t,e){var n=e.checked;return Oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function rp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Tr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Vg(t,e){e=e.checked,e!=null&&ih(t,"checked",e,!1)}function Pu(t,e){Vg(t,e);var n=Tr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ru(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ru(t,e.type,Tr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ru(t,e,n){(e!=="number"||ja(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ui=Array.isArray;function js(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Tr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Mu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(V(91));return Oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ip(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(V(92));if(Ui(n)){if(1<n.length)throw Error(V(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Tr(n)}}function jg(t,e){var n=Tr(e.value),r=Tr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function op(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ug(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Du(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ug(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xo,Bg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xo=Xo||document.createElement("div"),Xo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function eo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $i={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},G1=["Webkit","ms","Moz","O"];Object.keys($i).forEach(function(t){G1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$i[e]=$i[t]})});function zg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$i.hasOwnProperty(t)&&$i[t]?(""+e).trim():e+"px"}function Wg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=zg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Y1=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fu(t,e){if(e){if(Y1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(V(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(V(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(V(61))}if(e.style!=null&&typeof e.style!="object")throw Error(V(62))}}function Lu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vu=null;function ch(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ju=null,Us=null,Bs=null;function ap(t){if(t=Eo(t)){if(typeof ju!="function")throw Error(V(280));var e=t.stateNode;e&&(e=Bl(e),ju(t.stateNode,t.type,e))}}function $g(t){Us?Bs?Bs.push(t):Bs=[t]:Us=t}function qg(){if(Us){var t=Us,e=Bs;if(Bs=Us=null,ap(t),e)for(t=0;t<e.length;t++)ap(e[t])}}function Hg(t,e){return t(e)}function Gg(){}var Wc=!1;function Yg(t,e,n){if(Wc)return t(e,n);Wc=!0;try{return Hg(t,e,n)}finally{Wc=!1,(Us!==null||Bs!==null)&&(Gg(),qg())}}function to(t,e){var n=t.stateNode;if(n===null)return null;var r=Bl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(V(231,e,typeof n));return n}var Uu=!1;if(Fn)try{var Ai={};Object.defineProperty(Ai,"passive",{get:function(){Uu=!0}}),window.addEventListener("test",Ai,Ai),window.removeEventListener("test",Ai,Ai)}catch{Uu=!1}function X1(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var qi=!1,Ua=null,Ba=!1,Bu=null,K1={onError:function(t){qi=!0,Ua=t}};function Q1(t,e,n,r,s,i,o,a,l){qi=!1,Ua=null,X1.apply(K1,arguments)}function Z1(t,e,n,r,s,i,o,a,l){if(Q1.apply(this,arguments),qi){if(qi){var c=Ua;qi=!1,Ua=null}else throw Error(V(198));Ba||(Ba=!0,Bu=c)}}function us(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Xg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lp(t){if(us(t)!==t)throw Error(V(188))}function J1(t){var e=t.alternate;if(!e){if(e=us(t),e===null)throw Error(V(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return lp(s),t;if(i===r)return lp(s),e;i=i.sibling}throw Error(V(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?t:e}function Kg(t){return t=J1(t),t!==null?Qg(t):null}function Qg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Qg(t);if(e!==null)return e;t=t.sibling}return null}var Zg=Dt.unstable_scheduleCallback,cp=Dt.unstable_cancelCallback,ex=Dt.unstable_shouldYield,tx=Dt.unstable_requestPaint,Le=Dt.unstable_now,nx=Dt.unstable_getCurrentPriorityLevel,uh=Dt.unstable_ImmediatePriority,Jg=Dt.unstable_UserBlockingPriority,za=Dt.unstable_NormalPriority,rx=Dt.unstable_LowPriority,ev=Dt.unstable_IdlePriority,Ll=null,vn=null;function sx(t){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(Ll,t,void 0,(t.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:ax,ix=Math.log,ox=Math.LN2;function ax(t){return t>>>=0,t===0?32:31-(ix(t)/ox|0)|0}var Ko=64,Qo=4194304;function Bi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wa(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Bi(a):(i&=o,i!==0&&(r=Bi(i)))}else o=n&~s,o!==0?r=Bi(o):i!==0&&(r=Bi(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tn(e),s=1<<n,r|=t[n],e&=~s;return r}function lx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cx(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-tn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=lx(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function zu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tv(){var t=Ko;return Ko<<=1,!(Ko&4194240)&&(Ko=64),t}function $c(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ko(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tn(e),t[e]=n}function ux(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-tn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function dh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var de=0;function nv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rv,hh,sv,iv,ov,Wu=!1,Zo=[],fr=null,pr=null,mr=null,no=new Map,ro=new Map,lr=[],dx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function up(t,e){switch(t){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":no.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ro.delete(e.pointerId)}}function Ii(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Eo(e),e!==null&&hh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function hx(t,e,n,r,s){switch(e){case"focusin":return fr=Ii(fr,t,e,n,r,s),!0;case"dragenter":return pr=Ii(pr,t,e,n,r,s),!0;case"mouseover":return mr=Ii(mr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return no.set(i,Ii(no.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ro.set(i,Ii(ro.get(i)||null,t,e,n,r,s)),!0}return!1}function av(t){var e=zr(t.target);if(e!==null){var n=us(e);if(n!==null){if(e=n.tag,e===13){if(e=Xg(n),e!==null){t.blockedOn=e,ov(t.priority,function(){sv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ta(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$u(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vu=r,n.target.dispatchEvent(r),Vu=null}else return e=Eo(n),e!==null&&hh(e),t.blockedOn=n,!1;e.shift()}return!0}function dp(t,e,n){Ta(t)&&n.delete(e)}function fx(){Wu=!1,fr!==null&&Ta(fr)&&(fr=null),pr!==null&&Ta(pr)&&(pr=null),mr!==null&&Ta(mr)&&(mr=null),no.forEach(dp),ro.forEach(dp)}function Oi(t,e){t.blockedOn===e&&(t.blockedOn=null,Wu||(Wu=!0,Dt.unstable_scheduleCallback(Dt.unstable_NormalPriority,fx)))}function so(t){function e(s){return Oi(s,t)}if(0<Zo.length){Oi(Zo[0],t);for(var n=1;n<Zo.length;n++){var r=Zo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fr!==null&&Oi(fr,t),pr!==null&&Oi(pr,t),mr!==null&&Oi(mr,t),no.forEach(e),ro.forEach(e),n=0;n<lr.length;n++)r=lr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<lr.length&&(n=lr[0],n.blockedOn===null);)av(n),n.blockedOn===null&&lr.shift()}var zs=$n.ReactCurrentBatchConfig,$a=!0;function px(t,e,n,r){var s=de,i=zs.transition;zs.transition=null;try{de=1,fh(t,e,n,r)}finally{de=s,zs.transition=i}}function mx(t,e,n,r){var s=de,i=zs.transition;zs.transition=null;try{de=4,fh(t,e,n,r)}finally{de=s,zs.transition=i}}function fh(t,e,n,r){if($a){var s=$u(t,e,n,r);if(s===null)eu(t,e,r,qa,n),up(t,r);else if(hx(s,t,e,n,r))r.stopPropagation();else if(up(t,r),e&4&&-1<dx.indexOf(t)){for(;s!==null;){var i=Eo(s);if(i!==null&&rv(i),i=$u(t,e,n,r),i===null&&eu(t,e,r,qa,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else eu(t,e,r,null,n)}}var qa=null;function $u(t,e,n,r){if(qa=null,t=ch(r),t=zr(t),t!==null)if(e=us(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Xg(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qa=t,null}function lv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nx()){case uh:return 1;case Jg:return 4;case za:case rx:return 16;case ev:return 536870912;default:return 16}default:return 16}}var ur=null,ph=null,ka=null;function cv(){if(ka)return ka;var t,e=ph,n=e.length,r,s="value"in ur?ur.value:ur.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ka=s.slice(t,1<r?1-r:void 0)}function Ca(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jo(){return!0}function hp(){return!1}function Vt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Jo:hp,this.isPropagationStopped=hp,this}return Oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jo)},persist:function(){},isPersistent:Jo}),e}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mh=Vt(hi),Co=Oe({},hi,{view:0,detail:0}),gx=Vt(Co),qc,Hc,Pi,Vl=Oe({},Co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pi&&(Pi&&t.type==="mousemove"?(qc=t.screenX-Pi.screenX,Hc=t.screenY-Pi.screenY):Hc=qc=0,Pi=t),qc)},movementY:function(t){return"movementY"in t?t.movementY:Hc}}),fp=Vt(Vl),vx=Oe({},Vl,{dataTransfer:0}),yx=Vt(vx),_x=Oe({},Co,{relatedTarget:0}),Gc=Vt(_x),wx=Oe({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),xx=Vt(wx),Sx=Oe({},hi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bx=Vt(Sx),Tx=Oe({},hi,{data:0}),pp=Vt(Tx),kx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ex={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ex[t])?!!e[t]:!1}function gh(){return Nx}var Ax=Oe({},Co,{key:function(t){if(t.key){var e=kx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ca(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gh,charCode:function(t){return t.type==="keypress"?Ca(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ca(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ix=Vt(Ax),Ox=Oe({},Vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mp=Vt(Ox),Px=Oe({},Co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gh}),Rx=Vt(Px),Mx=Oe({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dx=Vt(Mx),Fx=Oe({},Vl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Lx=Vt(Fx),Vx=[9,13,27,32],vh=Fn&&"CompositionEvent"in window,Hi=null;Fn&&"documentMode"in document&&(Hi=document.documentMode);var jx=Fn&&"TextEvent"in window&&!Hi,uv=Fn&&(!vh||Hi&&8<Hi&&11>=Hi),gp=" ",vp=!1;function dv(t,e){switch(t){case"keyup":return Vx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Cs=!1;function Ux(t,e){switch(t){case"compositionend":return hv(e);case"keypress":return e.which!==32?null:(vp=!0,gp);case"textInput":return t=e.data,t===gp&&vp?null:t;default:return null}}function Bx(t,e){if(Cs)return t==="compositionend"||!vh&&dv(t,e)?(t=cv(),ka=ph=ur=null,Cs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uv&&e.locale!=="ko"?null:e.data;default:return null}}var zx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zx[t.type]:e==="textarea"}function fv(t,e,n,r){$g(r),e=Ha(e,"onChange"),0<e.length&&(n=new mh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Gi=null,io=null;function Wx(t){Tv(t,0)}function jl(t){var e=As(t);if(Lg(e))return t}function $x(t,e){if(t==="change")return e}var pv=!1;if(Fn){var Yc;if(Fn){var Xc="oninput"in document;if(!Xc){var _p=document.createElement("div");_p.setAttribute("oninput","return;"),Xc=typeof _p.oninput=="function"}Yc=Xc}else Yc=!1;pv=Yc&&(!document.documentMode||9<document.documentMode)}function wp(){Gi&&(Gi.detachEvent("onpropertychange",mv),io=Gi=null)}function mv(t){if(t.propertyName==="value"&&jl(io)){var e=[];fv(e,io,t,ch(t)),Yg(Wx,e)}}function qx(t,e,n){t==="focusin"?(wp(),Gi=e,io=n,Gi.attachEvent("onpropertychange",mv)):t==="focusout"&&wp()}function Hx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jl(io)}function Gx(t,e){if(t==="click")return jl(e)}function Yx(t,e){if(t==="input"||t==="change")return jl(e)}function Xx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rn=typeof Object.is=="function"?Object.is:Xx;function oo(t,e){if(rn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Cu.call(e,s)||!rn(t[s],e[s]))return!1}return!0}function xp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sp(t,e){var n=xp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xp(n)}}function gv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vv(){for(var t=window,e=ja();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ja(t.document)}return e}function yh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Kx(t){var e=vv(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&gv(n.ownerDocument.documentElement,n)){if(r!==null&&yh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Sp(n,i);var o=Sp(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Qx=Fn&&"documentMode"in document&&11>=document.documentMode,Es=null,qu=null,Yi=null,Hu=!1;function bp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hu||Es==null||Es!==ja(r)||(r=Es,"selectionStart"in r&&yh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yi&&oo(Yi,r)||(Yi=r,r=Ha(qu,"onSelect"),0<r.length&&(e=new mh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Es)))}function ea(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ns={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionend:ea("Transition","TransitionEnd")},Kc={},yv={};Fn&&(yv=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function Ul(t){if(Kc[t])return Kc[t];if(!Ns[t])return t;var e=Ns[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in yv)return Kc[t]=e[n];return t}var _v=Ul("animationend"),wv=Ul("animationiteration"),xv=Ul("animationstart"),Sv=Ul("transitionend"),bv=new Map,Tp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(t,e){bv.set(t,e),cs(e,[t])}for(var Qc=0;Qc<Tp.length;Qc++){var Zc=Tp[Qc],Zx=Zc.toLowerCase(),Jx=Zc[0].toUpperCase()+Zc.slice(1);Or(Zx,"on"+Jx)}Or(_v,"onAnimationEnd");Or(wv,"onAnimationIteration");Or(xv,"onAnimationStart");Or("dblclick","onDoubleClick");Or("focusin","onFocus");Or("focusout","onBlur");Or(Sv,"onTransitionEnd");Ks("onMouseEnter",["mouseout","mouseover"]);Ks("onMouseLeave",["mouseout","mouseover"]);Ks("onPointerEnter",["pointerout","pointerover"]);Ks("onPointerLeave",["pointerout","pointerover"]);cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cs("onBeforeInput",["compositionend","keypress","textInput","paste"]);cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eS=new Set("cancel close invalid load scroll toggle".split(" ").concat(zi));function kp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Z1(r,e,void 0,t),t.currentTarget=null}function Tv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;kp(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;kp(s,a,c),i=l}}}if(Ba)throw t=Bu,Ba=!1,Bu=null,t}function we(t,e){var n=e[Qu];n===void 0&&(n=e[Qu]=new Set);var r=t+"__bubble";n.has(r)||(kv(e,t,2,!1),n.add(r))}function Jc(t,e,n){var r=0;e&&(r|=4),kv(n,t,r,e)}var ta="_reactListening"+Math.random().toString(36).slice(2);function ao(t){if(!t[ta]){t[ta]=!0,Pg.forEach(function(n){n!=="selectionchange"&&(eS.has(n)||Jc(n,!1,t),Jc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ta]||(e[ta]=!0,Jc("selectionchange",!1,e))}}function kv(t,e,n,r){switch(lv(e)){case 1:var s=px;break;case 4:s=mx;break;default:s=fh}n=s.bind(null,e,n,t),s=void 0,!Uu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function eu(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=zr(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Yg(function(){var c=i,d=ch(n),u=[];e:{var h=bv.get(t);if(h!==void 0){var p=mh,m=t;switch(t){case"keypress":if(Ca(n)===0)break e;case"keydown":case"keyup":p=Ix;break;case"focusin":m="focus",p=Gc;break;case"focusout":m="blur",p=Gc;break;case"beforeblur":case"afterblur":p=Gc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=fp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=yx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Rx;break;case _v:case wv:case xv:p=xx;break;case Sv:p=Dx;break;case"scroll":p=gx;break;case"wheel":p=Lx;break;case"copy":case"cut":case"paste":p=bx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=mp}var f=(e&4)!==0,y=!f&&t==="scroll",g=f?h!==null?h+"Capture":null:h;f=[];for(var v=c,_;v!==null;){_=v;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,g!==null&&(x=to(v,g),x!=null&&f.push(lo(v,x,_)))),y)break;v=v.return}0<f.length&&(h=new p(h,m,null,n,d),u.push({event:h,listeners:f}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==Vu&&(m=n.relatedTarget||n.fromElement)&&(zr(m)||m[Ln]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?zr(m):null,m!==null&&(y=us(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(f=fp,x="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(f=mp,x="onPointerLeave",g="onPointerEnter",v="pointer"),y=p==null?h:As(p),_=m==null?h:As(m),h=new f(x,v+"leave",p,n,d),h.target=y,h.relatedTarget=_,x=null,zr(d)===c&&(f=new f(g,v+"enter",m,n,d),f.target=_,f.relatedTarget=y,x=f),y=x,p&&m)t:{for(f=p,g=m,v=0,_=f;_;_=ms(_))v++;for(_=0,x=g;x;x=ms(x))_++;for(;0<v-_;)f=ms(f),v--;for(;0<_-v;)g=ms(g),_--;for(;v--;){if(f===g||g!==null&&f===g.alternate)break t;f=ms(f),g=ms(g)}f=null}else f=null;p!==null&&Cp(u,h,p,f,!1),m!==null&&y!==null&&Cp(u,y,m,f,!0)}}e:{if(h=c?As(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=$x;else if(yp(h))if(pv)w=Yx;else{w=Hx;var k=qx}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=Gx);if(w&&(w=w(t,c))){fv(u,w,n,d);break e}k&&k(t,h,c),t==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&Ru(h,"number",h.value)}switch(k=c?As(c):window,t){case"focusin":(yp(k)||k.contentEditable==="true")&&(Es=k,qu=c,Yi=null);break;case"focusout":Yi=qu=Es=null;break;case"mousedown":Hu=!0;break;case"contextmenu":case"mouseup":case"dragend":Hu=!1,bp(u,n,d);break;case"selectionchange":if(Qx)break;case"keydown":case"keyup":bp(u,n,d)}var b;if(vh)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Cs?dv(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(uv&&n.locale!=="ko"&&(Cs||T!=="onCompositionStart"?T==="onCompositionEnd"&&Cs&&(b=cv()):(ur=d,ph="value"in ur?ur.value:ur.textContent,Cs=!0)),k=Ha(c,T),0<k.length&&(T=new pp(T,t,null,n,d),u.push({event:T,listeners:k}),b?T.data=b:(b=hv(n),b!==null&&(T.data=b)))),(b=jx?Ux(t,n):Bx(t,n))&&(c=Ha(c,"onBeforeInput"),0<c.length&&(d=new pp("onBeforeInput","beforeinput",null,n,d),u.push({event:d,listeners:c}),d.data=b))}Tv(u,e)})}function lo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ha(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=to(t,n),i!=null&&r.unshift(lo(t,i,s)),i=to(t,e),i!=null&&r.push(lo(t,i,s))),t=t.return}return r}function ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Cp(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=to(n,i),l!=null&&o.unshift(lo(n,l,a))):s||(l=to(n,i),l!=null&&o.push(lo(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var tS=/\r\n?/g,nS=/\u0000|\uFFFD/g;function Ep(t){return(typeof t=="string"?t:""+t).replace(tS,`
`).replace(nS,"")}function na(t,e,n){if(e=Ep(e),Ep(t)!==e&&n)throw Error(V(425))}function Ga(){}var Gu=null,Yu=null;function Xu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ku=typeof setTimeout=="function"?setTimeout:void 0,rS=typeof clearTimeout=="function"?clearTimeout:void 0,Np=typeof Promise=="function"?Promise:void 0,sS=typeof queueMicrotask=="function"?queueMicrotask:typeof Np<"u"?function(t){return Np.resolve(null).then(t).catch(iS)}:Ku;function iS(t){setTimeout(function(){throw t})}function tu(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),so(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);so(e)}function gr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ap(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fi=Math.random().toString(36).slice(2),mn="__reactFiber$"+fi,co="__reactProps$"+fi,Ln="__reactContainer$"+fi,Qu="__reactEvents$"+fi,oS="__reactListeners$"+fi,aS="__reactHandles$"+fi;function zr(t){var e=t[mn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ln]||n[mn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ap(t);t!==null;){if(n=t[mn])return n;t=Ap(t)}return e}t=n,n=t.parentNode}return null}function Eo(t){return t=t[mn]||t[Ln],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function As(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(V(33))}function Bl(t){return t[co]||null}var Zu=[],Is=-1;function Pr(t){return{current:t}}function xe(t){0>Is||(t.current=Zu[Is],Zu[Is]=null,Is--)}function me(t,e){Is++,Zu[Is]=t.current,t.current=e}var kr={},it=Pr(kr),xt=Pr(!1),Kr=kr;function Qs(t,e){var n=t.type.contextTypes;if(!n)return kr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function St(t){return t=t.childContextTypes,t!=null}function Ya(){xe(xt),xe(it)}function Ip(t,e,n){if(it.current!==kr)throw Error(V(168));me(it,e),me(xt,n)}function Cv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(V(108,q1(t)||"Unknown",s));return Oe({},n,r)}function Xa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||kr,Kr=it.current,me(it,t),me(xt,xt.current),!0}function Op(t,e,n){var r=t.stateNode;if(!r)throw Error(V(169));n?(t=Cv(t,e,Kr),r.__reactInternalMemoizedMergedChildContext=t,xe(xt),xe(it),me(it,t)):xe(xt),me(xt,n)}var On=null,zl=!1,nu=!1;function Ev(t){On===null?On=[t]:On.push(t)}function lS(t){zl=!0,Ev(t)}function Rr(){if(!nu&&On!==null){nu=!0;var t=0,e=de;try{var n=On;for(de=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}On=null,zl=!1}catch(s){throw On!==null&&(On=On.slice(t+1)),Zg(uh,Rr),s}finally{de=e,nu=!1}}return null}var Os=[],Ps=0,Ka=null,Qa=0,Bt=[],zt=0,Qr=null,Pn=1,Rn="";function jr(t,e){Os[Ps++]=Qa,Os[Ps++]=Ka,Ka=t,Qa=e}function Nv(t,e,n){Bt[zt++]=Pn,Bt[zt++]=Rn,Bt[zt++]=Qr,Qr=t;var r=Pn;t=Rn;var s=32-tn(r)-1;r&=~(1<<s),n+=1;var i=32-tn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Pn=1<<32-tn(e)+s|n<<s|r,Rn=i+t}else Pn=1<<i|n<<s|r,Rn=t}function _h(t){t.return!==null&&(jr(t,1),Nv(t,1,0))}function wh(t){for(;t===Ka;)Ka=Os[--Ps],Os[Ps]=null,Qa=Os[--Ps],Os[Ps]=null;for(;t===Qr;)Qr=Bt[--zt],Bt[zt]=null,Rn=Bt[--zt],Bt[zt]=null,Pn=Bt[--zt],Bt[zt]=null}var Pt=null,It=null,Ee=!1,Zt=null;function Av(t,e){var n=Wt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Pp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pt=t,It=gr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pt=t,It=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Qr!==null?{id:Pn,overflow:Rn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pt=t,It=null,!0):!1;default:return!1}}function Ju(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ed(t){if(Ee){var e=It;if(e){var n=e;if(!Pp(t,e)){if(Ju(t))throw Error(V(418));e=gr(n.nextSibling);var r=Pt;e&&Pp(t,e)?Av(r,n):(t.flags=t.flags&-4097|2,Ee=!1,Pt=t)}}else{if(Ju(t))throw Error(V(418));t.flags=t.flags&-4097|2,Ee=!1,Pt=t}}}function Rp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pt=t}function ra(t){if(t!==Pt)return!1;if(!Ee)return Rp(t),Ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xu(t.type,t.memoizedProps)),e&&(e=It)){if(Ju(t))throw Iv(),Error(V(418));for(;e;)Av(t,e),e=gr(e.nextSibling)}if(Rp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(V(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){It=gr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}It=null}}else It=Pt?gr(t.stateNode.nextSibling):null;return!0}function Iv(){for(var t=It;t;)t=gr(t.nextSibling)}function Zs(){It=Pt=null,Ee=!1}function xh(t){Zt===null?Zt=[t]:Zt.push(t)}var cS=$n.ReactCurrentBatchConfig;function Ri(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,t))}return t}function sa(t,e){throw t=Object.prototype.toString.call(e),Error(V(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Mp(t){var e=t._init;return e(t._payload)}function Ov(t){function e(g,v){if(t){var _=g.deletions;_===null?(g.deletions=[v],g.flags|=16):_.push(v)}}function n(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=wr(g,v),g.index=0,g.sibling=null,g}function i(g,v,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<v?(g.flags|=2,v):_):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,v,_,x){return v===null||v.tag!==6?(v=cu(_,g.mode,x),v.return=g,v):(v=s(v,_),v.return=g,v)}function l(g,v,_,x){var w=_.type;return w===ks?d(g,v,_.props.children,x,_.key):v!==null&&(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ir&&Mp(w)===v.type)?(x=s(v,_.props),x.ref=Ri(g,v,_),x.return=g,x):(x=Ra(_.type,_.key,_.props,null,g.mode,x),x.ref=Ri(g,v,_),x.return=g,x)}function c(g,v,_,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=uu(_,g.mode,x),v.return=g,v):(v=s(v,_.children||[]),v.return=g,v)}function d(g,v,_,x,w){return v===null||v.tag!==7?(v=Yr(_,g.mode,x,w),v.return=g,v):(v=s(v,_),v.return=g,v)}function u(g,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=cu(""+v,g.mode,_),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Go:return _=Ra(v.type,v.key,v.props,null,g.mode,_),_.ref=Ri(g,null,v),_.return=g,_;case Ts:return v=uu(v,g.mode,_),v.return=g,v;case ir:var x=v._init;return u(g,x(v._payload),_)}if(Ui(v)||Ni(v))return v=Yr(v,g.mode,_,null),v.return=g,v;sa(g,v)}return null}function h(g,v,_,x){var w=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return w!==null?null:a(g,v,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Go:return _.key===w?l(g,v,_,x):null;case Ts:return _.key===w?c(g,v,_,x):null;case ir:return w=_._init,h(g,v,w(_._payload),x)}if(Ui(_)||Ni(_))return w!==null?null:d(g,v,_,x,null);sa(g,_)}return null}function p(g,v,_,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(_)||null,a(v,g,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Go:return g=g.get(x.key===null?_:x.key)||null,l(v,g,x,w);case Ts:return g=g.get(x.key===null?_:x.key)||null,c(v,g,x,w);case ir:var k=x._init;return p(g,v,_,k(x._payload),w)}if(Ui(x)||Ni(x))return g=g.get(_)||null,d(v,g,x,w,null);sa(v,x)}return null}function m(g,v,_,x){for(var w=null,k=null,b=v,T=v=0,N=null;b!==null&&T<_.length;T++){b.index>T?(N=b,b=null):N=b.sibling;var E=h(g,b,_[T],x);if(E===null){b===null&&(b=N);break}t&&b&&E.alternate===null&&e(g,b),v=i(E,v,T),k===null?w=E:k.sibling=E,k=E,b=N}if(T===_.length)return n(g,b),Ee&&jr(g,T),w;if(b===null){for(;T<_.length;T++)b=u(g,_[T],x),b!==null&&(v=i(b,v,T),k===null?w=b:k.sibling=b,k=b);return Ee&&jr(g,T),w}for(b=r(g,b);T<_.length;T++)N=p(b,g,T,_[T],x),N!==null&&(t&&N.alternate!==null&&b.delete(N.key===null?T:N.key),v=i(N,v,T),k===null?w=N:k.sibling=N,k=N);return t&&b.forEach(function(I){return e(g,I)}),Ee&&jr(g,T),w}function f(g,v,_,x){var w=Ni(_);if(typeof w!="function")throw Error(V(150));if(_=w.call(_),_==null)throw Error(V(151));for(var k=w=null,b=v,T=v=0,N=null,E=_.next();b!==null&&!E.done;T++,E=_.next()){b.index>T?(N=b,b=null):N=b.sibling;var I=h(g,b,E.value,x);if(I===null){b===null&&(b=N);break}t&&b&&I.alternate===null&&e(g,b),v=i(I,v,T),k===null?w=I:k.sibling=I,k=I,b=N}if(E.done)return n(g,b),Ee&&jr(g,T),w;if(b===null){for(;!E.done;T++,E=_.next())E=u(g,E.value,x),E!==null&&(v=i(E,v,T),k===null?w=E:k.sibling=E,k=E);return Ee&&jr(g,T),w}for(b=r(g,b);!E.done;T++,E=_.next())E=p(b,g,T,E.value,x),E!==null&&(t&&E.alternate!==null&&b.delete(E.key===null?T:E.key),v=i(E,v,T),k===null?w=E:k.sibling=E,k=E);return t&&b.forEach(function(A){return e(g,A)}),Ee&&jr(g,T),w}function y(g,v,_,x){if(typeof _=="object"&&_!==null&&_.type===ks&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Go:e:{for(var w=_.key,k=v;k!==null;){if(k.key===w){if(w=_.type,w===ks){if(k.tag===7){n(g,k.sibling),v=s(k,_.props.children),v.return=g,g=v;break e}}else if(k.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ir&&Mp(w)===k.type){n(g,k.sibling),v=s(k,_.props),v.ref=Ri(g,k,_),v.return=g,g=v;break e}n(g,k);break}else e(g,k);k=k.sibling}_.type===ks?(v=Yr(_.props.children,g.mode,x,_.key),v.return=g,g=v):(x=Ra(_.type,_.key,_.props,null,g.mode,x),x.ref=Ri(g,v,_),x.return=g,g=x)}return o(g);case Ts:e:{for(k=_.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(g,v.sibling),v=s(v,_.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else e(g,v);v=v.sibling}v=uu(_,g.mode,x),v.return=g,g=v}return o(g);case ir:return k=_._init,y(g,v,k(_._payload),x)}if(Ui(_))return m(g,v,_,x);if(Ni(_))return f(g,v,_,x);sa(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(g,v.sibling),v=s(v,_),v.return=g,g=v):(n(g,v),v=cu(_,g.mode,x),v.return=g,g=v),o(g)):n(g,v)}return y}var Js=Ov(!0),Pv=Ov(!1),Za=Pr(null),Ja=null,Rs=null,Sh=null;function bh(){Sh=Rs=Ja=null}function Th(t){var e=Za.current;xe(Za),t._currentValue=e}function td(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ws(t,e){Ja=t,Sh=Rs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_t=!0),t.firstContext=null)}function Ht(t){var e=t._currentValue;if(Sh!==t)if(t={context:t,memoizedValue:e,next:null},Rs===null){if(Ja===null)throw Error(V(308));Rs=t,Ja.dependencies={lanes:0,firstContext:t}}else Rs=Rs.next=t;return e}var Wr=null;function kh(t){Wr===null?Wr=[t]:Wr.push(t)}function Rv(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,kh(e)):(n.next=s.next,s.next=n),e.interleaved=n,Vn(t,r)}function Vn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var or=!1;function Ch(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Vn(t,n)}return s=r.interleaved,s===null?(e.next=e,kh(r)):(e.next=s.next,s.next=e),r.interleaved=e,Vn(t,n)}function Ea(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dh(t,n)}}function Dp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function el(t,e,n,r){var s=t.updateQueue;or=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var u=s.baseState;o=0,d=c=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,f=a;switch(h=e,p=n,f.tag){case 1:if(m=f.payload,typeof m=="function"){u=m.call(p,u,h);break e}u=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=f.payload,h=typeof m=="function"?m.call(p,u,h):m,h==null)break e;u=Oe({},u,h);break e;case 2:or=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,l=u):d=d.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=u),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Jr|=o,t.lanes=o,t.memoizedState=u}}function Fp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(V(191,s));s.call(r)}}}var No={},yn=Pr(No),uo=Pr(No),ho=Pr(No);function $r(t){if(t===No)throw Error(V(174));return t}function Eh(t,e){switch(me(ho,e),me(uo,t),me(yn,No),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Du(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Du(e,t)}xe(yn),me(yn,e)}function ei(){xe(yn),xe(uo),xe(ho)}function Dv(t){$r(ho.current);var e=$r(yn.current),n=Du(e,t.type);e!==n&&(me(uo,t),me(yn,n))}function Nh(t){uo.current===t&&(xe(yn),xe(uo))}var Ae=Pr(0);function tl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ru=[];function Ah(){for(var t=0;t<ru.length;t++)ru[t]._workInProgressVersionPrimary=null;ru.length=0}var Na=$n.ReactCurrentDispatcher,su=$n.ReactCurrentBatchConfig,Zr=0,Ie=null,ze=null,Ge=null,nl=!1,Xi=!1,fo=0,uS=0;function tt(){throw Error(V(321))}function Ih(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!rn(t[n],e[n]))return!1;return!0}function Oh(t,e,n,r,s,i){if(Zr=i,Ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Na.current=t===null||t.memoizedState===null?pS:mS,t=n(r,s),Xi){i=0;do{if(Xi=!1,fo=0,25<=i)throw Error(V(301));i+=1,Ge=ze=null,e.updateQueue=null,Na.current=gS,t=n(r,s)}while(Xi)}if(Na.current=rl,e=ze!==null&&ze.next!==null,Zr=0,Ge=ze=Ie=null,nl=!1,e)throw Error(V(300));return t}function Ph(){var t=fo!==0;return fo=0,t}function pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Ie.memoizedState=Ge=t:Ge=Ge.next=t,Ge}function Gt(){if(ze===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var e=Ge===null?Ie.memoizedState:Ge.next;if(e!==null)Ge=e,ze=t;else{if(t===null)throw Error(V(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Ge===null?Ie.memoizedState=Ge=t:Ge=Ge.next=t}return Ge}function po(t,e){return typeof e=="function"?e(t):e}function iu(t){var e=Gt(),n=e.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=t;var r=ze,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Zr&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=u,o=r):l=l.next=u,Ie.lanes|=d,Jr|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,rn(r,e.memoizedState)||(_t=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ie.lanes|=i,Jr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ou(t){var e=Gt(),n=e.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);rn(i,e.memoizedState)||(_t=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Fv(){}function Lv(t,e){var n=Ie,r=Gt(),s=e(),i=!rn(r.memoizedState,s);if(i&&(r.memoizedState=s,_t=!0),r=r.queue,Rh(Uv.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ge!==null&&Ge.memoizedState.tag&1){if(n.flags|=2048,mo(9,jv.bind(null,n,r,s,e),void 0,null),Ye===null)throw Error(V(349));Zr&30||Vv(n,e,s)}return s}function Vv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function jv(t,e,n,r){e.value=n,e.getSnapshot=r,Bv(e)&&zv(t)}function Uv(t,e,n){return n(function(){Bv(e)&&zv(t)})}function Bv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!rn(t,n)}catch{return!0}}function zv(t){var e=Vn(t,1);e!==null&&nn(e,t,1,-1)}function Lp(t){var e=pn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:t},e.queue=t,t=t.dispatch=fS.bind(null,Ie,t),[e.memoizedState,t]}function mo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Wv(){return Gt().memoizedState}function Aa(t,e,n,r){var s=pn();Ie.flags|=t,s.memoizedState=mo(1|e,n,void 0,r===void 0?null:r)}function Wl(t,e,n,r){var s=Gt();r=r===void 0?null:r;var i=void 0;if(ze!==null){var o=ze.memoizedState;if(i=o.destroy,r!==null&&Ih(r,o.deps)){s.memoizedState=mo(e,n,i,r);return}}Ie.flags|=t,s.memoizedState=mo(1|e,n,i,r)}function Vp(t,e){return Aa(8390656,8,t,e)}function Rh(t,e){return Wl(2048,8,t,e)}function $v(t,e){return Wl(4,2,t,e)}function qv(t,e){return Wl(4,4,t,e)}function Hv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Gv(t,e,n){return n=n!=null?n.concat([t]):null,Wl(4,4,Hv.bind(null,e,t),n)}function Mh(){}function Yv(t,e){var n=Gt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ih(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Xv(t,e){var n=Gt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ih(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Kv(t,e,n){return Zr&21?(rn(n,e)||(n=tv(),Ie.lanes|=n,Jr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_t=!0),t.memoizedState=n)}function dS(t,e){var n=de;de=n!==0&&4>n?n:4,t(!0);var r=su.transition;su.transition={};try{t(!1),e()}finally{de=n,su.transition=r}}function Qv(){return Gt().memoizedState}function hS(t,e,n){var r=_r(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zv(t))Jv(e,n);else if(n=Rv(t,e,n,r),n!==null){var s=dt();nn(n,t,r,s),ey(n,e,r)}}function fS(t,e,n){var r=_r(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zv(t))Jv(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,rn(a,o)){var l=e.interleaved;l===null?(s.next=s,kh(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Rv(t,e,s,r),n!==null&&(s=dt(),nn(n,t,r,s),ey(n,e,r))}}function Zv(t){var e=t.alternate;return t===Ie||e!==null&&e===Ie}function Jv(t,e){Xi=nl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ey(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dh(t,n)}}var rl={readContext:Ht,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},pS={readContext:Ht,useCallback:function(t,e){return pn().memoizedState=[t,e===void 0?null:e],t},useContext:Ht,useEffect:Vp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Aa(4194308,4,Hv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Aa(4194308,4,t,e)},useInsertionEffect:function(t,e){return Aa(4,2,t,e)},useMemo:function(t,e){var n=pn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=pn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=hS.bind(null,Ie,t),[r.memoizedState,t]},useRef:function(t){var e=pn();return t={current:t},e.memoizedState=t},useState:Lp,useDebugValue:Mh,useDeferredValue:function(t){return pn().memoizedState=t},useTransition:function(){var t=Lp(!1),e=t[0];return t=dS.bind(null,t[1]),pn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ie,s=pn();if(Ee){if(n===void 0)throw Error(V(407));n=n()}else{if(n=e(),Ye===null)throw Error(V(349));Zr&30||Vv(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Vp(Uv.bind(null,r,i,t),[t]),r.flags|=2048,mo(9,jv.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=pn(),e=Ye.identifierPrefix;if(Ee){var n=Rn,r=Pn;n=(r&~(1<<32-tn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=fo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=uS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mS={readContext:Ht,useCallback:Yv,useContext:Ht,useEffect:Rh,useImperativeHandle:Gv,useInsertionEffect:$v,useLayoutEffect:qv,useMemo:Xv,useReducer:iu,useRef:Wv,useState:function(){return iu(po)},useDebugValue:Mh,useDeferredValue:function(t){var e=Gt();return Kv(e,ze.memoizedState,t)},useTransition:function(){var t=iu(po)[0],e=Gt().memoizedState;return[t,e]},useMutableSource:Fv,useSyncExternalStore:Lv,useId:Qv,unstable_isNewReconciler:!1},gS={readContext:Ht,useCallback:Yv,useContext:Ht,useEffect:Rh,useImperativeHandle:Gv,useInsertionEffect:$v,useLayoutEffect:qv,useMemo:Xv,useReducer:ou,useRef:Wv,useState:function(){return ou(po)},useDebugValue:Mh,useDeferredValue:function(t){var e=Gt();return ze===null?e.memoizedState=t:Kv(e,ze.memoizedState,t)},useTransition:function(){var t=ou(po)[0],e=Gt().memoizedState;return[t,e]},useMutableSource:Fv,useSyncExternalStore:Lv,useId:Qv,unstable_isNewReconciler:!1};function Kt(t,e){if(t&&t.defaultProps){e=Oe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function nd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $l={isMounted:function(t){return(t=t._reactInternals)?us(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=dt(),s=_r(t),i=Mn(r,s);i.payload=e,n!=null&&(i.callback=n),e=vr(t,i,s),e!==null&&(nn(e,t,s,r),Ea(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=dt(),s=_r(t),i=Mn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=vr(t,i,s),e!==null&&(nn(e,t,s,r),Ea(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dt(),r=_r(t),s=Mn(n,r);s.tag=2,e!=null&&(s.callback=e),e=vr(t,s,r),e!==null&&(nn(e,t,r,n),Ea(e,t,r))}};function jp(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!oo(n,r)||!oo(s,i):!0}function ty(t,e,n){var r=!1,s=kr,i=e.contextType;return typeof i=="object"&&i!==null?i=Ht(i):(s=St(e)?Kr:it.current,r=e.contextTypes,i=(r=r!=null)?Qs(t,s):kr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$l,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Up(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$l.enqueueReplaceState(e,e.state,null)}function rd(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ch(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ht(i):(i=St(e)?Kr:it.current,s.context=Qs(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(nd(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&$l.enqueueReplaceState(s,s.state,null),el(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ti(t,e){try{var n="",r=e;do n+=$1(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function au(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function sd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var vS=typeof WeakMap=="function"?WeakMap:Map;function ny(t,e,n){n=Mn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){il||(il=!0,pd=r),sd(t,e)},n}function ry(t,e,n){n=Mn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){sd(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){sd(t,e),typeof r!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Bp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new vS;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=OS.bind(null,t,e,n),e.then(t,t))}function zp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Wp(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mn(-1,1),e.tag=2,vr(n,e,1))),n.lanes|=1),t)}var yS=$n.ReactCurrentOwner,_t=!1;function lt(t,e,n,r){e.child=t===null?Pv(e,null,n,r):Js(e,t.child,n,r)}function $p(t,e,n,r,s){n=n.render;var i=e.ref;return Ws(e,s),r=Oh(t,e,n,r,i,s),n=Ph(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jn(t,e,s)):(Ee&&n&&_h(e),e.flags|=1,lt(t,e,r,s),e.child)}function qp(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!zh(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,sy(t,e,i,r,s)):(t=Ra(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:oo,n(o,r)&&t.ref===e.ref)return jn(t,e,s)}return e.flags|=1,t=wr(i,r),t.ref=e.ref,t.return=e,e.child=t}function sy(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(oo(i,r)&&t.ref===e.ref)if(_t=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(_t=!0);else return e.lanes=t.lanes,jn(t,e,s)}return id(t,e,n,r,s)}function iy(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(Ds,Et),Et|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,me(Ds,Et),Et|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,me(Ds,Et),Et|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,me(Ds,Et),Et|=r;return lt(t,e,s,n),e.child}function oy(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function id(t,e,n,r,s){var i=St(n)?Kr:it.current;return i=Qs(e,i),Ws(e,s),n=Oh(t,e,n,r,i,s),r=Ph(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jn(t,e,s)):(Ee&&r&&_h(e),e.flags|=1,lt(t,e,n,s),e.child)}function Hp(t,e,n,r,s){if(St(n)){var i=!0;Xa(e)}else i=!1;if(Ws(e,s),e.stateNode===null)Ia(t,e),ty(e,n,r),rd(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ht(c):(c=St(n)?Kr:it.current,c=Qs(e,c));var d=n.getDerivedStateFromProps,u=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Up(e,o,r,c),or=!1;var h=e.memoizedState;o.state=h,el(e,r,o,s),l=e.memoizedState,a!==r||h!==l||xt.current||or?(typeof d=="function"&&(nd(e,n,d,r),l=e.memoizedState),(a=or||jp(e,n,a,r,h,l,c))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Mv(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Kt(e.type,a),o.props=c,u=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ht(l):(l=St(n)?Kr:it.current,l=Qs(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==u||h!==l)&&Up(e,o,r,l),or=!1,h=e.memoizedState,o.state=h,el(e,r,o,s);var m=e.memoizedState;a!==u||h!==m||xt.current||or?(typeof p=="function"&&(nd(e,n,p,r),m=e.memoizedState),(c=or||jp(e,n,c,r,h,m,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return od(t,e,n,r,i,s)}function od(t,e,n,r,s,i){oy(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Op(e,n,!1),jn(t,e,i);r=e.stateNode,yS.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Js(e,t.child,null,i),e.child=Js(e,null,a,i)):lt(t,e,a,i),e.memoizedState=r.state,s&&Op(e,n,!0),e.child}function ay(t){var e=t.stateNode;e.pendingContext?Ip(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ip(t,e.context,!1),Eh(t,e.containerInfo)}function Gp(t,e,n,r,s){return Zs(),xh(s),e.flags|=256,lt(t,e,n,r),e.child}var ad={dehydrated:null,treeContext:null,retryLane:0};function ld(t){return{baseLanes:t,cachePool:null,transitions:null}}function ly(t,e,n){var r=e.pendingProps,s=Ae.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),me(Ae,s&1),t===null)return ed(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Gl(o,r,0,null),t=Yr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ld(n),e.memoizedState=ad,t):Dh(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return _S(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=wr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=wr(a,i):(i=Yr(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?ld(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=ad,r}return i=t.child,t=i.sibling,r=wr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Dh(t,e){return e=Gl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ia(t,e,n,r){return r!==null&&xh(r),Js(e,t.child,null,n),t=Dh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _S(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=au(Error(V(422))),ia(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Gl({mode:"visible",children:r.children},s,0,null),i=Yr(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Js(e,t.child,null,o),e.child.memoizedState=ld(o),e.memoizedState=ad,i);if(!(e.mode&1))return ia(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(V(419)),r=au(i,r,void 0),ia(t,e,o,r)}if(a=(o&t.childLanes)!==0,_t||a){if(r=Ye,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Vn(t,s),nn(r,t,s,-1))}return Bh(),r=au(Error(V(421))),ia(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=PS.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,It=gr(s.nextSibling),Pt=e,Ee=!0,Zt=null,t!==null&&(Bt[zt++]=Pn,Bt[zt++]=Rn,Bt[zt++]=Qr,Pn=t.id,Rn=t.overflow,Qr=e),e=Dh(e,r.children),e.flags|=4096,e)}function Yp(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),td(t.return,e,n)}function lu(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function cy(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(lt(t,e,r.children,n),r=Ae.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yp(t,n,e);else if(t.tag===19)Yp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(me(Ae,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&tl(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),lu(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&tl(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}lu(e,!0,n,null,i);break;case"together":lu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ia(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function jn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Jr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(V(153));if(e.child!==null){for(t=e.child,n=wr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wS(t,e,n){switch(e.tag){case 3:ay(e),Zs();break;case 5:Dv(e);break;case 1:St(e.type)&&Xa(e);break;case 4:Eh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;me(Za,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(me(Ae,Ae.current&1),e.flags|=128,null):n&e.child.childLanes?ly(t,e,n):(me(Ae,Ae.current&1),t=jn(t,e,n),t!==null?t.sibling:null);me(Ae,Ae.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return cy(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),me(Ae,Ae.current),r)break;return null;case 22:case 23:return e.lanes=0,iy(t,e,n)}return jn(t,e,n)}var uy,cd,dy,hy;uy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cd=function(){};dy=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,$r(yn.current);var i=null;switch(n){case"input":s=Ou(t,s),r=Ou(t,r),i=[];break;case"select":s=Oe({},s,{value:void 0}),r=Oe({},r,{value:void 0}),i=[];break;case"textarea":s=Mu(t,s),r=Mu(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ga)}Fu(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ji.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ji.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&we("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};hy=function(t,e,n,r){n!==r&&(e.flags|=4)};function Mi(t,e){if(!Ee)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function nt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function xS(t,e,n){var r=e.pendingProps;switch(wh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(e),null;case 1:return St(e.type)&&Ya(),nt(e),null;case 3:return r=e.stateNode,ei(),xe(xt),xe(it),Ah(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ra(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zt!==null&&(vd(Zt),Zt=null))),cd(t,e),nt(e),null;case 5:Nh(e);var s=$r(ho.current);if(n=e.type,t!==null&&e.stateNode!=null)dy(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(V(166));return nt(e),null}if(t=$r(yn.current),ra(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[mn]=e,r[co]=i,t=(e.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(s=0;s<zi.length;s++)we(zi[s],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":rp(r,i),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},we("invalid",r);break;case"textarea":ip(r,i),we("invalid",r)}Fu(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&na(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&na(r.textContent,a,t),s=["children",""+a]):Ji.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&we("scroll",r)}switch(n){case"input":Yo(r),sp(r,i,!0);break;case"textarea":Yo(r),op(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ga)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ug(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[mn]=e,t[co]=r,uy(t,e,!1,!1),e.stateNode=t;e:{switch(o=Lu(n,r),n){case"dialog":we("cancel",t),we("close",t),s=r;break;case"iframe":case"object":case"embed":we("load",t),s=r;break;case"video":case"audio":for(s=0;s<zi.length;s++)we(zi[s],t);s=r;break;case"source":we("error",t),s=r;break;case"img":case"image":case"link":we("error",t),we("load",t),s=r;break;case"details":we("toggle",t),s=r;break;case"input":rp(t,r),s=Ou(t,r),we("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Oe({},r,{value:void 0}),we("invalid",t);break;case"textarea":ip(t,r),s=Mu(t,r),we("invalid",t);break;default:s=r}Fu(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Wg(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Bg(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&eo(t,l):typeof l=="number"&&eo(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ji.hasOwnProperty(i)?l!=null&&i==="onScroll"&&we("scroll",t):l!=null&&ih(t,i,l,o))}switch(n){case"input":Yo(t),sp(t,r,!1);break;case"textarea":Yo(t),op(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Tr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?js(t,!!r.multiple,i,!1):r.defaultValue!=null&&js(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ga)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nt(e),null;case 6:if(t&&e.stateNode!=null)hy(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(V(166));if(n=$r(ho.current),$r(yn.current),ra(e)){if(r=e.stateNode,n=e.memoizedProps,r[mn]=e,(i=r.nodeValue!==n)&&(t=Pt,t!==null))switch(t.tag){case 3:na(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&na(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mn]=e,e.stateNode=r}return nt(e),null;case 13:if(xe(Ae),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ee&&It!==null&&e.mode&1&&!(e.flags&128))Iv(),Zs(),e.flags|=98560,i=!1;else if(i=ra(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(V(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(V(317));i[mn]=e}else Zs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;nt(e),i=!1}else Zt!==null&&(vd(Zt),Zt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ae.current&1?$e===0&&($e=3):Bh())),e.updateQueue!==null&&(e.flags|=4),nt(e),null);case 4:return ei(),cd(t,e),t===null&&ao(e.stateNode.containerInfo),nt(e),null;case 10:return Th(e.type._context),nt(e),null;case 17:return St(e.type)&&Ya(),nt(e),null;case 19:if(xe(Ae),i=e.memoizedState,i===null)return nt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Mi(i,!1);else{if($e!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=tl(t),o!==null){for(e.flags|=128,Mi(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return me(Ae,Ae.current&1|2),e.child}t=t.sibling}i.tail!==null&&Le()>ni&&(e.flags|=128,r=!0,Mi(i,!1),e.lanes=4194304)}else{if(!r)if(t=tl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Mi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ee)return nt(e),null}else 2*Le()-i.renderingStartTime>ni&&n!==1073741824&&(e.flags|=128,r=!0,Mi(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Le(),e.sibling=null,n=Ae.current,me(Ae,r?n&1|2:n&1),e):(nt(e),null);case 22:case 23:return Uh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Et&1073741824&&(nt(e),e.subtreeFlags&6&&(e.flags|=8192)):nt(e),null;case 24:return null;case 25:return null}throw Error(V(156,e.tag))}function SS(t,e){switch(wh(e),e.tag){case 1:return St(e.type)&&Ya(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ei(),xe(xt),xe(it),Ah(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Nh(e),null;case 13:if(xe(Ae),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(V(340));Zs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xe(Ae),null;case 4:return ei(),null;case 10:return Th(e.type._context),null;case 22:case 23:return Uh(),null;case 24:return null;default:return null}}var oa=!1,rt=!1,bS=typeof WeakSet=="function"?WeakSet:Set,W=null;function Ms(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Re(t,e,r)}else n.current=null}function ud(t,e,n){try{n()}catch(r){Re(t,e,r)}}var Xp=!1;function TS(t,e){if(Gu=$a,t=vv(),yh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,u=t,h=null;t:for(;;){for(var p;u!==n||s!==0&&u.nodeType!==3||(a=o+s),u!==i||r!==0&&u.nodeType!==3||(l=o+r),u.nodeType===3&&(o+=u.nodeValue.length),(p=u.firstChild)!==null;)h=u,u=p;for(;;){if(u===t)break t;if(h===n&&++c===s&&(a=o),h===i&&++d===r&&(l=o),(p=u.nextSibling)!==null)break;u=h,h=u.parentNode}u=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yu={focusedElem:t,selectionRange:n},$a=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var f=m.memoizedProps,y=m.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?f:Kt(e.type,f),y);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(x){Re(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return m=Xp,Xp=!1,m}function Ki(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ud(e,n,i)}s=s.next}while(s!==r)}}function ql(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function dd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function fy(t){var e=t.alternate;e!==null&&(t.alternate=null,fy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[mn],delete e[co],delete e[Qu],delete e[oS],delete e[aS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function py(t){return t.tag===5||t.tag===3||t.tag===4}function Kp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||py(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ga));else if(r!==4&&(t=t.child,t!==null))for(hd(t,e,n),t=t.sibling;t!==null;)hd(t,e,n),t=t.sibling}function fd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(fd(t,e,n),t=t.sibling;t!==null;)fd(t,e,n),t=t.sibling}var Qe=null,Qt=!1;function Qn(t,e,n){for(n=n.child;n!==null;)my(t,e,n),n=n.sibling}function my(t,e,n){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(Ll,n)}catch{}switch(n.tag){case 5:rt||Ms(n,e);case 6:var r=Qe,s=Qt;Qe=null,Qn(t,e,n),Qe=r,Qt=s,Qe!==null&&(Qt?(t=Qe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Qe.removeChild(n.stateNode));break;case 18:Qe!==null&&(Qt?(t=Qe,n=n.stateNode,t.nodeType===8?tu(t.parentNode,n):t.nodeType===1&&tu(t,n),so(t)):tu(Qe,n.stateNode));break;case 4:r=Qe,s=Qt,Qe=n.stateNode.containerInfo,Qt=!0,Qn(t,e,n),Qe=r,Qt=s;break;case 0:case 11:case 14:case 15:if(!rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ud(n,e,o),s=s.next}while(s!==r)}Qn(t,e,n);break;case 1:if(!rt&&(Ms(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Re(n,e,a)}Qn(t,e,n);break;case 21:Qn(t,e,n);break;case 22:n.mode&1?(rt=(r=rt)||n.memoizedState!==null,Qn(t,e,n),rt=r):Qn(t,e,n);break;default:Qn(t,e,n)}}function Qp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new bS),e.forEach(function(r){var s=RS.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Yt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Qe=a.stateNode,Qt=!1;break e;case 3:Qe=a.stateNode.containerInfo,Qt=!0;break e;case 4:Qe=a.stateNode.containerInfo,Qt=!0;break e}a=a.return}if(Qe===null)throw Error(V(160));my(i,o,s),Qe=null,Qt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Re(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gy(e,t),e=e.sibling}function gy(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yt(e,t),fn(t),r&4){try{Ki(3,t,t.return),ql(3,t)}catch(f){Re(t,t.return,f)}try{Ki(5,t,t.return)}catch(f){Re(t,t.return,f)}}break;case 1:Yt(e,t),fn(t),r&512&&n!==null&&Ms(n,n.return);break;case 5:if(Yt(e,t),fn(t),r&512&&n!==null&&Ms(n,n.return),t.flags&32){var s=t.stateNode;try{eo(s,"")}catch(f){Re(t,t.return,f)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Vg(s,i),Lu(a,o);var c=Lu(a,i);for(o=0;o<l.length;o+=2){var d=l[o],u=l[o+1];d==="style"?Wg(s,u):d==="dangerouslySetInnerHTML"?Bg(s,u):d==="children"?eo(s,u):ih(s,d,u,c)}switch(a){case"input":Pu(s,i);break;case"textarea":jg(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?js(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?js(s,!!i.multiple,i.defaultValue,!0):js(s,!!i.multiple,i.multiple?[]:"",!1))}s[co]=i}catch(f){Re(t,t.return,f)}}break;case 6:if(Yt(e,t),fn(t),r&4){if(t.stateNode===null)throw Error(V(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(f){Re(t,t.return,f)}}break;case 3:if(Yt(e,t),fn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{so(e.containerInfo)}catch(f){Re(t,t.return,f)}break;case 4:Yt(e,t),fn(t);break;case 13:Yt(e,t),fn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Vh=Le())),r&4&&Qp(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(rt=(c=rt)||d,Yt(e,t),rt=c):Yt(e,t),fn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(W=t,d=t.child;d!==null;){for(u=W=d;W!==null;){switch(h=W,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ki(4,h,h.return);break;case 1:Ms(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(f){Re(r,n,f)}}break;case 5:Ms(h,h.return);break;case 22:if(h.memoizedState!==null){Jp(u);continue}}p!==null?(p.return=h,W=p):Jp(u)}d=d.sibling}e:for(d=null,u=t;;){if(u.tag===5){if(d===null){d=u;try{s=u.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=u.stateNode,l=u.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=zg("display",o))}catch(f){Re(t,t.return,f)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(f){Re(t,t.return,f)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===t)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Yt(e,t),fn(t),r&4&&Qp(t);break;case 21:break;default:Yt(e,t),fn(t)}}function fn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(py(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(eo(s,""),r.flags&=-33);var i=Kp(t);fd(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Kp(t);hd(t,a,o);break;default:throw Error(V(161))}}catch(l){Re(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function kS(t,e,n){W=t,vy(t)}function vy(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var s=W,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||oa;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||rt;a=oa;var c=rt;if(oa=o,(rt=l)&&!c)for(W=s;W!==null;)o=W,l=o.child,o.tag===22&&o.memoizedState!==null?em(s):l!==null?(l.return=o,W=l):em(s);for(;i!==null;)W=i,vy(i),i=i.sibling;W=s,oa=a,rt=c}Zp(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,W=i):Zp(t)}}function Zp(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rt||ql(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!rt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Kt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Fp(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Fp(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&so(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}rt||e.flags&512&&dd(e)}catch(h){Re(e,e.return,h)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function Jp(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function em(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ql(4,e)}catch(l){Re(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Re(e,s,l)}}var i=e.return;try{dd(e)}catch(l){Re(e,i,l)}break;case 5:var o=e.return;try{dd(e)}catch(l){Re(e,o,l)}}}catch(l){Re(e,e.return,l)}if(e===t){W=null;break}var a=e.sibling;if(a!==null){a.return=e.return,W=a;break}W=e.return}}var CS=Math.ceil,sl=$n.ReactCurrentDispatcher,Fh=$n.ReactCurrentOwner,$t=$n.ReactCurrentBatchConfig,ie=0,Ye=null,Be=null,Ze=0,Et=0,Ds=Pr(0),$e=0,go=null,Jr=0,Hl=0,Lh=0,Qi=null,vt=null,Vh=0,ni=1/0,An=null,il=!1,pd=null,yr=null,aa=!1,dr=null,ol=0,Zi=0,md=null,Oa=-1,Pa=0;function dt(){return ie&6?Le():Oa!==-1?Oa:Oa=Le()}function _r(t){return t.mode&1?ie&2&&Ze!==0?Ze&-Ze:cS.transition!==null?(Pa===0&&(Pa=tv()),Pa):(t=de,t!==0||(t=window.event,t=t===void 0?16:lv(t.type)),t):1}function nn(t,e,n,r){if(50<Zi)throw Zi=0,md=null,Error(V(185));ko(t,n,r),(!(ie&2)||t!==Ye)&&(t===Ye&&(!(ie&2)&&(Hl|=n),$e===4&&cr(t,Ze)),bt(t,r),n===1&&ie===0&&!(e.mode&1)&&(ni=Le()+500,zl&&Rr()))}function bt(t,e){var n=t.callbackNode;cx(t,e);var r=Wa(t,t===Ye?Ze:0);if(r===0)n!==null&&cp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&cp(n),e===1)t.tag===0?lS(tm.bind(null,t)):Ev(tm.bind(null,t)),sS(function(){!(ie&6)&&Rr()}),n=null;else{switch(nv(r)){case 1:n=uh;break;case 4:n=Jg;break;case 16:n=za;break;case 536870912:n=ev;break;default:n=za}n=ky(n,yy.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function yy(t,e){if(Oa=-1,Pa=0,ie&6)throw Error(V(327));var n=t.callbackNode;if($s()&&t.callbackNode!==n)return null;var r=Wa(t,t===Ye?Ze:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=al(t,r);else{e=r;var s=ie;ie|=2;var i=wy();(Ye!==t||Ze!==e)&&(An=null,ni=Le()+500,Gr(t,e));do try{AS();break}catch(a){_y(t,a)}while(!0);bh(),sl.current=i,ie=s,Be!==null?e=0:(Ye=null,Ze=0,e=$e)}if(e!==0){if(e===2&&(s=zu(t),s!==0&&(r=s,e=gd(t,s))),e===1)throw n=go,Gr(t,0),cr(t,r),bt(t,Le()),n;if(e===6)cr(t,r);else{if(s=t.current.alternate,!(r&30)&&!ES(s)&&(e=al(t,r),e===2&&(i=zu(t),i!==0&&(r=i,e=gd(t,i))),e===1))throw n=go,Gr(t,0),cr(t,r),bt(t,Le()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(V(345));case 2:Ur(t,vt,An);break;case 3:if(cr(t,r),(r&130023424)===r&&(e=Vh+500-Le(),10<e)){if(Wa(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){dt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ku(Ur.bind(null,t,vt,An),e);break}Ur(t,vt,An);break;case 4:if(cr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-tn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CS(r/1960))-r,10<r){t.timeoutHandle=Ku(Ur.bind(null,t,vt,An),r);break}Ur(t,vt,An);break;case 5:Ur(t,vt,An);break;default:throw Error(V(329))}}}return bt(t,Le()),t.callbackNode===n?yy.bind(null,t):null}function gd(t,e){var n=Qi;return t.current.memoizedState.isDehydrated&&(Gr(t,e).flags|=256),t=al(t,e),t!==2&&(e=vt,vt=n,e!==null&&vd(e)),t}function vd(t){vt===null?vt=t:vt.push.apply(vt,t)}function ES(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!rn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function cr(t,e){for(e&=~Lh,e&=~Hl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tn(e),r=1<<n;t[n]=-1,e&=~r}}function tm(t){if(ie&6)throw Error(V(327));$s();var e=Wa(t,0);if(!(e&1))return bt(t,Le()),null;var n=al(t,e);if(t.tag!==0&&n===2){var r=zu(t);r!==0&&(e=r,n=gd(t,r))}if(n===1)throw n=go,Gr(t,0),cr(t,e),bt(t,Le()),n;if(n===6)throw Error(V(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ur(t,vt,An),bt(t,Le()),null}function jh(t,e){var n=ie;ie|=1;try{return t(e)}finally{ie=n,ie===0&&(ni=Le()+500,zl&&Rr())}}function es(t){dr!==null&&dr.tag===0&&!(ie&6)&&$s();var e=ie;ie|=1;var n=$t.transition,r=de;try{if($t.transition=null,de=1,t)return t()}finally{de=r,$t.transition=n,ie=e,!(ie&6)&&Rr()}}function Uh(){Et=Ds.current,xe(Ds)}function Gr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,rS(n)),Be!==null)for(n=Be.return;n!==null;){var r=n;switch(wh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ya();break;case 3:ei(),xe(xt),xe(it),Ah();break;case 5:Nh(r);break;case 4:ei();break;case 13:xe(Ae);break;case 19:xe(Ae);break;case 10:Th(r.type._context);break;case 22:case 23:Uh()}n=n.return}if(Ye=t,Be=t=wr(t.current,null),Ze=Et=e,$e=0,go=null,Lh=Hl=Jr=0,vt=Qi=null,Wr!==null){for(e=0;e<Wr.length;e++)if(n=Wr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Wr=null}return t}function _y(t,e){do{var n=Be;try{if(bh(),Na.current=rl,nl){for(var r=Ie.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}nl=!1}if(Zr=0,Ge=ze=Ie=null,Xi=!1,fo=0,Fh.current=null,n===null||n.return===null){$e=1,go=e,Be=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Ze,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=zp(o);if(p!==null){p.flags&=-257,Wp(p,o,a,i,e),p.mode&1&&Bp(i,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var f=new Set;f.add(l),e.updateQueue=f}else m.add(l);break e}else{if(!(e&1)){Bp(i,c,e),Bh();break e}l=Error(V(426))}}else if(Ee&&a.mode&1){var y=zp(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Wp(y,o,a,i,e),xh(ti(l,a));break e}}i=l=ti(l,a),$e!==4&&($e=2),Qi===null?Qi=[i]:Qi.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=ny(i,l,e);Dp(i,g);break e;case 1:a=l;var v=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(yr===null||!yr.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=ry(i,a,e);Dp(i,x);break e}}i=i.return}while(i!==null)}Sy(n)}catch(w){e=w,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(!0)}function wy(){var t=sl.current;return sl.current=rl,t===null?rl:t}function Bh(){($e===0||$e===3||$e===2)&&($e=4),Ye===null||!(Jr&268435455)&&!(Hl&268435455)||cr(Ye,Ze)}function al(t,e){var n=ie;ie|=2;var r=wy();(Ye!==t||Ze!==e)&&(An=null,Gr(t,e));do try{NS();break}catch(s){_y(t,s)}while(!0);if(bh(),ie=n,sl.current=r,Be!==null)throw Error(V(261));return Ye=null,Ze=0,$e}function NS(){for(;Be!==null;)xy(Be)}function AS(){for(;Be!==null&&!ex();)xy(Be)}function xy(t){var e=Ty(t.alternate,t,Et);t.memoizedProps=t.pendingProps,e===null?Sy(t):Be=e,Fh.current=null}function Sy(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=SS(n,e),n!==null){n.flags&=32767,Be=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$e=6,Be=null;return}}else if(n=xS(n,e,Et),n!==null){Be=n;return}if(e=e.sibling,e!==null){Be=e;return}Be=e=t}while(e!==null);$e===0&&($e=5)}function Ur(t,e,n){var r=de,s=$t.transition;try{$t.transition=null,de=1,IS(t,e,n,r)}finally{$t.transition=s,de=r}return null}function IS(t,e,n,r){do $s();while(dr!==null);if(ie&6)throw Error(V(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(V(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(ux(t,i),t===Ye&&(Be=Ye=null,Ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||aa||(aa=!0,ky(za,function(){return $s(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=$t.transition,$t.transition=null;var o=de;de=1;var a=ie;ie|=4,Fh.current=null,TS(t,n),gy(n,t),Kx(Yu),$a=!!Gu,Yu=Gu=null,t.current=n,kS(n),tx(),ie=a,de=o,$t.transition=i}else t.current=n;if(aa&&(aa=!1,dr=t,ol=s),i=t.pendingLanes,i===0&&(yr=null),sx(n.stateNode),bt(t,Le()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(il)throw il=!1,t=pd,pd=null,t;return ol&1&&t.tag!==0&&$s(),i=t.pendingLanes,i&1?t===md?Zi++:(Zi=0,md=t):Zi=0,Rr(),null}function $s(){if(dr!==null){var t=nv(ol),e=$t.transition,n=de;try{if($t.transition=null,de=16>t?16:t,dr===null)var r=!1;else{if(t=dr,dr=null,ol=0,ie&6)throw Error(V(331));var s=ie;for(ie|=4,W=t.current;W!==null;){var i=W,o=i.child;if(W.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(W=c;W!==null;){var d=W;switch(d.tag){case 0:case 11:case 15:Ki(8,d,i)}var u=d.child;if(u!==null)u.return=d,W=u;else for(;W!==null;){d=W;var h=d.sibling,p=d.return;if(fy(d),d===c){W=null;break}if(h!==null){h.return=p,W=h;break}W=p}}}var m=i.alternate;if(m!==null){var f=m.child;if(f!==null){m.child=null;do{var y=f.sibling;f.sibling=null,f=y}while(f!==null)}}W=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,W=o;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ki(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,W=g;break e}W=i.return}}var v=t.current;for(W=v;W!==null;){o=W;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,W=_;else e:for(o=v;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ql(9,a)}}catch(w){Re(a,a.return,w)}if(a===o){W=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,W=x;break e}W=a.return}}if(ie=s,Rr(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(Ll,t)}catch{}r=!0}return r}finally{de=n,$t.transition=e}}return!1}function nm(t,e,n){e=ti(n,e),e=ny(t,e,1),t=vr(t,e,1),e=dt(),t!==null&&(ko(t,1,e),bt(t,e))}function Re(t,e,n){if(t.tag===3)nm(t,t,n);else for(;e!==null;){if(e.tag===3){nm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yr===null||!yr.has(r))){t=ti(n,t),t=ry(e,t,1),e=vr(e,t,1),t=dt(),e!==null&&(ko(e,1,t),bt(e,t));break}}e=e.return}}function OS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=dt(),t.pingedLanes|=t.suspendedLanes&n,Ye===t&&(Ze&n)===n&&($e===4||$e===3&&(Ze&130023424)===Ze&&500>Le()-Vh?Gr(t,0):Lh|=n),bt(t,e)}function by(t,e){e===0&&(t.mode&1?(e=Qo,Qo<<=1,!(Qo&130023424)&&(Qo=4194304)):e=1);var n=dt();t=Vn(t,e),t!==null&&(ko(t,e,n),bt(t,n))}function PS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),by(t,n)}function RS(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(e),by(t,n)}var Ty;Ty=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xt.current)_t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _t=!1,wS(t,e,n);_t=!!(t.flags&131072)}else _t=!1,Ee&&e.flags&1048576&&Nv(e,Qa,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ia(t,e),t=e.pendingProps;var s=Qs(e,it.current);Ws(e,n),s=Oh(null,e,r,t,s,n);var i=Ph();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,St(r)?(i=!0,Xa(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ch(e),s.updater=$l,e.stateNode=s,s._reactInternals=e,rd(e,r,t,n),e=od(null,e,r,!0,i,n)):(e.tag=0,Ee&&i&&_h(e),lt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ia(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=DS(r),t=Kt(r,t),s){case 0:e=id(null,e,r,t,n);break e;case 1:e=Hp(null,e,r,t,n);break e;case 11:e=$p(null,e,r,t,n);break e;case 14:e=qp(null,e,r,Kt(r.type,t),n);break e}throw Error(V(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kt(r,s),id(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kt(r,s),Hp(t,e,r,s,n);case 3:e:{if(ay(e),t===null)throw Error(V(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Mv(t,e),el(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ti(Error(V(423)),e),e=Gp(t,e,r,n,s);break e}else if(r!==s){s=ti(Error(V(424)),e),e=Gp(t,e,r,n,s);break e}else for(It=gr(e.stateNode.containerInfo.firstChild),Pt=e,Ee=!0,Zt=null,n=Pv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zs(),r===s){e=jn(t,e,n);break e}lt(t,e,r,n)}e=e.child}return e;case 5:return Dv(e),t===null&&ed(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Xu(r,s)?o=null:i!==null&&Xu(r,i)&&(e.flags|=32),oy(t,e),lt(t,e,o,n),e.child;case 6:return t===null&&ed(e),null;case 13:return ly(t,e,n);case 4:return Eh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Js(e,null,r,n):lt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kt(r,s),$p(t,e,r,s,n);case 7:return lt(t,e,e.pendingProps,n),e.child;case 8:return lt(t,e,e.pendingProps.children,n),e.child;case 12:return lt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,me(Za,r._currentValue),r._currentValue=o,i!==null)if(rn(i.value,o)){if(i.children===s.children&&!xt.current){e=jn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Mn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),td(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(V(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),td(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}lt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ws(e,n),s=Ht(s),r=r(s),e.flags|=1,lt(t,e,r,n),e.child;case 14:return r=e.type,s=Kt(r,e.pendingProps),s=Kt(r.type,s),qp(t,e,r,s,n);case 15:return sy(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kt(r,s),Ia(t,e),e.tag=1,St(r)?(t=!0,Xa(e)):t=!1,Ws(e,n),ty(e,r,s),rd(e,r,s,n),od(null,e,r,!0,t,n);case 19:return cy(t,e,n);case 22:return iy(t,e,n)}throw Error(V(156,e.tag))};function ky(t,e){return Zg(t,e)}function MS(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(t,e,n,r){return new MS(t,e,n,r)}function zh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function DS(t){if(typeof t=="function")return zh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ah)return 11;if(t===lh)return 14}return 2}function wr(t,e){var n=t.alternate;return n===null?(n=Wt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ra(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")zh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ks:return Yr(n.children,s,i,e);case oh:o=8,s|=8;break;case Eu:return t=Wt(12,n,e,s|2),t.elementType=Eu,t.lanes=i,t;case Nu:return t=Wt(13,n,e,s),t.elementType=Nu,t.lanes=i,t;case Au:return t=Wt(19,n,e,s),t.elementType=Au,t.lanes=i,t;case Dg:return Gl(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Rg:o=10;break e;case Mg:o=9;break e;case ah:o=11;break e;case lh:o=14;break e;case ir:o=16,r=null;break e}throw Error(V(130,t==null?t:typeof t,""))}return e=Wt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Yr(t,e,n,r){return t=Wt(7,t,r,e),t.lanes=n,t}function Gl(t,e,n,r){return t=Wt(22,t,r,e),t.elementType=Dg,t.lanes=n,t.stateNode={isHidden:!1},t}function cu(t,e,n){return t=Wt(6,t,null,e),t.lanes=n,t}function uu(t,e,n){return e=Wt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function FS(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$c(0),this.expirationTimes=$c(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$c(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Wh(t,e,n,r,s,i,o,a,l){return t=new FS(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Wt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ch(i),t}function LS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ts,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Cy(t){if(!t)return kr;t=t._reactInternals;e:{if(us(t)!==t||t.tag!==1)throw Error(V(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(St(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(V(171))}if(t.tag===1){var n=t.type;if(St(n))return Cv(t,n,e)}return e}function Ey(t,e,n,r,s,i,o,a,l){return t=Wh(n,r,!0,t,s,i,o,a,l),t.context=Cy(null),n=t.current,r=dt(),s=_r(n),i=Mn(r,s),i.callback=e??null,vr(n,i,s),t.current.lanes=s,ko(t,s,r),bt(t,r),t}function Yl(t,e,n,r){var s=e.current,i=dt(),o=_r(s);return n=Cy(n),e.context===null?e.context=n:e.pendingContext=n,e=Mn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=vr(s,e,o),t!==null&&(nn(t,s,o,i),Ea(t,s,o)),o}function ll(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function rm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $h(t,e){rm(t,e),(t=t.alternate)&&rm(t,e)}function VS(){return null}var Ny=typeof reportError=="function"?reportError:function(t){console.error(t)};function qh(t){this._internalRoot=t}Xl.prototype.render=qh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(V(409));Yl(t,e,null,null)};Xl.prototype.unmount=qh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;es(function(){Yl(null,t,null,null)}),e[Ln]=null}};function Xl(t){this._internalRoot=t}Xl.prototype.unstable_scheduleHydration=function(t){if(t){var e=iv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<lr.length&&e!==0&&e<lr[n].priority;n++);lr.splice(n,0,t),n===0&&av(t)}};function Hh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Kl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sm(){}function jS(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=ll(o);i.call(c)}}var o=Ey(e,r,t,0,null,!1,!1,"",sm);return t._reactRootContainer=o,t[Ln]=o.current,ao(t.nodeType===8?t.parentNode:t),es(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=ll(l);a.call(c)}}var l=Wh(t,0,!1,null,null,!1,!1,"",sm);return t._reactRootContainer=l,t[Ln]=l.current,ao(t.nodeType===8?t.parentNode:t),es(function(){Yl(e,l,n,r)}),l}function Ql(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ll(o);a.call(l)}}Yl(e,o,t,s)}else o=jS(n,e,t,s,r);return ll(o)}rv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Bi(e.pendingLanes);n!==0&&(dh(e,n|1),bt(e,Le()),!(ie&6)&&(ni=Le()+500,Rr()))}break;case 13:es(function(){var r=Vn(t,1);if(r!==null){var s=dt();nn(r,t,1,s)}}),$h(t,1)}};hh=function(t){if(t.tag===13){var e=Vn(t,134217728);if(e!==null){var n=dt();nn(e,t,134217728,n)}$h(t,134217728)}};sv=function(t){if(t.tag===13){var e=_r(t),n=Vn(t,e);if(n!==null){var r=dt();nn(n,t,e,r)}$h(t,e)}};iv=function(){return de};ov=function(t,e){var n=de;try{return de=t,e()}finally{de=n}};ju=function(t,e,n){switch(e){case"input":if(Pu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Bl(r);if(!s)throw Error(V(90));Lg(r),Pu(r,s)}}}break;case"textarea":jg(t,n);break;case"select":e=n.value,e!=null&&js(t,!!n.multiple,e,!1)}};Hg=jh;Gg=es;var US={usingClientEntryPoint:!1,Events:[Eo,As,Bl,$g,qg,jh]},Di={findFiberByHostInstance:zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BS={bundleType:Di.bundleType,version:Di.version,rendererPackageName:Di.rendererPackageName,rendererConfig:Di.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$n.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Kg(t),t===null?null:t.stateNode},findFiberByHostInstance:Di.findFiberByHostInstance||VS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var la=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!la.isDisabled&&la.supportsFiber)try{Ll=la.inject(BS),vn=la}catch{}}Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=US;Lt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hh(e))throw Error(V(200));return LS(t,e,null,n)};Lt.createRoot=function(t,e){if(!Hh(t))throw Error(V(299));var n=!1,r="",s=Ny;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Wh(t,1,!1,null,null,n,!1,r,s),t[Ln]=e.current,ao(t.nodeType===8?t.parentNode:t),new qh(e)};Lt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(V(188)):(t=Object.keys(t).join(","),Error(V(268,t)));return t=Kg(e),t=t===null?null:t.stateNode,t};Lt.flushSync=function(t){return es(t)};Lt.hydrate=function(t,e,n){if(!Kl(e))throw Error(V(200));return Ql(null,t,e,!0,n)};Lt.hydrateRoot=function(t,e,n){if(!Hh(t))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Ny;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ey(e,null,t,1,n??null,s,!1,i,o),t[Ln]=e.current,ao(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Xl(e)};Lt.render=function(t,e,n){if(!Kl(e))throw Error(V(200));return Ql(null,t,e,!1,n)};Lt.unmountComponentAtNode=function(t){if(!Kl(t))throw Error(V(40));return t._reactRootContainer?(es(function(){Ql(null,null,t,!1,function(){t._reactRootContainer=null,t[Ln]=null})}),!0):!1};Lt.unstable_batchedUpdates=jh;Lt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Kl(n))throw Error(V(200));if(t==null||t._reactInternals===void 0)throw Error(V(38));return Ql(t,e,n,!1,r)};Lt.version="18.3.1-next-f1338f8080-20240426";function Ay(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ay)}catch(t){console.error(t)}}Ay(),Ag.exports=Lt;var pi=Ag.exports;const zS=Zd(pi);var Iy,im=pi;Iy=im.createRoot,im.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cl(){return cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cl.apply(this,arguments)}var hr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(hr||(hr={}));const om="popstate";function WS(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return yd("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Py(s)}return qS(e,n,null,t)}function kt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Oy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $S(){return Math.random().toString(36).substr(2,8)}function am(t,e){return{usr:t.state,key:t.key,idx:e}}function yd(t,e,n,r){return n===void 0&&(n=null),cl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Zl(e):e,{state:n,key:e&&e.key||r||$S()})}function Py(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Zl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function qS(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=hr.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(cl({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function u(){a=hr.Pop;let y=d(),g=y==null?null:y-c;c=y,l&&l({action:a,location:f.location,delta:g})}function h(y,g){a=hr.Push;let v=yd(f.location,y,g);c=d()+1;let _=am(v,c),x=f.createHref(v);try{o.pushState(_,"",x)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;s.location.assign(x)}i&&l&&l({action:a,location:f.location,delta:1})}function p(y,g){a=hr.Replace;let v=yd(f.location,y,g);c=d();let _=am(v,c),x=f.createHref(v);o.replaceState(_,"",x),i&&l&&l({action:a,location:f.location,delta:0})}function m(y){let g=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof y=="string"?y:Py(y);return v=v.replace(/ $/,"%20"),kt(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let f={get action(){return a},get location(){return t(s,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(om,u),l=y,()=>{s.removeEventListener(om,u),l=null}},createHref(y){return e(s,y)},createURL:m,encodeLocation(y){let g=m(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:p,go(y){return o.go(y)}};return f}var lm;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(lm||(lm={}));function HS(t,e,n){return n===void 0&&(n="/"),GS(t,e,n,!1)}function GS(t,e,n,r){let s=typeof e=="string"?Zl(e):e,i=Dy(s.pathname||"/",n);if(i==null)return null;let o=Ry(t);YS(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=ib(i);a=rb(o[l],c,r)}return a}function Ry(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(kt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=qs([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(kt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Ry(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:tb(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of My(i.path))s(i,o,l)}),e}function My(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=My(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function YS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:nb(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const XS=/^:[\w-]+$/,KS=3,QS=2,ZS=1,JS=10,eb=-2,cm=t=>t==="*";function tb(t,e){let n=t.split("/"),r=n.length;return n.some(cm)&&(r+=eb),e&&(r+=QS),n.filter(s=>!cm(s)).reduce((s,i)=>s+(XS.test(i)?KS:i===""?ZS:JS),r)}function nb(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function rb(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",u=um({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=um({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!u)return null;Object.assign(s,u.params),o.push({params:s,pathname:qs([i,u.pathname]),pathnameBase:ob(qs([i,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(i=qs([i,u.pathnameBase]))}return o}function um(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=sb(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,u)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let f=a[u]||"";o=i.slice(0,i.length-f.length).replace(/(.)\/+$/,"$1")}const m=a[u];return p&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function sb(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Oy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function ib(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Oy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Dy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const qs=t=>t.join("/").replace(/\/\/+/g,"/"),ob=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function ab(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Fy=["post","put","patch","delete"];new Set(Fy);const lb=["get",...Fy];new Set(lb);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ul(){return ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ul.apply(this,arguments)}const cb=S.createContext(null),ub=S.createContext(null),Ly=S.createContext(null),Jl=S.createContext(null),ec=S.createContext({outlet:null,matches:[],isDataRoute:!1}),Vy=S.createContext(null);function Gh(){return S.useContext(Jl)!=null}function db(){return Gh()||kt(!1),S.useContext(Jl).location}function hb(t,e){return fb(t,e)}function fb(t,e,n,r){Gh()||kt(!1);let{navigator:s}=S.useContext(Ly),{matches:i}=S.useContext(ec),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=db(),d;if(e){var u;let y=typeof e=="string"?Zl(e):e;l==="/"||(u=y.pathname)!=null&&u.startsWith(l)||kt(!1),d=y}else d=c;let h=d.pathname||"/",p=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=HS(t,{pathname:p}),f=yb(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:qs([l,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:qs([l,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return e&&f?S.createElement(Jl.Provider,{value:{location:ul({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:hr.Pop}},f):f}function pb(){let t=Sb(),e=ab(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:s},n):null,null)}const mb=S.createElement(pb,null);class gb extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(ec.Provider,{value:this.props.routeContext},S.createElement(Vy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vb(t){let{routeContext:e,match:n,children:r}=t,s=S.useContext(cb);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(ec.Provider,{value:e},r)}function yb(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);d>=0||kt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let u=o[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=d),u.route.id){let{loaderData:h,errors:p}=n,m=u.route.loader&&h[u.route.id]===void 0&&(!p||p[u.route.id]===void 0);if(u.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,u,h)=>{let p,m=!1,f=null,y=null;n&&(p=a&&u.route.id?a[u.route.id]:void 0,f=u.route.errorElement||mb,l&&(c<0&&h===0?(m=!0,y=null):c===h&&(m=!0,y=u.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,h+1)),v=()=>{let _;return p?_=f:m?_=y:u.route.Component?_=S.createElement(u.route.Component,null):u.route.element?_=u.route.element:_=d,S.createElement(vb,{match:u,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:_})};return n&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?S.createElement(gb,{location:n.location,revalidation:n.revalidation,component:f,error:p,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var _d=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(_d||{});function _b(t){let e=S.useContext(ub);return e||kt(!1),e}function wb(t){let e=S.useContext(ec);return e||kt(!1),e}function xb(t){let e=wb(),n=e.matches[e.matches.length-1];return n.route.id||kt(!1),n.route.id}function Sb(){var t;let e=S.useContext(Vy),n=_b(_d.UseRouteError),r=xb(_d.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function wd(t){kt(!1)}function bb(t){let{basename:e="/",children:n=null,location:r,navigationType:s=hr.Pop,navigator:i,static:o=!1,future:a}=t;Gh()&&kt(!1);let l=e.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:l,navigator:i,static:o,future:ul({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Zl(r));let{pathname:d="/",search:u="",hash:h="",state:p=null,key:m="default"}=r,f=S.useMemo(()=>{let y=Dy(d,l);return y==null?null:{location:{pathname:y,search:u,hash:h,state:p,key:m},navigationType:s}},[l,d,u,h,p,m,s]);return f==null?null:S.createElement(Ly.Provider,{value:c},S.createElement(Jl.Provider,{children:n,value:f}))}function Tb(t){let{children:e,location:n}=t;return hb(xd(e),n)}new Promise(()=>{});function xd(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,s)=>{if(!S.isValidElement(r))return;let i=[...e,s];if(r.type===S.Fragment){n.push.apply(n,xd(r.props.children,i));return}r.type!==wd&&kt(!1),!r.props.index||!r.props.children||kt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=xd(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const kb="6";try{window.__reactRouterVersion=kb}catch{}const Cb="startTransition",dm=Eg[Cb];function Eb(t){let{basename:e,children:n,future:r,window:s}=t,i=S.useRef();i.current==null&&(i.current=WS({window:s,v5Compat:!0}));let o=i.current,[a,l]=S.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=S.useCallback(u=>{c&&dm?dm(()=>l(u)):l(u)},[l,c]);return S.useLayoutEffect(()=>o.listen(d),[o,d]),S.createElement(bb,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var hm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(hm||(hm={}));var fm;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(fm||(fm={}));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jy=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ab={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>S.createElement("svg",{ref:l,...Ab,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:jy("lucide",s),...a},[...o.map(([c,d])=>S.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=(t,e)=>{const n=S.forwardRef(({className:r,...s},i)=>S.createElement(Ib,{ref:i,iconNode:e,className:jy(`lucide-${Nb(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=ds("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=ds("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=ds("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=ds("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=ds("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=ds("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=ds("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);function Db(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Wy(...t){return e=>t.forEach(n=>Db(n,e))}function Fe(...t){return S.useCallback(Wy(...t),t)}var ri=S.forwardRef((t,e)=>{const{children:n,...r}=t,s=S.Children.toArray(n),i=s.find(Lb);if(i){const o=i.props.children,a=s.map(l=>l===i?S.Children.count(o)>1?S.Children.only(null):S.isValidElement(o)?o.props.children:null:l);return C.jsx(Sd,{...r,ref:e,children:S.isValidElement(o)?S.cloneElement(o,void 0,a):null})}return C.jsx(Sd,{...r,ref:e,children:n})});ri.displayName="Slot";var Sd=S.forwardRef((t,e)=>{const{children:n,...r}=t;if(S.isValidElement(n)){const s=jb(n);return S.cloneElement(n,{...Vb(r,n.props),ref:e?Wy(e,s):s})}return S.Children.count(n)>1?S.Children.only(null):null});Sd.displayName="SlotClone";var Fb=({children:t})=>C.jsx(C.Fragment,{children:t});function Lb(t){return S.isValidElement(t)&&t.type===Fb}function Vb(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function jb(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function $y(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=$y(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Ub(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=$y(t))&&(r&&(r+=" "),r+=e);return r}const pm=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,mm=Ub,qy=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return mm(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],u=i==null?void 0:i[c];if(d===null)return null;const h=pm(d)||pm(u);return s[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[u,h]=d;return h===void 0||(c[u]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:u,className:h,...p}=d;return Object.entries(p).every(m=>{let[f,y]=m;return Array.isArray(y)?y.includes({...i,...a}[f]):{...i,...a}[f]===y})?[...c,u,h]:c},[]);return mm(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};function Hy(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Hy(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Bb(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Hy(t))&&(r&&(r+=" "),r+=e);return r}const Yh="-",zb=t=>{const e=$b(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Yh);return a[0]===""&&a.length!==1&&a.shift(),Gy(a,e)||Wb(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Gy=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Gy(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Yh);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},gm=/^\[(.+)\]$/,Wb=t=>{if(gm.test(t)){const e=gm.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},$b=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Hb(Object.entries(t.classGroups),n).forEach(([i,o])=>{bd(o,r,i,e)}),r},bd=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:vm(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(qb(s)){bd(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{bd(o,vm(e,i),n,r)})})},vm=(t,e)=>{let n=t;return e.split(Yh).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},qb=t=>t.isThemeGetter,Hb=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,Gb=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Yy="!",Yb=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,u;for(let y=0;y<a.length;y++){let g=a[y];if(c===0){if(g===s&&(r||a.slice(y,y+i)===e)){l.push(a.slice(d,y)),d=y+i;continue}if(g==="/"){u=y;continue}}g==="["?c++:g==="]"&&c--}const h=l.length===0?a:a.substring(d),p=h.startsWith(Yy),m=p?h.substring(1):h,f=u&&u>d?u-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:f}};return n?a=>n({className:a,parseClassName:o}):o},Xb=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Kb=t=>({cache:Gb(t.cacheSize),parseClassName:Yb(t),...zb(t)}),Qb=/\s+/,Zb=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(Qb);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:u,baseClassName:h,maybePostfixModifierPosition:p}=n(c);let m=!!p,f=r(m?h.substring(0,p):h);if(!f){if(!m){a=c+(a.length>0?" "+a:a);continue}if(f=r(h),!f){a=c+(a.length>0?" "+a:a);continue}m=!1}const y=Xb(d).join(":"),g=u?y+Yy:y,v=g+f;if(i.includes(v))continue;i.push(v);const _=s(f,m);for(let x=0;x<_.length;++x){const w=_[x];i.push(g+w)}a=c+(a.length>0?" "+a:a)}return a};function Jb(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Xy(e))&&(r&&(r+=" "),r+=n);return r}const Xy=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Xy(t[r]))&&(n&&(n+=" "),n+=e);return n};function eT(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,u)=>u(d),t());return n=Kb(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=Zb(l,n);return s(l,d),d}return function(){return i(Jb.apply(null,arguments))}}const _e=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Ky=/^\[(?:([a-z-]+):)?(.+)\]$/i,tT=/^\d+\/\d+$/,nT=new Set(["px","full","screen"]),rT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,iT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,oT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,aT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,En=t=>Hs(t)||nT.has(t)||tT.test(t),Zn=t=>mi(t,"length",mT),Hs=t=>!!t&&!Number.isNaN(Number(t)),du=t=>mi(t,"number",Hs),Fi=t=>!!t&&Number.isInteger(Number(t)),lT=t=>t.endsWith("%")&&Hs(t.slice(0,-1)),Q=t=>Ky.test(t),Jn=t=>rT.test(t),cT=new Set(["length","size","percentage"]),uT=t=>mi(t,cT,Qy),dT=t=>mi(t,"position",Qy),hT=new Set(["image","url"]),fT=t=>mi(t,hT,vT),pT=t=>mi(t,"",gT),Li=()=>!0,mi=(t,e,n)=>{const r=Ky.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},mT=t=>sT.test(t)&&!iT.test(t),Qy=()=>!1,gT=t=>oT.test(t),vT=t=>aT.test(t),yT=()=>{const t=_e("colors"),e=_e("spacing"),n=_e("blur"),r=_e("brightness"),s=_e("borderColor"),i=_e("borderRadius"),o=_e("borderSpacing"),a=_e("borderWidth"),l=_e("contrast"),c=_e("grayscale"),d=_e("hueRotate"),u=_e("invert"),h=_e("gap"),p=_e("gradientColorStops"),m=_e("gradientColorStopPositions"),f=_e("inset"),y=_e("margin"),g=_e("opacity"),v=_e("padding"),_=_e("saturate"),x=_e("scale"),w=_e("sepia"),k=_e("skew"),b=_e("space"),T=_e("translate"),N=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",Q,e],A=()=>[Q,e],R=()=>["",En,Zn],M=()=>["auto",Hs,Q],j=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",Q],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[Hs,Q];return{cacheSize:500,separator:":",theme:{colors:[Li],spacing:[En,Zn],blur:["none","",Jn,Q],brightness:U(),borderColor:[t],borderRadius:["none","","full",Jn,Q],borderSpacing:A(),borderWidth:R(),contrast:U(),grayscale:P(),hueRotate:U(),invert:P(),gap:A(),gradientColorStops:[t],gradientColorStopPositions:[lT,Zn],inset:I(),margin:I(),opacity:U(),padding:A(),saturate:U(),scale:U(),sepia:P(),skew:U(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",Q]}],container:["container"],columns:[{columns:[Jn]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...j(),Q]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[f]}],"inset-x":[{"inset-x":[f]}],"inset-y":[{"inset-y":[f]}],start:[{start:[f]}],end:[{end:[f]}],top:[{top:[f]}],right:[{right:[f]}],bottom:[{bottom:[f]}],left:[{left:[f]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fi,Q]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Q]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",Fi,Q]}],"grid-cols":[{"grid-cols":[Li]}],"col-start-end":[{col:["auto",{span:["full",Fi,Q]},Q]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Li]}],"row-start-end":[{row:["auto",{span:[Fi,Q]},Q]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Q]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Q]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Q,e]}],"min-w":[{"min-w":[Q,e,"min","max","fit"]}],"max-w":[{"max-w":[Q,e,"none","full","min","max","fit","prose",{screen:[Jn]},Jn]}],h:[{h:[Q,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Q,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Q,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Q,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Jn,Zn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",du]}],"font-family":[{font:[Li]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Q]}],"line-clamp":[{"line-clamp":["none",Hs,du]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",En,Q]}],"list-image":[{"list-image":["none",Q]}],"list-style-type":[{list:["none","disc","decimal",Q]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",En,Zn]}],"underline-offset":[{"underline-offset":["auto",En,Q]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...j(),dT]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",uT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},fT]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...D(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:D()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...D()]}],"outline-offset":[{"outline-offset":[En,Q]}],"outline-w":[{outline:[En,Zn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[En,Zn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Jn,pT]}],"shadow-color":[{shadow:[Li]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Jn,Q]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[_]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Q]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",Q]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",Q]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[Fi,Q]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Q]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Q]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Q]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[En,Zn,du]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_T=eT(yT);function Ke(...t){return _T(Bb(t))}const wT=qy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Br=S.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?ri:"button";return C.jsx(o,{className:Ke(wT({variant:e,size:n,className:t})),ref:i,...s})});Br.displayName="Button";const dl=S.forwardRef(({className:t,type:e,...n},r)=>C.jsx("input",{type:e,className:Ke("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));dl.displayName="Input";var xT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],be=xT.reduce((t,e)=>{const n=S.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?ri:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function ST(t,e){t&&pi.flushSync(()=>t.dispatchEvent(e))}var bT="Label",Zy=S.forwardRef((t,e)=>C.jsx(be.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Zy.displayName=bT;var Jy=Zy;const TT=qy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),e0=S.forwardRef(({className:t,...e},n)=>C.jsx(Jy,{ref:n,className:Ke(TT(),t),...e}));e0.displayName=Jy.displayName;function hl(t,[e,n]){return Math.min(n,Math.max(e,t))}function pe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function t0(t,e=[]){let n=[];function r(i,o){const a=S.createContext(o),l=n.length;n=[...n,o];const c=u=>{var g;const{scope:h,children:p,...m}=u,f=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,y=S.useMemo(()=>m,Object.values(m));return C.jsx(f.Provider,{value:y,children:p})};c.displayName=i+"Provider";function d(u,h){var f;const p=((f=h==null?void 0:h[t])==null?void 0:f[l])||a,m=S.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>S.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return S.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,kT(s,...e)]}function kT(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const u=l(i)[`__scope${c}`];return{...a,...u}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Un(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Td({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=CT({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Un(n),l=S.useCallback(c=>{if(i){const u=typeof c=="function"?c(t):c;u!==t&&a(u)}else s(c)},[i,t,s,a]);return[o,l]}function CT({defaultProp:t,onChange:e}){const n=S.useState(t),[r]=n,s=S.useRef(r),i=Un(e);return S.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var ET=S.createContext(void 0);function n0(t){const e=S.useContext(ET);return t||e||"ltr"}function r0(t){const e=S.useRef({value:t,previous:t});return S.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Ft=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{};function s0(t){const[e,n]=S.useState(void 0);return Ft(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}function NT(t,e=[]){let n=[];function r(i,o){const a=S.createContext(o),l=n.length;n=[...n,o];function c(u){const{scope:h,children:p,...m}=u,f=(h==null?void 0:h[t][l])||a,y=S.useMemo(()=>m,Object.values(m));return C.jsx(f.Provider,{value:y,children:p})}function d(u,h){const p=(h==null?void 0:h[t][l])||a,m=S.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>S.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return S.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,AT(s,...e)]}function AT(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const u=l(i)[`__scope${c}`];return{...a,...u}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function i0(t){const e=t+"CollectionProvider",[n,r]=NT(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:m,children:f}=p,y=nr.useRef(null),g=nr.useRef(new Map).current;return C.jsx(s,{scope:m,itemMap:g,collectionRef:y,children:f})};o.displayName=e;const a=t+"CollectionSlot",l=nr.forwardRef((p,m)=>{const{scope:f,children:y}=p,g=i(a,f),v=Fe(m,g.collectionRef);return C.jsx(ri,{ref:v,children:y})});l.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",u=nr.forwardRef((p,m)=>{const{scope:f,children:y,...g}=p,v=nr.useRef(null),_=Fe(m,v),x=i(c,f);return nr.useEffect(()=>(x.itemMap.set(v,{ref:v,...g}),()=>void x.itemMap.delete(v))),C.jsx(ri,{[d]:"",ref:_,children:y})});u.displayName=c;function h(p){const m=i(t+"CollectionConsumer",p);return nr.useCallback(()=>{const y=m.collectionRef.current;if(!y)return[];const g=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(m.itemMap.values()).sort((x,w)=>g.indexOf(x.ref.current)-g.indexOf(w.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:o,Slot:l,ItemSlot:u},h,r]}var o0=["PageUp","PageDown"],a0=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],l0={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},gi="Slider",[kd,IT,OT]=i0(gi),[c0,jM]=t0(gi,[OT]),[PT,tc]=c0(gi),u0=S.forwardRef((t,e)=>{const{name:n,min:r=0,max:s=100,step:i=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:d,onValueChange:u=()=>{},onValueCommit:h=()=>{},inverted:p=!1,form:m,...f}=t,y=S.useRef(new Set),g=S.useRef(0),_=o==="horizontal"?RT:MT,[x=[],w]=Td({prop:d,defaultProp:c,onChange:I=>{var R;(R=[...y.current][g.current])==null||R.focus(),u(I)}}),k=S.useRef(x);function b(I){const A=jT(x,I);E(I,A)}function T(I){E(I,g.current)}function N(){const I=k.current[g.current];x[g.current]!==I&&h(x)}function E(I,A,{commit:R}={commit:!1}){const M=WT(i),j=$T(Math.round((I-r)/i)*i+r,M),D=hl(j,[r,s]);w((F=[])=>{const O=LT(F,D,A);if(zT(O,l*i)){g.current=O.indexOf(D);const P=String(O)!==String(F);return P&&R&&h(O),P?O:F}else return F})}return C.jsx(PT,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:s,valueIndexToChangeRef:g,thumbs:y.current,values:x,orientation:o,form:m,children:C.jsx(kd.Provider,{scope:t.__scopeSlider,children:C.jsx(kd.Slot,{scope:t.__scopeSlider,children:C.jsx(_,{"aria-disabled":a,"data-disabled":a?"":void 0,...f,ref:e,onPointerDown:pe(f.onPointerDown,()=>{a||(k.current=x)}),min:r,max:s,inverted:p,onSlideStart:a?void 0:b,onSlideMove:a?void 0:T,onSlideEnd:a?void 0:N,onHomeKeyDown:()=>!a&&E(r,0,{commit:!0}),onEndKeyDown:()=>!a&&E(s,x.length-1,{commit:!0}),onStepKeyDown:({event:I,direction:A})=>{if(!a){const j=o0.includes(I.key)||I.shiftKey&&a0.includes(I.key)?10:1,D=g.current,F=x[D],O=i*j*A;E(F+O,D,{commit:!0})}}})})})})});u0.displayName=gi;var[d0,h0]=c0(gi,{startEdge:"left",endEdge:"right",size:"width",direction:1}),RT=S.forwardRef((t,e)=>{const{min:n,max:r,dir:s,inverted:i,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...d}=t,[u,h]=S.useState(null),p=Fe(e,_=>h(_)),m=S.useRef(),f=n0(s),y=f==="ltr",g=y&&!i||!y&&i;function v(_){const x=m.current||u.getBoundingClientRect(),w=[0,x.width],b=Xh(w,g?[n,r]:[r,n]);return m.current=x,b(_-x.left)}return C.jsx(d0,{scope:t.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:C.jsx(f0,{dir:f,"data-orientation":"horizontal",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:_=>{const x=v(_.clientX);o==null||o(x)},onSlideMove:_=>{const x=v(_.clientX);a==null||a(x)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:_=>{const w=l0[g?"from-left":"from-right"].includes(_.key);c==null||c({event:_,direction:w?-1:1})}})})}),MT=S.forwardRef((t,e)=>{const{min:n,max:r,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...c}=t,d=S.useRef(null),u=Fe(e,d),h=S.useRef(),p=!s;function m(f){const y=h.current||d.current.getBoundingClientRect(),g=[0,y.height],_=Xh(g,p?[r,n]:[n,r]);return h.current=y,_(f-y.top)}return C.jsx(d0,{scope:t.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:C.jsx(f0,{"data-orientation":"vertical",...c,ref:u,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:f=>{const y=m(f.clientY);i==null||i(y)},onSlideMove:f=>{const y=m(f.clientY);o==null||o(y)},onSlideEnd:()=>{h.current=void 0,a==null||a()},onStepKeyDown:f=>{const g=l0[p?"from-bottom":"from-top"].includes(f.key);l==null||l({event:f,direction:g?-1:1})}})})}),f0=S.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...c}=t,d=tc(gi,n);return C.jsx(be.span,{...c,ref:e,onKeyDown:pe(t.onKeyDown,u=>{u.key==="Home"?(o(u),u.preventDefault()):u.key==="End"?(a(u),u.preventDefault()):o0.concat(a0).includes(u.key)&&(l(u),u.preventDefault())}),onPointerDown:pe(t.onPointerDown,u=>{const h=u.target;h.setPointerCapture(u.pointerId),u.preventDefault(),d.thumbs.has(h)?h.focus():r(u)}),onPointerMove:pe(t.onPointerMove,u=>{u.target.hasPointerCapture(u.pointerId)&&s(u)}),onPointerUp:pe(t.onPointerUp,u=>{const h=u.target;h.hasPointerCapture(u.pointerId)&&(h.releasePointerCapture(u.pointerId),i(u))})})}),p0="SliderTrack",m0=S.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=tc(p0,n);return C.jsx(be.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:e})});m0.displayName=p0;var Cd="SliderRange",g0=S.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=tc(Cd,n),i=h0(Cd,n),o=S.useRef(null),a=Fe(e,o),l=s.values.length,c=s.values.map(h=>y0(h,s.min,s.max)),d=l>1?Math.min(...c):0,u=100-Math.max(...c);return C.jsx(be.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:a,style:{...t.style,[i.startEdge]:d+"%",[i.endEdge]:u+"%"}})});g0.displayName=Cd;var Ed="SliderThumb",v0=S.forwardRef((t,e)=>{const n=IT(t.__scopeSlider),[r,s]=S.useState(null),i=Fe(e,a=>s(a)),o=S.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return C.jsx(DT,{...t,ref:i,index:o})}),DT=S.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:s,...i}=t,o=tc(Ed,n),a=h0(Ed,n),[l,c]=S.useState(null),d=Fe(e,v=>c(v)),u=l?o.form||!!l.closest("form"):!0,h=s0(l),p=o.values[r],m=p===void 0?0:y0(p,o.min,o.max),f=VT(r,o.values.length),y=h==null?void 0:h[a.size],g=y?UT(y,m,a.direction):0;return S.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),C.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${m}% + ${g}px)`},children:[C.jsx(kd.ItemSlot,{scope:t.__scopeSlider,children:C.jsx(be.span,{role:"slider","aria-label":t["aria-label"]||f,"aria-valuemin":o.min,"aria-valuenow":p,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:d,style:p===void 0?{display:"none"}:t.style,onFocus:pe(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),u&&C.jsx(FT,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:p},r)]})});v0.displayName=Ed;var FT=t=>{const{value:e,...n}=t,r=S.useRef(null),s=r0(e);return S.useEffect(()=>{const i=r.current,o=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(o,"value").set;if(s!==e&&l){const c=new Event("input",{bubbles:!0});l.call(i,e),i.dispatchEvent(c)}},[s,e]),C.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function LT(t=[],e,n){const r=[...t];return r[n]=e,r.sort((s,i)=>s-i)}function y0(t,e,n){const i=100/(n-e)*(t-e);return hl(i,[0,100])}function VT(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function jT(t,e){if(t.length===1)return 0;const n=t.map(s=>Math.abs(s-e)),r=Math.min(...n);return n.indexOf(r)}function UT(t,e,n){const r=t/2,i=Xh([0,50],[0,r]);return(r-i(e)*n)*n}function BT(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function zT(t,e){if(e>0){const n=BT(t);return Math.min(...n)>=e}return!0}function Xh(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function WT(t){return(String(t).split(".")[1]||"").length}function $T(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var _0=u0,qT=m0,HT=g0,GT=v0;const Kh=S.forwardRef(({className:t,...e},n)=>C.jsxs(_0,{ref:n,className:Ke("relative flex w-full touch-none select-none items-center",t),...e,children:[C.jsx(qT,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:C.jsx(HT,{className:"absolute h-full bg-primary"})}),C.jsx(GT,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));Kh.displayName=_0.displayName;const w0="15.0.4",ym=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),_m=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),Nd=(t,e)=>({startTime:e,type:"setValue",value:t}),x0=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),S0=(t,e,{startTime:n,target:r,timeConstant:s})=>r+(e-r)*Math.exp((n-t)/s),Fs=t=>t.type==="exponentialRampToValue",fl=t=>t.type==="linearRampToValue",ar=t=>Fs(t)||fl(t),Qh=t=>t.type==="setValue",In=t=>t.type==="setValueCurve",pl=(t,e,n,r)=>{const s=t[e];return s===void 0?r:ar(s)||Qh(s)?s.value:In(s)?s.values[s.values.length-1]:S0(n,pl(t,e-1,s.startTime,r),s)},wm=(t,e,n,r,s)=>n===void 0?[r.insertTime,s]:ar(n)?[n.endTime,n.value]:Qh(n)?[n.startTime,n.value]:In(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,pl(t,e-1,n.startTime,s)],Ad=t=>t.type==="cancelAndHold",Id=t=>t.type==="cancelScheduledValues",er=t=>Ad(t)||Id(t)?t.cancelTime:Fs(t)||fl(t)?t.endTime:t.startTime,xm=(t,e,n,{endTime:r,value:s})=>n===s?s:0<n&&0<s||n<0&&s<0?n*(s/n)**((t-e)/(r-e)):0,Sm=(t,e,n,{endTime:r,value:s})=>n+(t-e)/(r-e)*(s-n),YT=(t,e)=>{const n=Math.floor(e),r=Math.ceil(e);return n===r?t[n]:(1-(e-n))*t[n]+(1-(r-e))*t[r]},XT=(t,{duration:e,startTime:n,values:r})=>{const s=(t-n)/e*(r.length-1);return YT(r,s)},ca=t=>t.type==="setTarget";class KT{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=er(e);if(Ad(e)||Id(e)){const r=this._automationEvents.findIndex(i=>Id(e)&&In(i)?i.startTime+i.duration>=n:er(i)>=n),s=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),Ad(e)){const i=this._automationEvents[this._automationEvents.length-1];if(s!==void 0&&ar(s)){if(i!==void 0&&ca(i))throw new Error("The internal list is malformed.");const o=i===void 0?s.insertTime:In(i)?i.startTime+i.duration:er(i),a=i===void 0?this._defaultValue:In(i)?i.values[i.values.length-1]:i.value,l=Fs(s)?xm(n,o,a,s):Sm(n,o,a,s),c=Fs(s)?ym(l,n,this._currenTime):_m(l,n,this._currenTime);this._automationEvents.push(c)}if(i!==void 0&&ca(i)&&this._automationEvents.push(Nd(this.getValue(n),n)),i!==void 0&&In(i)&&i.startTime+i.duration>n){const o=n-i.startTime,a=(i.values.length-1)/i.duration,l=Math.max(2,1+Math.ceil(o*a)),c=o/(l-1)*a,d=i.values.slice(0,l);if(c<1)for(let u=1;u<l;u+=1){const h=c*u%1;d[u]=i.values[u-1]*(1-h)+i.values[u]*h}this._automationEvents[this._automationEvents.length-1]=x0(d,i.startTime,o)}}}else{const r=this._automationEvents.findIndex(o=>er(o)>n),s=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(s!==void 0&&In(s)&&er(s)+s.duration>n)return!1;const i=Fs(e)?ym(e.value,e.endTime,this._currenTime):fl(e)?_m(e.value,n,this._currenTime):e;if(r===-1)this._automationEvents.push(i);else{if(In(e)&&n+e.duration>er(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,i)}}return!0}flush(e){const n=this._automationEvents.findIndex(r=>er(r)>e);if(n>1){const r=this._automationEvents.slice(n-1),s=r[0];ca(s)&&r.unshift(Nd(pl(this._automationEvents,n-2,s.startTime,this._defaultValue),s.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(o=>er(o)>e),r=this._automationEvents[n],s=(n===-1?this._automationEvents.length:n)-1,i=this._automationEvents[s];if(i!==void 0&&ca(i)&&(r===void 0||!ar(r)||r.insertTime>e))return S0(e,pl(this._automationEvents,s-1,i.startTime,this._defaultValue),i);if(i!==void 0&&Qh(i)&&(r===void 0||!ar(r)))return i.value;if(i!==void 0&&In(i)&&(r===void 0||!ar(r)||i.startTime+i.duration>e))return e<i.startTime+i.duration?XT(e,i):i.values[i.values.length-1];if(i!==void 0&&ar(i)&&(r===void 0||!ar(r)))return i.value;if(r!==void 0&&Fs(r)){const[o,a]=wm(this._automationEvents,s,i,r,this._defaultValue);return xm(e,o,a,r)}if(r!==void 0&&fl(r)){const[o,a]=wm(this._automationEvents,s,i,r,this._defaultValue);return Sm(e,o,a,r)}return this._defaultValue}}const QT=t=>({cancelTime:t,type:"cancelAndHold"}),ZT=t=>({cancelTime:t,type:"cancelScheduledValues"}),JT=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),ek=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),tk=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),nk=()=>new DOMException("","AbortError"),rk=t=>(e,n,[r,s,i],o)=>{t(e[s],[n,r,i],a=>a[0]===n&&a[1]===r,o)},sk=t=>(e,n,r)=>{const s=[];for(let i=0;i<r.numberOfInputs;i+=1)s.push(new Set);t.set(e,{activeInputs:s,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},ik=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},si=new WeakSet,b0=new WeakMap,Zh=new WeakMap,T0=new WeakMap,Jh=new WeakMap,nc=new WeakMap,k0=new WeakMap,Od=new WeakMap,Pd=new WeakMap,Rd=new WeakMap,C0={construct(){return C0}},ok=t=>{try{const e=new Proxy(t,C0);new e}catch{return!1}return!0},bm=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Tm=(t,e)=>{const n=[];let r=t.replace(/^[\s]+/,""),s=r.match(bm);for(;s!==null;){const i=s[1].slice(1,-1),o=s[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,e).toString());n.push(o),r=r.slice(s[0].length).replace(/^[\s]+/,""),s=r.match(bm)}return[n.join(";"),r]},km=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Cm=t=>{if(!ok(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},ak=(t,e,n,r,s,i,o,a,l,c,d,u,h)=>{let p=0;return(m,f,y={credentials:"omit"})=>{const g=d.get(m);if(g!==void 0&&g.has(f))return Promise.resolve();const v=c.get(m);if(v!==void 0){const w=v.get(f);if(w!==void 0)return w}const _=i(m),x=_.audioWorklet===void 0?s(f).then(([w,k])=>{const[b,T]=Tm(w,k),N=`${b};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${T}
})})(window,'_AWGS')`;return n(N)}).then(()=>{const w=h._AWGS.pop();if(w===void 0)throw new SyntaxError;r(_.currentTime,_.sampleRate,()=>w(class{},void 0,(k,b)=>{if(k.trim()==="")throw e();const T=Pd.get(_);if(T!==void 0){if(T.has(k))throw e();Cm(b),km(b.parameterDescriptors),T.set(k,b)}else Cm(b),km(b.parameterDescriptors),Pd.set(_,new Map([[k,b]]))},_.sampleRate,void 0,void 0))}):Promise.all([s(f),Promise.resolve(t(u,u))]).then(([[w,k],b])=>{const T=p+1;p=T;const[N,E]=Tm(w,k),M=`${N};((AudioWorkletProcessor,registerProcessor)=>{${E}
})(${b?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${b?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${b?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${T}',class extends AudioWorkletProcessor{process(){return !1}})`,j=new Blob([M],{type:"application/javascript; charset=utf-8"}),D=URL.createObjectURL(j);return _.audioWorklet.addModule(D,y).then(()=>{if(a(_))return _;const F=o(_);return F.audioWorklet.addModule(D,y).then(()=>F)}).then(F=>{if(l===null)throw new SyntaxError;try{new l(F,`__sac${T}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(D))});return v===void 0?c.set(m,new Map([[f,x]])):v.set(f,x),x.then(()=>{const w=d.get(m);w===void 0?d.set(m,new Set([f])):w.add(f)}).finally(()=>{const w=c.get(m);w!==void 0&&w.delete(f)}),x}},sn=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},rc=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return t.delete(r),r},E0=(t,e,n,r)=>{const s=sn(t,e),i=rc(s,o=>o[0]===n&&o[1]===r);return s.size===0&&t.delete(e),i},Ao=t=>sn(k0,t),ii=t=>{if(si.has(t))throw new Error("The AudioNode is already stored.");si.add(t),Ao(t).forEach(e=>e(!0))},N0=t=>"port"in t,Io=t=>{if(!si.has(t))throw new Error("The AudioNode is not stored.");si.delete(t),Ao(t).forEach(e=>e(!1))},Md=(t,e)=>{!N0(t)&&e.every(n=>n.size===0)&&Io(t)},lk=(t,e,n,r,s,i,o,a,l,c,d,u,h)=>{const p=new WeakMap;return(m,f,y,g,v)=>{const{activeInputs:_,passiveInputs:x}=i(f),{outputs:w}=i(m),k=a(m),b=T=>{const N=l(f),E=l(m);if(T){const I=E0(x,m,y,g);t(_,m,I,!1),!v&&!u(m)&&n(E,N,y,g),h(f)&&ii(f)}else{const I=r(_,m,y,g);e(x,g,I,!1),!v&&!u(m)&&s(E,N,y,g);const A=o(f);if(A===0)d(f)&&Md(f,_);else{const R=p.get(f);R!==void 0&&clearTimeout(R),p.set(f,setTimeout(()=>{d(f)&&Md(f,_)},A*1e3))}}};return c(w,[f,y,g],T=>T[0]===f&&T[1]===y&&T[2]===g,!0)?(k.add(b),d(m)?t(_,m,[y,g,b],!0):e(x,g,[m,y,b],!0),!0):!1}},ck=t=>(e,n,[r,s,i],o)=>{const a=e.get(r);a===void 0?e.set(r,new Set([[s,n,i]])):t(a,[s,n,i],l=>l[0]===s&&l[1]===n,o)},uk=t=>(e,n)=>{const r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const s=()=>{n.removeEventListener("ended",s),n.disconnect(r),r.disconnect()};n.addEventListener("ended",s)},dk=t=>(e,n)=>{t(e).add(n)},hk={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},fk=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const c=s(a),d={...hk,...l},u=r(c,d),h=i(c)?e():null;super(a,!1,u,h),this._nativeAnalyserNode=u}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const l=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=l,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const l=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=l,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}},ot=(t,e)=>t.context===e,pk=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!ot(a,o)){const c={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=t(o,c)}return r.set(o,a),await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},ml=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Tn=()=>new DOMException("","IndexSizeError"),ef=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(r){throw r.code===12?Tn():r}})(t.getChannelData)},mk={numberOfChannels:1},gk=(t,e,n,r,s,i,o,a)=>{let l=null;return class A0{constructor(d){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:u,numberOfChannels:h,sampleRate:p}={...mk,...d};l===null&&(l=new s(1,1,44100));const m=r!==null&&e(i,i)?new r({length:u,numberOfChannels:h,sampleRate:p}):l.createBuffer(h,u,p);if(m.numberOfChannels===0)throw n();return typeof m.copyFromChannel!="function"?(o(m),ef(m)):e(ml,()=>ml(m))||a(m),t.add(m),m}static[Symbol.hasInstance](d){return d!==null&&typeof d=="object"&&Object.getPrototypeOf(d)===A0.prototype||t.has(d)}}},yt=-34028234663852886e22,ct=-yt,Dn=t=>si.has(t),vk={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},yk=(t,e,n,r,s,i,o,a)=>class extends t{constructor(c,d){const u=i(c),h={...vk,...d},p=s(u,h),m=o(u),f=m?e():null;super(c,!1,p,f),this._audioBufferSourceNodeRenderer=f,this._isBufferNullified=!1,this._isBufferSet=h.buffer!==null,this._nativeAudioBufferSourceNode=p,this._onended=null,this._playbackRate=n(this,m,p.playbackRate,ct,yt)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(c){if(this._nativeAudioBufferSourceNode.buffer=c,c!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(c){this._nativeAudioBufferSourceNode.loop=c}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(c){this._nativeAudioBufferSourceNode.loopEnd=c}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(c){this._nativeAudioBufferSourceNode.loopStart=c}get onended(){return this._onended}set onended(c){const d=typeof c=="function"?a(this,c):null;this._nativeAudioBufferSourceNode.onended=d;const u=this._nativeAudioBufferSourceNode.onended;this._onended=u!==null&&u===d?c:u}get playbackRate(){return this._playbackRate}start(c=0,d=0,u){if(this._nativeAudioBufferSourceNode.start(c,d,u),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=u===void 0?[c,d]:[c,d,u]),this.context.state!=="closed"){ii(this);const h=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",h),Dn(this)&&Io(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",h)}}stop(c=0){this._nativeAudioBufferSourceNode.stop(c),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=c)}},_k=(t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,a=null;const l=async(c,d)=>{let u=n(c);const h=ot(u,d);if(!h){const p={buffer:u.buffer,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,loop:u.loop,loopEnd:u.loopEnd,loopStart:u.loopStart,playbackRate:u.playbackRate.value};u=e(d,p),o!==null&&u.start(...o),a!==null&&u.stop(a)}return i.set(d,u),h?await t(d,c.playbackRate,u.playbackRate):await r(d,c.playbackRate,u.playbackRate),await s(c,d,u),u};return{set start(c){o=c},set stop(c){a=c},render(c,d){const u=i.get(d);return u!==void 0?Promise.resolve(u):l(c,d)}}},wk=t=>"playbackRate"in t,xk=t=>"frequency"in t&&"gain"in t,Sk=t=>"offset"in t,bk=t=>!("frequency"in t)&&"gain"in t,Tk=t=>"detune"in t&&"frequency"in t&&!("gain"in t),kk=t=>"pan"in t,ut=t=>sn(b0,t),Oo=t=>sn(T0,t),Dd=(t,e)=>{const{activeInputs:n}=ut(t);n.forEach(s=>s.forEach(([i])=>{e.includes(t)||Dd(i,[...e,t])}));const r=wk(t)?[t.playbackRate]:N0(t)?Array.from(t.parameters.values()):xk(t)?[t.Q,t.detune,t.frequency,t.gain]:Sk(t)?[t.offset]:bk(t)?[t.gain]:Tk(t)?[t.detune,t.frequency]:kk(t)?[t.pan]:[];for(const s of r){const i=Oo(s);i!==void 0&&i.activeInputs.forEach(([o])=>Dd(o,e))}Dn(t)&&Io(t)},I0=t=>{Dd(t.destination,[])},Ck=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),Ek=(t,e,n,r,s,i,o,a,l)=>class extends t{constructor(d={}){if(l===null)throw new Error("Missing the native AudioContext constructor.");let u;try{u=new l(d)}catch(m){throw m.code===12&&m.message==="sampleRate is not in range"?n():m}if(u===null)throw r();if(!Ck(d.latencyHint))throw new TypeError(`The provided value '${d.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(d.sampleRate!==void 0&&u.sampleRate!==d.sampleRate)throw n();super(u,2);const{latencyHint:h}=d,{sampleRate:p}=u;if(this._baseLatency=typeof u.baseLatency=="number"?u.baseLatency:h==="balanced"?512/p:h==="interactive"||h===void 0?256/p:h==="playback"?1024/p:Math.max(2,Math.min(128,Math.round(h*p/128)))*128/p,this._nativeAudioContext=u,l.name==="webkitAudioContext"?(this._nativeGainNode=u.createGain(),this._nativeOscillatorNode=u.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(u.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,u.state==="running"){this._state="suspended";const m=()=>{this._state==="suspended"&&(this._state=null),u.removeEventListener("statechange",m)};u.addEventListener("statechange",m)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),I0(this)}))}createMediaElementSource(d){return new s(this,{mediaElement:d})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(d){return new o(this,{mediaStream:d})}createMediaStreamTrackSource(d){return new a(this,{mediaStreamTrack:d})}resume(){return this._state==="suspended"?new Promise((d,u)=>{const h=()=>{this._nativeAudioContext.removeEventListener("statechange",h),this._nativeAudioContext.state==="running"?d():this.resume().then(d,u)};this._nativeAudioContext.addEventListener("statechange",h)}):this._nativeAudioContext.resume().catch(d=>{throw d===void 0||d.code===15?e():d})}suspend(){return this._nativeAudioContext.suspend().catch(d=>{throw d===void 0?e():d})}},Nk=(t,e,n,r,s,i,o,a)=>class extends t{constructor(c,d){const u=i(c),h=o(u),p=s(u,d,h),m=h?e(a):null;super(c,!1,p,m),this._isNodeOfNativeOfflineAudioContext=h,this._nativeAudioDestinationNode=p}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(c){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(c>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=c}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(c){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=c}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},Ak=t=>{const e=new WeakMap,n=async(r,s)=>{const i=s.destination;return e.set(s,i),await t(r,s,i),i};return{render(r,s){const i=e.get(s);return i!==void 0?Promise.resolve(i):n(r,s)}}},Ik=(t,e,n,r,s,i,o,a)=>(l,c)=>{const d=c.listener,u=()=>{const w=new Float32Array(1),k=e(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),b=o(c);let T=!1,N=[0,0,-1,0,1,0],E=[0,0,0];const I=()=>{if(T)return;T=!0;const j=r(c,256,9,0);j.onaudioprocess=({inputBuffer:D})=>{const F=[i(D,w,0),i(D,w,1),i(D,w,2),i(D,w,3),i(D,w,4),i(D,w,5)];F.some((P,L)=>P!==N[L])&&(d.setOrientation(...F),N=F);const O=[i(D,w,6),i(D,w,7),i(D,w,8)];O.some((P,L)=>P!==E[L])&&(d.setPosition(...O),E=O)},k.connect(j)},A=j=>D=>{D!==N[j]&&(N[j]=D,d.setOrientation(...N))},R=j=>D=>{D!==E[j]&&(E[j]=D,d.setPosition(...E))},M=(j,D,F)=>{const O=n(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:D});O.connect(k,0,j),O.start(),Object.defineProperty(O.offset,"defaultValue",{get(){return D}});const P=t({context:l},b,O.offset,ct,yt);return a(P,"value",L=>()=>L.call(P),L=>U=>{try{L.call(P,U)}catch(H){if(H.code!==9)throw H}I(),b&&F(U)}),P.cancelAndHoldAtTime=(L=>b?()=>{throw s()}:(...U)=>{const H=L.apply(P,U);return I(),H})(P.cancelAndHoldAtTime),P.cancelScheduledValues=(L=>b?()=>{throw s()}:(...U)=>{const H=L.apply(P,U);return I(),H})(P.cancelScheduledValues),P.exponentialRampToValueAtTime=(L=>b?()=>{throw s()}:(...U)=>{const H=L.apply(P,U);return I(),H})(P.exponentialRampToValueAtTime),P.linearRampToValueAtTime=(L=>b?()=>{throw s()}:(...U)=>{const H=L.apply(P,U);return I(),H})(P.linearRampToValueAtTime),P.setTargetAtTime=(L=>b?()=>{throw s()}:(...U)=>{const H=L.apply(P,U);return I(),H})(P.setTargetAtTime),P.setValueAtTime=(L=>b?()=>{throw s()}:(...U)=>{const H=L.apply(P,U);return I(),H})(P.setValueAtTime),P.setValueCurveAtTime=(L=>b?()=>{throw s()}:(...U)=>{const H=L.apply(P,U);return I(),H})(P.setValueCurveAtTime),P};return{forwardX:M(0,0,A(0)),forwardY:M(1,0,A(1)),forwardZ:M(2,-1,A(2)),positionX:M(6,0,R(0)),positionY:M(7,0,R(1)),positionZ:M(8,0,R(2)),upX:M(3,0,A(3)),upY:M(4,1,A(4)),upZ:M(5,0,A(5))}},{forwardX:h,forwardY:p,forwardZ:m,positionX:f,positionY:y,positionZ:g,upX:v,upY:_,upZ:x}=d.forwardX===void 0?u():d;return{get forwardX(){return h},get forwardY(){return p},get forwardZ(){return m},get positionX(){return f},get positionY(){return y},get positionZ(){return g},get upX(){return v},get upY(){return _},get upZ(){return x}}},gl=t=>"context"in t,Po=t=>gl(t[0]),hs=(t,e,n,r)=>{for(const s of t)if(n(s)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},Em=(t,e,[n,r],s)=>{hs(t,[e,n,r],i=>i[0]===e&&i[1]===n,s)},Nm=(t,[e,n,r],s)=>{const i=t.get(e);i===void 0?t.set(e,new Set([[n,r]])):hs(i,[n,r],o=>o[0]===n,s)},vi=t=>"inputs"in t,vl=(t,e,n,r)=>{if(vi(e)){const s=e.inputs[r];return t.connect(s,n,0),[s,n,0]}return t.connect(e,n,r),[e,n,r]},O0=(t,e,n)=>{for(const r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null},Ok=(t,e,n)=>rc(t,r=>r[0]===e&&r[1]===n),P0=(t,e)=>{if(!Ao(t).delete(e))throw new Error("Missing the expected event listener.")},R0=(t,e,n)=>{const r=sn(t,e),s=rc(r,i=>i[0]===n);return r.size===0&&t.delete(e),s},yl=(t,e,n,r)=>{vi(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)},Se=t=>sn(Zh,t),vo=t=>sn(Jh,t),ts=t=>Od.has(t),Ma=t=>!si.has(t),Am=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const r=t.createScriptProcessor(256,1,1),s=t.createGain(),i=t.createBuffer(1,2,44100),o=i.getChannelData(0);o[0]=1,o[1]=1;const a=t.createBufferSource();a.buffer=i,a.loop=!0,a.connect(r).connect(t.destination),a.connect(s),a.disconnect(s),r.onaudioprocess=l=>{const c=l.inputBuffer.getChannelData(0);Array.prototype.some.call(c,d=>d===1)?n(!0):n(!1),a.stop(),r.onaudioprocess=null,a.disconnect(r),r.disconnect(t.destination)},a.start()}}),hu=(t,e)=>{const n=new Map;for(const r of t)for(const s of r){const i=n.get(s);n.set(s,i===void 0?1:i+1)}n.forEach((r,s)=>e(s,r))},_l=t=>"context"in t,Pk=t=>{const e=new Map;t.connect=(n=>(r,s=0,i=0)=>{const o=_l(r)?n(r,s,i):n(r,s),a=e.get(r);return a===void 0?e.set(r,[{input:i,output:s}]):a.every(l=>l.input!==i||l.output!==s)&&a.push({input:i,output:s}),o})(t.connect.bind(t)),t.disconnect=(n=>(r,s,i)=>{if(n.apply(t),r===void 0)e.clear();else if(typeof r=="number")for(const[o,a]of e){const l=a.filter(c=>c.output!==r);l.length===0?e.delete(o):e.set(o,l)}else if(e.has(r))if(s===void 0)e.delete(r);else{const o=e.get(r);if(o!==void 0){const a=o.filter(l=>l.output!==s&&(l.input!==i||i===void 0));a.length===0?e.delete(r):e.set(r,a)}}for(const[o,a]of e)a.forEach(l=>{_l(o)?t.connect(o,l.output,l.input):t.connect(o,l.output)})})(t.disconnect)},Rk=(t,e,n,r)=>{const{activeInputs:s,passiveInputs:i}=Oo(e),{outputs:o}=ut(t),a=Ao(t),l=c=>{const d=Se(t),u=vo(e);if(c){const h=R0(i,t,n);Em(s,t,h,!1),!r&&!ts(t)&&d.connect(u,n)}else{const h=Ok(s,t,n);Nm(i,h,!1),!r&&!ts(t)&&d.disconnect(u,n)}};return hs(o,[e,n],c=>c[0]===e&&c[1]===n,!0)?(a.add(l),Dn(t)?Em(s,t,[n,l],!0):Nm(i,[t,n,l],!0),!0):!1},Mk=(t,e,n,r)=>{const{activeInputs:s,passiveInputs:i}=ut(e),o=O0(s[r],t,n);return o===null?[E0(i,t,n,r)[2],!1]:[o[2],!0]},Dk=(t,e,n)=>{const{activeInputs:r,passiveInputs:s}=Oo(e),i=O0(r,t,n);return i===null?[R0(s,t,n)[1],!1]:[i[2],!0]},tf=(t,e,n,r,s)=>{const[i,o]=Mk(t,n,r,s);if(i!==null&&(P0(t,i),o&&!e&&!ts(t)&&yl(Se(t),Se(n),r,s)),Dn(n)){const{activeInputs:a}=ut(n);Md(n,a)}},nf=(t,e,n,r)=>{const[s,i]=Dk(t,n,r);s!==null&&(P0(t,s),i&&!e&&!ts(t)&&Se(t).disconnect(vo(n),r))},Fk=(t,e)=>{const n=ut(t),r=[];for(const s of n.outputs)Po(s)?tf(t,e,...s):nf(t,e,...s),r.push(s[0]);return n.outputs.clear(),r},Lk=(t,e,n)=>{const r=ut(t),s=[];for(const i of r.outputs)i[1]===n&&(Po(i)?tf(t,e,...i):nf(t,e,...i),s.push(i[0]),r.outputs.delete(i));return s},Vk=(t,e,n,r,s)=>{const i=ut(t);return Array.from(i.outputs).filter(o=>o[0]===n&&(r===void 0||o[1]===r)&&(s===void 0||o[2]===s)).map(o=>(Po(o)?tf(t,e,...o):nf(t,e,...o),i.outputs.delete(o),o[0]))},jk=(t,e,n,r,s,i,o,a,l,c,d,u,h,p,m,f)=>class extends c{constructor(g,v,_,x){super(_),this._context=g,this._nativeAudioNode=_;const w=d(g);u(w)&&n(Am,()=>Am(w,f))!==!0&&Pk(_),Zh.set(this,_),k0.set(this,new Set),g.state!=="closed"&&v&&ii(this),t(this,x,_)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(g){this._nativeAudioNode.channelCount=g}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(g){this._nativeAudioNode.channelCountMode=g}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(g){this._nativeAudioNode.channelInterpretation=g}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(g,v=0,_=0){if(v<0||v>=this._nativeAudioNode.numberOfOutputs)throw s();const x=d(this._context),w=m(x);if(h(g)||p(g))throw i();if(gl(g)){const T=Se(g);try{const E=vl(this._nativeAudioNode,T,v,_),I=Ma(this);(w||I)&&this._nativeAudioNode.disconnect(...E),this.context.state!=="closed"&&!I&&Ma(g)&&ii(g)}catch(E){throw E.code===12?i():E}if(e(this,g,v,_,w)){const E=l([this],g);hu(E,r(w))}return g}const k=vo(g);if(k.name==="playbackRate"&&k.maxValue===1024)throw o();try{this._nativeAudioNode.connect(k,v),(w||Ma(this))&&this._nativeAudioNode.disconnect(k,v)}catch(T){throw T.code===12?i():T}if(Rk(this,g,v,w)){const T=l([this],g);hu(T,r(w))}}disconnect(g,v,_){let x;const w=d(this._context),k=m(w);if(g===void 0)x=Fk(this,k);else if(typeof g=="number"){if(g<0||g>=this.numberOfOutputs)throw s();x=Lk(this,k,g)}else{if(v!==void 0&&(v<0||v>=this.numberOfOutputs)||gl(g)&&_!==void 0&&(_<0||_>=g.numberOfInputs))throw s();if(x=Vk(this,k,g,v,_),x.length===0)throw i()}for(const b of x){const T=l([this],b);hu(T,a)}}},Uk=(t,e,n,r,s,i,o,a,l,c,d,u,h)=>(p,m,f,y=null,g=null)=>{const v=f.value,_=new KT(v),x=m?r(_):null,w={get defaultValue(){return v},get maxValue(){return y===null?f.maxValue:y},get minValue(){return g===null?f.minValue:g},get value(){return f.value},set value(k){f.value=k,w.setValueAtTime(k,p.context.currentTime)},cancelAndHoldAtTime(k){if(typeof f.cancelAndHoldAtTime=="function")x===null&&_.flush(p.context.currentTime),_.add(s(k)),f.cancelAndHoldAtTime(k);else{const b=Array.from(_).pop();x===null&&_.flush(p.context.currentTime),_.add(s(k));const T=Array.from(_).pop();f.cancelScheduledValues(k),b!==T&&T!==void 0&&(T.type==="exponentialRampToValue"?f.exponentialRampToValueAtTime(T.value,T.endTime):T.type==="linearRampToValue"?f.linearRampToValueAtTime(T.value,T.endTime):T.type==="setValue"?f.setValueAtTime(T.value,T.startTime):T.type==="setValueCurve"&&f.setValueCurveAtTime(T.values,T.startTime,T.duration))}return w},cancelScheduledValues(k){return x===null&&_.flush(p.context.currentTime),_.add(i(k)),f.cancelScheduledValues(k),w},exponentialRampToValueAtTime(k,b){if(k===0)throw new RangeError;if(!Number.isFinite(b)||b<0)throw new RangeError;const T=p.context.currentTime;return x===null&&_.flush(T),Array.from(_).length===0&&(_.add(c(v,T)),f.setValueAtTime(v,T)),_.add(o(k,b)),f.exponentialRampToValueAtTime(k,b),w},linearRampToValueAtTime(k,b){const T=p.context.currentTime;return x===null&&_.flush(T),Array.from(_).length===0&&(_.add(c(v,T)),f.setValueAtTime(v,T)),_.add(a(k,b)),f.linearRampToValueAtTime(k,b),w},setTargetAtTime(k,b,T){return x===null&&_.flush(p.context.currentTime),_.add(l(k,b,T)),f.setTargetAtTime(k,b,T),w},setValueAtTime(k,b){return x===null&&_.flush(p.context.currentTime),_.add(c(k,b)),f.setValueAtTime(k,b),w},setValueCurveAtTime(k,b,T){const N=k instanceof Float32Array?k:new Float32Array(k);if(u!==null&&u.name==="webkitAudioContext"){const E=b+T,I=p.context.sampleRate,A=Math.ceil(b*I),R=Math.floor(E*I),M=R-A,j=new Float32Array(M);for(let F=0;F<M;F+=1){const O=(N.length-1)/T*((A+F)/I-b),P=Math.floor(O),L=Math.ceil(O);j[F]=P===L?N[P]:(1-(O-P))*N[P]+(1-(L-O))*N[L]}x===null&&_.flush(p.context.currentTime),_.add(d(j,b,T)),f.setValueCurveAtTime(j,b,T);const D=R/I;D<E&&h(w,j[j.length-1],D),h(w,N[N.length-1],E)}else x===null&&_.flush(p.context.currentTime),_.add(d(N,b,T)),f.setValueCurveAtTime(N,b,T);return w}};return n.set(w,f),e.set(w,p),t(w,x),w},Bk=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:r,value:s}=n;e.exponentialRampToValueAtTime(s,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:s}=n;e.linearRampToValueAtTime(s,r)}else if(n.type==="setTarget"){const{startTime:r,target:s,timeConstant:i}=n;e.setTargetAtTime(s,r,i)}else if(n.type==="setValue"){const{startTime:r,value:s}=n;e.setValueAtTime(s,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:s,values:i}=n;e.setValueCurveAtTime(i,s,r)}else throw new Error("Can't apply an unknown automation.")}});class M0{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((r,s)=>e.call(n,r,s,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const zk={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Wk=(t,e,n,r,s,i,o,a,l,c,d,u,h,p)=>class extends e{constructor(f,y,g){var v;const _=a(f),x=l(_),w=d({...zk,...g});h(w);const k=Pd.get(_),b=k==null?void 0:k.get(y),T=x||_.state!=="closed"?_:(v=o(_))!==null&&v!==void 0?v:_,N=s(T,x?null:f.baseLatency,c,y,b,w),E=x?r(y,w,b):null;super(f,!0,N,E);const I=[];N.parameters.forEach((R,M)=>{const j=n(this,x,R);I.push([M,j])}),this._nativeAudioWorkletNode=N,this._onprocessorerror=null,this._parameters=new M0(I),x&&t(_,this);const{activeInputs:A}=i(this);u(N,A)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(f){const y=typeof f=="function"?p(this,f):null;this._nativeAudioWorkletNode.onprocessorerror=y;const g=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=g!==null&&g===y?f:g}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function wl(t,e,n,r,s){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,s);else{const i=t.getChannelData(r);if(e[n].byteLength===0)e[n]=i.slice(s,s+128);else{const o=new Float32Array(i.buffer,s*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(o)}}}const D0=(t,e,n,r,s)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],r,s):e[n].byteLength!==0&&t.getChannelData(r).set(e[n],s)},xl=(t,e)=>{const n=[];for(let r=0;r<t;r+=1){const s=[],i=typeof e=="number"?e:e[r];for(let o=0;o<i;o+=1)s.push(new Float32Array(128));n.push(s)}return n},$k=(t,e)=>{const n=sn(Rd,t),r=Se(e);return sn(n,r)},qk=async(t,e,n,r,s,i,o)=>{const a=e===null?Math.ceil(t.context.length/128)*128:e.length,l=r.channelCount*r.numberOfInputs,c=s.reduce((y,g)=>y+g,0),d=c===0?null:n.createBuffer(c,a,n.sampleRate);if(i===void 0)throw new Error("Missing the processor constructor.");const u=ut(t),h=await $k(n,t),p=xl(r.numberOfInputs,r.channelCount),m=xl(r.numberOfOutputs,s),f=Array.from(t.parameters.keys()).reduce((y,g)=>({...y,[g]:new Float32Array(128)}),{});for(let y=0;y<a;y+=128){if(r.numberOfInputs>0&&e!==null)for(let g=0;g<r.numberOfInputs;g+=1)for(let v=0;v<r.channelCount;v+=1)wl(e,p[g],v,v,y);i.parameterDescriptors!==void 0&&e!==null&&i.parameterDescriptors.forEach(({name:g},v)=>{wl(e,f,g,l+v,y)});for(let g=0;g<r.numberOfInputs;g+=1)for(let v=0;v<s[g];v+=1)m[g][v].byteLength===0&&(m[g][v]=new Float32Array(128));try{const g=p.map((_,x)=>u.activeInputs[x].size===0?[]:_),v=o(y/n.sampleRate,n.sampleRate,()=>h.process(g,m,f));if(d!==null)for(let _=0,x=0;_<r.numberOfOutputs;_+=1){for(let w=0;w<s[_];w+=1)D0(d,m[_],w,x+w,y);x+=s[_]}if(!v)break}catch(g){t.dispatchEvent(new ErrorEvent("processorerror",{colno:g.colno,filename:g.filename,lineno:g.lineno,message:g.message}));break}}return d},Hk=(t,e,n,r,s,i,o,a,l,c,d,u,h,p,m,f)=>(y,g,v)=>{const _=new WeakMap;let x=null;const w=async(k,b)=>{let T=d(k),N=null;const E=ot(T,b),I=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(u===null){const A=I.reduce((D,F)=>D+F,0),R=s(b,{channelCount:Math.max(1,A),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,A)}),M=[];for(let D=0;D<k.numberOfOutputs;D+=1)M.push(r(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:I[D]}));const j=o(b,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1});j.connect=e.bind(null,M),j.disconnect=l.bind(null,M),N=[R,M,j]}else E||(T=new u(b,y));if(_.set(b,N===null?T:N[2]),N!==null){if(x===null){if(v===void 0)throw new Error("Missing the processor constructor.");if(h===null)throw new Error("Missing the native OfflineAudioContext constructor.");const F=k.channelCount*k.numberOfInputs,O=v.parameterDescriptors===void 0?0:v.parameterDescriptors.length,P=F+O;x=qk(k,P===0?null:await(async()=>{const U=new h(P,Math.ceil(k.context.length/128)*128,b.sampleRate),H=[],Te=[];for(let Z=0;Z<g.numberOfInputs;Z+=1)H.push(o(U,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),Te.push(s(U,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const le=await Promise.all(Array.from(k.parameters.values()).map(async Z=>{const $=i(U,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Z.value});return await p(U,Z,$.offset),$})),K=r(U,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,F+O)});for(let Z=0;Z<g.numberOfInputs;Z+=1){H[Z].connect(Te[Z]);for(let $=0;$<g.channelCount;$+=1)Te[Z].connect(K,$,Z*g.channelCount+$)}for(const[Z,$]of le.entries())$.connect(K,0,F+Z),$.start(0);return K.connect(U.destination),await Promise.all(H.map(Z=>m(k,U,Z))),f(U)})(),b,g,I,v,c)}const A=await x,R=n(b,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[M,j,D]=N;A!==null&&(R.buffer=A,R.start(0)),R.connect(M);for(let F=0,O=0;F<k.numberOfOutputs;F+=1){const P=j[F];for(let L=0;L<I[F];L+=1)M.connect(P,O+L,L);O+=I[F]}return D}if(E)for(const[A,R]of k.parameters.entries())await t(b,R,T.parameters.get(A));else for(const[A,R]of k.parameters.entries())await p(b,R,T.parameters.get(A));return await m(k,b,T),T};return{render(k,b){a(b,k);const T=_.get(b);return T!==void 0?Promise.resolve(T):w(k,b)}}},Gk=(t,e,n,r,s,i,o,a,l,c,d,u,h,p,m,f,y,g,v,_)=>class extends m{constructor(w,k){super(w,k),this._nativeContext=w,this._audioWorklet=t===void 0?void 0:{addModule:(b,T)=>t(this,b,T)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new s(this)}createBuffer(w,k,b){return new n({length:k,numberOfChannels:w,sampleRate:b})}createBufferSource(){return new r(this)}createChannelMerger(w=6){return new i(this,{numberOfInputs:w})}createChannelSplitter(w=6){return new o(this,{numberOfOutputs:w})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(w=1){return new d(this,{maxDelayTime:w})}createDynamicsCompressor(){return new u(this)}createGain(){return new h(this)}createIIRFilter(w,k){return new p(this,{feedback:k,feedforward:w})}createOscillator(){return new f(this)}createPanner(){return new y(this)}createPeriodicWave(w,k,b={disableNormalization:!1}){return new g(this,{...b,imag:k,real:w})}createStereoPanner(){return new v(this)}createWaveShaper(){return new _(this)}decodeAudioData(w,k,b){return c(this._nativeContext,w).then(T=>(typeof k=="function"&&k(T),T),T=>{throw typeof b=="function"&&b(T),T})}},Yk={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Xk=(t,e,n,r,s,i,o,a)=>class extends t{constructor(c,d){const u=i(c),h={...Yk,...d},p=s(u,h),m=o(u),f=m?n():null;super(c,!1,p,f),this._Q=e(this,m,p.Q,ct,yt),this._detune=e(this,m,p.detune,1200*Math.log2(ct),-1200*Math.log2(ct)),this._frequency=e(this,m,p.frequency,c.sampleRate/2,0),this._gain=e(this,m,p.gain,40*Math.log10(ct),yt),this._nativeBiquadFilterNode=p,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(c){this._nativeBiquadFilterNode.type=c}getFrequencyResponse(c,d,u){try{this._nativeBiquadFilterNode.getFrequencyResponse(c,d,u)}catch(h){throw h.code===11?r():h}if(c.length!==d.length||d.length!==u.length)throw r()}},Kk=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let c=n(a);const d=ot(c,l);if(!d){const u={Q:c.Q.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,detune:c.detune.value,frequency:c.frequency.value,gain:c.gain.value,type:c.type};c=e(l,u)}return i.set(l,c),d?(await t(l,a.Q,c.Q),await t(l,a.detune,c.detune),await t(l,a.frequency,c.frequency),await t(l,a.gain,c.gain)):(await r(l,a.Q,c.Q),await r(l,a.detune,c.detune),await r(l,a.frequency,c.frequency),await r(l,a.gain,c.gain)),await s(a,l,c),c};return{render(a,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):o(a,l)}}},Qk=(t,e)=>(n,r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t.get(n);if(i!==void 0)return i;try{const o=r();return o instanceof Promise?(t.set(n,o),o.catch(()=>!1).then(a=>(t.delete(n),e.set(n,a),a))):(e.set(n,o),o)}catch{return e.set(n,!1),!1}},Zk={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Jk=(t,e,n,r,s)=>class extends t{constructor(o,a){const l=r(o),c={...Zk,...a},d=n(l,c),u=s(l)?e():null;super(o,!1,d,u)}},eC=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!ot(a,o)){const c={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(o,c)}return r.set(o,a),await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},tC={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},nC=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const c=r(a),d=i({...tC,...l}),u=n(c,d),h=s(c)?e():null;super(a,!1,u,h)}},rC=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!ot(a,o)){const c={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(o,c)}return r.set(o,a),await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},sC=t=>(e,n,r)=>t(n,e,r),iC=t=>(e,n,r=0,s=0)=>{const i=e[r];if(i===void 0)throw t();return _l(n)?i.connect(n,0,s):i.connect(n,0)},oC=t=>(e,n)=>{const r=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),s=e.createBuffer(1,2,44100);return r.buffer=s,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}},aC={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},lC=(t,e,n,r,s,i,o)=>class extends t{constructor(l,c){const d=s(l),u={...aC,...c},h=r(d,u),p=i(d),m=p?n():null;super(l,!1,h,m),this._constantSourceNodeRenderer=m,this._nativeConstantSourceNode=h,this._offset=e(this,p,h.offset,ct,yt),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(l){const c=typeof l=="function"?o(this,l):null;this._nativeConstantSourceNode.onended=c;const d=this._nativeConstantSourceNode.onended;this._onended=d!==null&&d===c?l:d}start(l=0){if(this._nativeConstantSourceNode.start(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=l),this.context.state!=="closed"){ii(this);const c=()=>{this._nativeConstantSourceNode.removeEventListener("ended",c),Dn(this)&&Io(this)};this._nativeConstantSourceNode.addEventListener("ended",c)}}stop(l=0){this._nativeConstantSourceNode.stop(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=l)}},cC=(t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,a=null;const l=async(c,d)=>{let u=n(c);const h=ot(u,d);if(!h){const p={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,offset:u.offset.value};u=e(d,p),o!==null&&u.start(o),a!==null&&u.stop(a)}return i.set(d,u),h?await t(d,c.offset,u.offset):await r(d,c.offset,u.offset),await s(c,d,u),u};return{set start(c){o=c},set stop(c){a=c},render(c,d){const u=i.get(d);return u!==void 0?Promise.resolve(u):l(c,d)}}},uC=t=>e=>(t[0]=e,t[0]),dC={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},hC=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const c=r(a),d={...dC,...l},u=n(c,d),p=s(c)?e():null;super(a,!1,u,p),this._isBufferNullified=!1,this._nativeConvolverNode=u,d.buffer!==null&&i(this,d.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){const l=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=l.createBuffer(1,1,l.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}},fC=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!ot(a,o)){const c={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(o,c)}return r.set(o,a),vi(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},pC=(t,e)=>(n,r,s)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,r,s)}catch(i){throw i.name==="SyntaxError"?t():i}},mC=()=>new DOMException("","DataCloneError"),Im=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(r=>{const s=()=>{n.onmessage=null,e.close(),n.close(),r()};n.onmessage=()=>s();try{e.postMessage(t,[t])}catch{}finally{s()}})},gC=(t,e,n,r,s,i,o,a,l,c,d)=>(u,h)=>{const p=o(u)?u:i(u);if(s.has(h)){const m=n();return Promise.reject(m)}try{s.add(h)}catch{}return e(l,()=>l(p))?p.decodeAudioData(h).then(m=>(Im(h).catch(()=>{}),e(a,()=>a(m))||d(m),t.add(m),m)):new Promise((m,f)=>{const y=async()=>{try{await Im(h)}catch{}},g=v=>{f(v),y()};try{p.decodeAudioData(h,v=>{typeof v.copyFromChannel!="function"&&(c(v),ef(v)),t.add(v),y().then(()=>m(v))},v=>{g(v===null?r():v)})}catch(v){g(v)}})},vC=(t,e,n,r,s,i,o,a)=>(l,c)=>{const d=e.get(l);if(d===void 0)throw new Error("Missing the expected cycle count.");const u=i(l.context),h=a(u);if(d===c){if(e.delete(l),!h&&o(l)){const p=r(l),{outputs:m}=n(l);for(const f of m)if(Po(f)){const y=r(f[0]);t(p,y,f[1],f[2])}else{const y=s(f[0]);p.connect(y,f[1])}}}else e.set(l,d-c)},yC={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},_C=(t,e,n,r,s,i,o)=>class extends t{constructor(l,c){const d=s(l),u={...yC,...c},h=r(d,u),p=i(d),m=p?n(u.maxDelayTime):null;super(l,!1,h,m),this._delayTime=e(this,p,h.delayTime),o(this,u.maxDelayTime)}get delayTime(){return this._delayTime}},wC=(t,e,n,r,s)=>i=>{const o=new WeakMap,a=async(l,c)=>{let d=n(l);const u=ot(d,c);if(!u){const h={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,delayTime:d.delayTime.value,maxDelayTime:i};d=e(c,h)}return o.set(c,d),u?await t(c,l.delayTime,d.delayTime):await r(c,l.delayTime,d.delayTime),await s(l,c,d),d};return{render(l,c){const d=o.get(c);return d!==void 0?Promise.resolve(d):a(l,c)}}},xC=t=>(e,n,r,s)=>t(e[s],i=>i[0]===n&&i[1]===r),SC=t=>(e,n)=>{t(e).delete(n)},bC=t=>"delayTime"in t,TC=(t,e,n)=>function r(s,i){const o=gl(i)?i:n(t,i);if(bC(o))return[];if(s[0]===o)return[s];if(s.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map(l=>r([...s,o],l[0])).reduce((l,c)=>l.concat(c),[])},ua=(t,e,n)=>{const r=e[n];if(r===void 0)throw t();return r},kC=t=>(e,n=void 0,r=void 0,s=0)=>n===void 0?e.forEach(i=>i.disconnect()):typeof n=="number"?ua(t,e,n).disconnect():_l(n)?r===void 0?e.forEach(i=>i.disconnect(n)):s===void 0?ua(t,e,r).disconnect(n,0):ua(t,e,r).disconnect(n,0,s):r===void 0?e.forEach(i=>i.disconnect(n)):ua(t,e,r).disconnect(n,0),CC={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},EC=(t,e,n,r,s,i,o,a)=>class extends t{constructor(c,d){const u=i(c),h={...CC,...d},p=r(u,h),m=o(u),f=m?n():null;super(c,!1,p,f),this._attack=e(this,m,p.attack),this._knee=e(this,m,p.knee),this._nativeDynamicsCompressorNode=p,this._ratio=e(this,m,p.ratio),this._release=e(this,m,p.release),this._threshold=e(this,m,p.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(c){const d=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=c,c>2)throw this._nativeDynamicsCompressorNode.channelCount=d,s()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(c){const d=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=c,c==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=d,s()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},NC=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let c=n(a);const d=ot(c,l);if(!d){const u={attack:c.attack.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,knee:c.knee.value,ratio:c.ratio.value,release:c.release.value,threshold:c.threshold.value};c=e(l,u)}return i.set(l,c),d?(await t(l,a.attack,c.attack),await t(l,a.knee,c.knee),await t(l,a.ratio,c.ratio),await t(l,a.release,c.release),await t(l,a.threshold,c.threshold)):(await r(l,a.attack,c.attack),await r(l,a.knee,c.knee),await r(l,a.ratio,c.ratio),await r(l,a.release,c.release),await r(l,a.threshold,c.threshold)),await s(a,l,c),c};return{render(a,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):o(a,l)}}},AC=()=>new DOMException("","EncodingError"),IC=t=>e=>new Promise((n,r)=>{if(t===null){r(new SyntaxError);return}const s=t.document.head;if(s===null)r(new SyntaxError);else{const i=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),l=t.onerror,c=()=>{t.onerror=l,URL.revokeObjectURL(a)};t.onerror=(d,u,h,p,m)=>{if(u===a||u===t.location.href&&h===1&&p===1)return c(),r(m),!1;if(l!==null)return l(d,u,h,p,m)},i.onerror=()=>{c(),r(new SyntaxError)},i.onload=()=>{c(),n()},i.src=a,i.type="module",s.appendChild(i)}}),OC=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,s){if(r!==null){let i=this._listeners.get(r);i===void 0&&(i=t(this,r),typeof r=="function"&&this._listeners.set(r,i)),this._nativeEventTarget.addEventListener(n,i,s)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,s){const i=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,i===void 0?null:i,s)}},PC=t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},RC=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},MC={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},DC=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const c=s(a),d={...MC,...l},u=r(c,d),h=i(c),p=h?n():null;super(a,!1,u,p),this._gain=e(this,h,u.gain,ct,yt)}get gain(){return this._gain}},FC=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let c=n(a);const d=ot(c,l);if(!d){const u={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,gain:c.gain.value};c=e(l,u)}return i.set(l,c),d?await t(l,a.gain,c.gain):await r(l,a.gain,c.gain),await s(a,l,c),c};return{render(a,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):o(a,l)}}},LC=(t,e)=>n=>e(t,n),VC=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},jC=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},UC=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},BC=t=>e=>t.get(e),Xe=()=>new DOMException("","InvalidStateError"),zC=t=>e=>{const n=t.get(e);if(n===void 0)throw Xe();return n},WC=(t,e)=>n=>{let r=t.get(n);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r},$C=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},sc=()=>new DOMException("","InvalidAccessError"),qC=t=>{t.getFrequencyResponse=(e=>(n,r,s)=>{if(n.length!==r.length||r.length!==s.length)throw sc();return e.call(t,n,r,s)})(t.getFrequencyResponse)},HC={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},GC=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const c=r(a),d=s(c),u={...HC,...l},h=e(c,d?null:a.baseLatency,u),p=d?n(u.feedback,u.feedforward):null;super(a,!1,h,p),qC(h),this._nativeIIRFilterNode=h,i(this,1)}getFrequencyResponse(a,l,c){return this._nativeIIRFilterNode.getFrequencyResponse(a,l,c)}},F0=(t,e,n,r,s,i,o,a,l,c,d)=>{const u=c.length;let h=a;for(let p=0;p<u;p+=1){let m=n[0]*c[p];for(let f=1;f<s;f+=1){const y=h-f&l-1;m+=n[f]*i[y],m-=t[f]*o[y]}for(let f=s;f<r;f+=1)m+=n[f]*i[h-f&l-1];for(let f=s;f<e;f+=1)m-=t[f]*o[h-f&l-1];i[h]=c[p],o[h]=m,h=h+1&l-1,d[p]=m}return h},YC=(t,e,n,r)=>{const s=n instanceof Float64Array?n:new Float64Array(n),i=r instanceof Float64Array?r:new Float64Array(r),o=s.length,a=i.length,l=Math.min(o,a);if(s[0]!==1){for(let m=0;m<o;m+=1)i[m]/=s[0];for(let m=1;m<a;m+=1)s[m]/=s[0]}const c=32,d=new Float32Array(c),u=new Float32Array(c),h=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),p=t.numberOfChannels;for(let m=0;m<p;m+=1){const f=t.getChannelData(m),y=h.getChannelData(m);d.fill(0),u.fill(0),F0(s,o,i,a,l,d,u,0,c,f,y)}return h},XC=(t,e,n,r,s)=>(i,o)=>{const a=new WeakMap;let l=null;const c=async(d,u)=>{let h=null,p=e(d);const m=ot(p,u);if(u.createIIRFilter===void 0?h=t(u,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):m||(p=u.createIIRFilter(o,i)),a.set(u,h===null?p:h),h!==null){if(l===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const y=new n(d.context.destination.channelCount,d.context.length,u.sampleRate);l=(async()=>{await r(d,y,y.destination);const g=await s(y);return YC(g,u,i,o)})()}const f=await l;return h.buffer=f,h.start(0),h}return await r(d,u,p),p};return{render(d,u){const h=a.get(u);return h!==void 0?Promise.resolve(h):c(d,u)}}},KC=(t,e,n,r,s,i)=>o=>(a,l)=>{const c=t.get(a);if(c===void 0){if(!o&&i(a)){const d=r(a),{outputs:u}=n(a);for(const h of u)if(Po(h)){const p=r(h[0]);e(d,p,h[1],h[2])}else{const p=s(h[0]);d.disconnect(p,h[1])}}t.set(a,l)}else t.set(a,c+l)},QC=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},ZC=(t,e)=>n=>t.has(n)||e(n),JC=(t,e)=>n=>t.has(n)||e(n),eE=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},tE=t=>e=>t!==null&&e instanceof t,nE=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,rE=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,sE=(t,e)=>n=>t(n)||e(n),iE=t=>e=>t!==null&&e instanceof t,oE=t=>t!==null&&t.isSecureContext,aE=(t,e,n,r)=>class extends t{constructor(i,o){const a=n(i),l=e(a,o);if(r(a))throw TypeError();super(i,!0,l,null),this._nativeMediaElementAudioSourceNode=l}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},lE={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},cE=(t,e,n,r)=>class extends t{constructor(i,o){const a=n(i);if(r(a))throw new TypeError;const l={...lE,...o},c=e(a,l);super(i,!1,c,null),this._nativeMediaStreamAudioDestinationNode=c}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},uE=(t,e,n,r)=>class extends t{constructor(i,o){const a=n(i),l=e(a,o);if(r(a))throw new TypeError;super(i,!0,l,null),this._nativeMediaStreamAudioSourceNode=l}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},dE=(t,e,n)=>class extends t{constructor(s,i){const o=n(s),a=e(o,i);super(s,!0,a,null)}},hE=(t,e,n,r,s,i)=>class extends n{constructor(a,l){super(a),this._nativeContext=a,nc.set(this,a),r(a)&&s.set(a,new Set),this._destination=new t(this,l),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const l=typeof a=="function"?i(this,a):null;this._nativeContext.onstatechange=l;const c=this._nativeContext.onstatechange;this._onstatechange=c!==null&&c===l?a:c}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},yo=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},fE=(t,e)=>(n,r,s)=>{const i=new Set;return n.connect=(o=>(a,l=0,c=0)=>{const d=i.size===0;if(e(a))return o.call(n,a,l,c),t(i,[a,l,c],u=>u[0]===a&&u[1]===l&&u[2]===c,!0),d&&r(),a;o.call(n,a,l),t(i,[a,l],u=>u[0]===a&&u[1]===l,!0),d&&r()})(n.connect),n.disconnect=(o=>(a,l,c)=>{const d=i.size>0;if(a===void 0)o.apply(n),i.clear();else if(typeof a=="number"){o.call(n,a);for(const h of i)h[1]===a&&i.delete(h)}else{e(a)?o.call(n,a,l,c):o.call(n,a,l);for(const h of i)h[0]===a&&(l===void 0||h[1]===l)&&(c===void 0||h[2]===c)&&i.delete(h)}const u=i.size===0;d&&u&&s()})(n.disconnect),n},Ce=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n]&&(t[n]=r)},qe=(t,e)=>{Ce(t,e,"channelCount"),Ce(t,e,"channelCountMode"),Ce(t,e,"channelInterpretation")},Om=t=>typeof t.getFloatTimeDomainData=="function",pE=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const r=Math.max(n.length,t.fftSize);for(let s=0;s<r;s+=1)e[s]=(n[s]-128)*.0078125;return e}},mE=(t,e)=>(n,r)=>{const s=n.createAnalyser();if(qe(s,r),!(r.maxDecibels>r.minDecibels))throw e();return Ce(s,r,"fftSize"),Ce(s,r,"maxDecibels"),Ce(s,r,"minDecibels"),Ce(s,r,"smoothingTimeConstant"),t(Om,()=>Om(s))||pE(s),s},gE=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,Me=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n].value&&(t[n].value=r)},vE=t=>{t.start=(e=>{let n=!1;return(r=0,s=0,i)=>{if(n)throw Xe();e.call(t,r,s,i),n=!0}})(t.start)},rf=t=>{t.start=(e=>(n=0,r=0,s)=>{if(typeof s=="number"&&s<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,s)})(t.start)},sf=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},yE=(t,e,n,r,s,i,o,a,l,c,d)=>(u,h)=>{const p=u.createBufferSource();return qe(p,h),Me(p,h,"playbackRate"),Ce(p,h,"buffer"),Ce(p,h,"loop"),Ce(p,h,"loopEnd"),Ce(p,h,"loopStart"),e(n,()=>n(u))||vE(p),e(r,()=>r(u))||l(p),e(s,()=>s(u))||c(p,u),e(i,()=>i(u))||rf(p),e(o,()=>o(u))||d(p,u),e(a,()=>a(u))||sf(p),t(u,p),p},_E=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,wE=(t,e)=>(n,r,s)=>{const i=n.destination;if(i.channelCount!==r)try{i.channelCount=r}catch{}s&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:r});const o=t(n,{channelCount:r,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(o,"channelCount",a=>()=>a.call(o),a=>l=>{a.call(o,l);try{i.channelCount=l}catch(c){if(l>i.maxChannelCount)throw c}}),e(o,"channelCountMode",a=>()=>a.call(o),a=>l=>{a.call(o,l),i.channelCountMode=l}),e(o,"channelInterpretation",a=>()=>a.call(o),a=>l=>{a.call(o,l),i.channelInterpretation=l}),Object.defineProperty(o,"maxChannelCount",{get:()=>i.maxChannelCount}),o.connect(i),o},xE=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,SE=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},bE=(t,e,n,r,s)=>(i,o,a,l,c,d)=>{if(a!==null)try{const u=new a(i,l,d),h=new Map;let p=null;if(Object.defineProperties(u,{channelCount:{get:()=>d.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>p,set:m=>{typeof p=="function"&&u.removeEventListener("processorerror",p),p=typeof m=="function"?m:null,typeof p=="function"&&u.addEventListener("processorerror",p)}}}),u.addEventListener=(m=>(...f)=>{if(f[0]==="processorerror"){const y=typeof f[1]=="function"?f[1]:typeof f[1]=="object"&&f[1]!==null&&typeof f[1].handleEvent=="function"?f[1].handleEvent:null;if(y!==null){const g=h.get(f[1]);g!==void 0?f[1]=g:(f[1]=v=>{v.type==="error"?(Object.defineProperties(v,{type:{value:"processorerror"}}),y(v)):y(new ErrorEvent(f[0],{...v}))},h.set(y,f[1]))}}return m.call(u,"error",f[1],f[2]),m.call(u,...f)})(u.addEventListener),u.removeEventListener=(m=>(...f)=>{if(f[0]==="processorerror"){const y=h.get(f[1]);y!==void 0&&(h.delete(f[1]),f[1]=y)}return m.call(u,"error",f[1],f[2]),m.call(u,f[0],f[1],f[2])})(u.removeEventListener),d.numberOfOutputs!==0){const m=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return u.connect(m).connect(i.destination),s(u,()=>m.disconnect(),()=>m.connect(i.destination))}return u}catch(u){throw u.code===11?r():u}if(c===void 0)throw r();return SE(d),e(i,o,c,d)},L0=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),TE=t=>new Promise((e,n)=>{const{port1:r,port2:s}=new MessageChannel;r.onmessage=({data:i})=>{r.close(),s.close(),e(i)},r.onmessageerror=({data:i})=>{r.close(),s.close(),n(i)},s.postMessage(t)}),kE=async(t,e)=>{const n=await TE(e);return new t(n)},CE=(t,e,n,r)=>{let s=Rd.get(t);s===void 0&&(s=new WeakMap,Rd.set(t,s));const i=kE(n,r);return s.set(e,i),i},EE=(t,e,n,r,s,i,o,a,l,c,d,u,h)=>(p,m,f,y)=>{if(y.numberOfInputs===0&&y.numberOfOutputs===0)throw l();const g=Array.isArray(y.outputChannelCount)?y.outputChannelCount:Array.from(y.outputChannelCount);if(g.some(z=>z<1))throw l();if(g.length!==y.numberOfOutputs)throw e();if(y.channelCountMode!=="explicit")throw l();const v=y.channelCount*y.numberOfInputs,_=g.reduce((z,G)=>z+G,0),x=f.parameterDescriptors===void 0?0:f.parameterDescriptors.length;if(v+x>6||_>6)throw l();const w=new MessageChannel,k=[],b=[];for(let z=0;z<y.numberOfInputs;z+=1)k.push(o(p,{channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,gain:1})),b.push(s(p,{channelCount:y.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:y.channelCount}));const T=[];if(f.parameterDescriptors!==void 0)for(const{defaultValue:z,maxValue:G,minValue:ve,name:ye}of f.parameterDescriptors){const te=i(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:y.parameterData[ye]!==void 0?y.parameterData[ye]:z===void 0?0:z});Object.defineProperties(te.offset,{defaultValue:{get:()=>z===void 0?0:z},maxValue:{get:()=>G===void 0?ct:G},minValue:{get:()=>ve===void 0?yt:ve}}),T.push(te)}const N=r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,v+x)}),E=L0(m,p.sampleRate),I=a(p,E,v+x,Math.max(1,_)),A=s(p,{channelCount:Math.max(1,_),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,_)}),R=[];for(let z=0;z<y.numberOfOutputs;z+=1)R.push(r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:g[z]}));for(let z=0;z<y.numberOfInputs;z+=1){k[z].connect(b[z]);for(let G=0;G<y.channelCount;G+=1)b[z].connect(N,G,z*y.channelCount+G)}const M=new M0(f.parameterDescriptors===void 0?[]:f.parameterDescriptors.map(({name:z},G)=>{const ve=T[G];return ve.connect(N,0,v+G),ve.start(0),[z,ve.offset]}));N.connect(I);let j=y.channelInterpretation,D=null;const F=y.numberOfOutputs===0?[I]:R,O={get bufferSize(){return E},get channelCount(){return y.channelCount},set channelCount(z){throw n()},get channelCountMode(){return y.channelCountMode},set channelCountMode(z){throw n()},get channelInterpretation(){return j},set channelInterpretation(z){for(const G of k)G.channelInterpretation=z;j=z},get context(){return I.context},get inputs(){return k},get numberOfInputs(){return y.numberOfInputs},get numberOfOutputs(){return y.numberOfOutputs},get onprocessorerror(){return D},set onprocessorerror(z){typeof D=="function"&&O.removeEventListener("processorerror",D),D=typeof z=="function"?z:null,typeof D=="function"&&O.addEventListener("processorerror",D)},get parameters(){return M},get port(){return w.port2},addEventListener(...z){return I.addEventListener(z[0],z[1],z[2])},connect:t.bind(null,F),disconnect:c.bind(null,F),dispatchEvent(...z){return I.dispatchEvent(z[0])},removeEventListener(...z){return I.removeEventListener(z[0],z[1],z[2])}},P=new Map;w.port1.addEventListener=(z=>(...G)=>{if(G[0]==="message"){const ve=typeof G[1]=="function"?G[1]:typeof G[1]=="object"&&G[1]!==null&&typeof G[1].handleEvent=="function"?G[1].handleEvent:null;if(ve!==null){const ye=P.get(G[1]);ye!==void 0?G[1]=ye:(G[1]=te=>{d(p.currentTime,p.sampleRate,()=>ve(te))},P.set(ve,G[1]))}}return z.call(w.port1,G[0],G[1],G[2])})(w.port1.addEventListener),w.port1.removeEventListener=(z=>(...G)=>{if(G[0]==="message"){const ve=P.get(G[1]);ve!==void 0&&(P.delete(G[1]),G[1]=ve)}return z.call(w.port1,G[0],G[1],G[2])})(w.port1.removeEventListener);let L=null;Object.defineProperty(w.port1,"onmessage",{get:()=>L,set:z=>{typeof L=="function"&&w.port1.removeEventListener("message",L),L=typeof z=="function"?z:null,typeof L=="function"&&(w.port1.addEventListener("message",L),w.port1.start())}}),f.prototype.port=w.port1;let U=null;CE(p,O,f,y).then(z=>U=z);const Te=xl(y.numberOfInputs,y.channelCount),le=xl(y.numberOfOutputs,g),K=f.parameterDescriptors===void 0?[]:f.parameterDescriptors.reduce((z,{name:G})=>({...z,[G]:new Float32Array(128)}),{});let Z=!0;const $=()=>{y.numberOfOutputs>0&&I.disconnect(A);for(let z=0,G=0;z<y.numberOfOutputs;z+=1){const ve=R[z];for(let ye=0;ye<g[z];ye+=1)A.disconnect(ve,G+ye,ye);G+=g[z]}},B=new Map;I.onaudioprocess=({inputBuffer:z,outputBuffer:G})=>{if(U!==null){const ve=u(O);for(let ye=0;ye<E;ye+=128){for(let te=0;te<y.numberOfInputs;te+=1)for(let Pe=0;Pe<y.channelCount;Pe+=1)wl(z,Te[te],Pe,Pe,ye);f.parameterDescriptors!==void 0&&f.parameterDescriptors.forEach(({name:te},Pe)=>{wl(z,K,te,v+Pe,ye)});for(let te=0;te<y.numberOfInputs;te+=1)for(let Pe=0;Pe<g[te];Pe+=1)le[te][Pe].byteLength===0&&(le[te][Pe]=new Float32Array(128));try{const te=Te.map((Ut,Kn)=>{if(ve[Kn].size>0)return B.set(Kn,E/128),Ut;const Vc=B.get(Kn);return Vc===void 0?[]:(Ut.every(p1=>p1.every(m1=>m1===0))&&(Vc===1?B.delete(Kn):B.set(Kn,Vc-1)),Ut)});Z=d(p.currentTime+ye/p.sampleRate,p.sampleRate,()=>U.process(te,le,K));for(let Ut=0,Kn=0;Ut<y.numberOfOutputs;Ut+=1){for(let Ei=0;Ei<g[Ut];Ei+=1)D0(G,le[Ut],Ei,Kn+Ei,ye);Kn+=g[Ut]}}catch(te){Z=!1,O.dispatchEvent(new ErrorEvent("processorerror",{colno:te.colno,filename:te.filename,lineno:te.lineno,message:te.message}))}if(!Z){for(let te=0;te<y.numberOfInputs;te+=1){k[te].disconnect(b[te]);for(let Pe=0;Pe<y.channelCount;Pe+=1)b[ye].disconnect(N,Pe,te*y.channelCount+Pe)}if(f.parameterDescriptors!==void 0){const te=f.parameterDescriptors.length;for(let Pe=0;Pe<te;Pe+=1){const Ut=T[Pe];Ut.disconnect(N,0,v+Pe),Ut.stop()}}N.disconnect(I),I.onaudioprocess=null,ke?$():re();break}}}};let ke=!1;const se=o(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),ne=()=>I.connect(se).connect(p.destination),re=()=>{I.disconnect(se),se.disconnect()},at=()=>{if(Z){re(),y.numberOfOutputs>0&&I.connect(A);for(let z=0,G=0;z<y.numberOfOutputs;z+=1){const ve=R[z];for(let ye=0;ye<g[z];ye+=1)A.connect(ve,G+ye,ye);G+=g[z]}}ke=!0},jt=()=>{Z&&(ne(),$()),ke=!1};return ne(),h(O,at,jt)},V0=(t,e)=>{const n=t.createBiquadFilter();return qe(n,e),Me(n,e,"Q"),Me(n,e,"detune"),Me(n,e,"frequency"),Me(n,e,"gain"),Ce(n,e,"type"),n},NE=(t,e)=>(n,r)=>{const s=n.createChannelMerger(r.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,s),qe(s,r),s},AE=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw Xe()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw Xe()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw Xe()}})},Ro=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return qe(n,e),AE(n),n},IE=(t,e,n,r,s)=>(i,o)=>{if(i.createConstantSource===void 0)return n(i,o);const a=i.createConstantSource();return qe(a,o),Me(a,o,"offset"),e(r,()=>r(i))||rf(a),e(s,()=>s(i))||sf(a),t(i,a),a},yi=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),OE=(t,e,n,r)=>(s,{offset:i,...o})=>{const a=s.createBuffer(1,2,44100),l=e(s,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=n(s,{...o,gain:i}),d=a.getChannelData(0);d[0]=1,d[1]=1,l.buffer=a,l.loop=!0;const u={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(m){c.channelCount=m},get channelCountMode(){return c.channelCountMode},set channelCountMode(m){c.channelCountMode=m},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(m){c.channelInterpretation=m},get context(){return c.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get offset(){return c.gain},get onended(){return l.onended},set onended(m){l.onended=m},addEventListener(...m){return l.addEventListener(m[0],m[1],m[2])},dispatchEvent(...m){return l.dispatchEvent(m[0])},removeEventListener(...m){return l.removeEventListener(m[0],m[1],m[2])},start(m=0){l.start.call(l,m)},stop(m=0){l.stop.call(l,m)}},h=()=>l.connect(c),p=()=>l.disconnect(c);return t(s,l),r(yi(u,c),h,p)},PE=(t,e)=>(n,r)=>{const s=n.createConvolver();if(qe(s,r),r.disableNormalization===s.normalize&&(s.normalize=!r.disableNormalization),Ce(s,r,"buffer"),r.channelCount>2||(e(s,"channelCount",i=>()=>i.call(s),i=>o=>{if(o>2)throw t();return i.call(s,o)}),r.channelCountMode==="max"))throw t();return e(s,"channelCountMode",i=>()=>i.call(s),i=>o=>{if(o==="max")throw t();return i.call(s,o)}),s},j0=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return qe(n,e),Me(n,e,"delayTime"),n},RE=t=>(e,n)=>{const r=e.createDynamicsCompressor();if(qe(r,n),n.channelCount>2||n.channelCountMode==="max")throw t();return Me(r,n,"attack"),Me(r,n,"knee"),Me(r,n,"ratio"),Me(r,n,"release"),Me(r,n,"threshold"),r},Ct=(t,e)=>{const n=t.createGain();return qe(n,e),Me(n,e,"gain"),n},ME=t=>(e,n,r)=>{if(e.createIIRFilter===void 0)return t(e,n,r);const s=e.createIIRFilter(r.feedforward,r.feedback);return qe(s,r),s};function DE(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function FE(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function Pm(t,e){let n=[0,0];for(let r=t.length-1;r>=0;r-=1)n=FE(n,e),n[0]+=t[r];return n}const LE=(t,e,n,r)=>(s,i,{channelCount:o,channelCountMode:a,channelInterpretation:l,feedback:c,feedforward:d})=>{const u=L0(i,s.sampleRate),h=c instanceof Float64Array?c:new Float64Array(c),p=d instanceof Float64Array?d:new Float64Array(d),m=h.length,f=p.length,y=Math.min(m,f);if(m===0||m>20)throw r();if(h[0]===0)throw e();if(f===0||f>20)throw r();if(p[0]===0)throw e();if(h[0]!==1){for(let T=0;T<f;T+=1)p[T]/=h[0];for(let T=1;T<m;T+=1)h[T]/=h[0]}const g=n(s,u,o,o);g.channelCount=o,g.channelCountMode=a,g.channelInterpretation=l;const v=32,_=[],x=[],w=[];for(let T=0;T<o;T+=1){_.push(0);const N=new Float32Array(v),E=new Float32Array(v);N.fill(0),E.fill(0),x.push(N),w.push(E)}g.onaudioprocess=T=>{const N=T.inputBuffer,E=T.outputBuffer,I=N.numberOfChannels;for(let A=0;A<I;A+=1){const R=N.getChannelData(A),M=E.getChannelData(A);_[A]=F0(h,m,p,f,y,x[A],w[A],_[A],v,R,M)}};const k=s.sampleRate/2;return yi({get bufferSize(){return u},get channelCount(){return g.channelCount},set channelCount(T){g.channelCount=T},get channelCountMode(){return g.channelCountMode},set channelCountMode(T){g.channelCountMode=T},get channelInterpretation(){return g.channelInterpretation},set channelInterpretation(T){g.channelInterpretation=T},get context(){return g.context},get inputs(){return[g]},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},addEventListener(...T){return g.addEventListener(T[0],T[1],T[2])},dispatchEvent(...T){return g.dispatchEvent(T[0])},getFrequencyResponse(T,N,E){if(T.length!==N.length||N.length!==E.length)throw t();const I=T.length;for(let A=0;A<I;A+=1){const R=-Math.PI*(T[A]/k),M=[Math.cos(R),Math.sin(R)],j=Pm(p,M),D=Pm(h,M),F=DE(j,D);N[A]=Math.sqrt(F[0]*F[0]+F[1]*F[1]),E[A]=Math.atan2(F[1],F[0])}},removeEventListener(...T){return g.removeEventListener(T[0],T[1],T[2])}},g)},VE=(t,e)=>t.createMediaElementSource(e.mediaElement),jE=(t,e)=>{const n=t.createMediaStreamDestination();return qe(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},UE=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((i,o)=>i.id<o.id?-1:i.id>o.id?1:0);const r=n.slice(0,1),s=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(s,"mediaStream",{value:e}),s},BE=(t,e)=>(n,{mediaStreamTrack:r})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(r);const s=new MediaStream([r]),i=n.createMediaStreamSource(s);if(r.kind!=="audio")throw t();if(e(n))throw new TypeError;return i},zE=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,WE=(t,e,n,r,s,i)=>(o,a)=>{const l=o.createOscillator();return qe(l,a),Me(l,a,"detune"),Me(l,a,"frequency"),a.periodicWave!==void 0?l.setPeriodicWave(a.periodicWave):Ce(l,a,"type"),e(n,()=>n(o))||rf(l),e(r,()=>r(o))||i(l,o),e(s,()=>s(o))||sf(l),t(o,l),l},$E=t=>(e,n)=>{const r=e.createPanner();return r.orientationX===void 0?t(e,n):(qe(r,n),Me(r,n,"orientationX"),Me(r,n,"orientationY"),Me(r,n,"orientationZ"),Me(r,n,"positionX"),Me(r,n,"positionY"),Me(r,n,"positionZ"),Ce(r,n,"coneInnerAngle"),Ce(r,n,"coneOuterAngle"),Ce(r,n,"coneOuterGain"),Ce(r,n,"distanceModel"),Ce(r,n,"maxDistance"),Ce(r,n,"panningModel"),Ce(r,n,"refDistance"),Ce(r,n,"rolloffFactor"),r)},qE=(t,e,n,r,s,i,o,a,l,c)=>(d,{coneInnerAngle:u,coneOuterAngle:h,coneOuterGain:p,distanceModel:m,maxDistance:f,orientationX:y,orientationY:g,orientationZ:v,panningModel:_,positionX:x,positionY:w,positionZ:k,refDistance:b,rolloffFactor:T,...N})=>{const E=d.createPanner();if(N.channelCount>2||N.channelCountMode==="max")throw o();qe(E,N);const I={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},A=n(d,{...I,channelInterpretation:"speakers",numberOfInputs:6}),R=r(d,{...N,gain:1}),M=r(d,{...I,gain:1}),j=r(d,{...I,gain:0}),D=r(d,{...I,gain:0}),F=r(d,{...I,gain:0}),O=r(d,{...I,gain:0}),P=r(d,{...I,gain:0}),L=s(d,256,6,1),U=i(d,{...I,curve:new Float32Array([1,1]),oversample:"none"});let H=[y,g,v],Te=[x,w,k];const le=new Float32Array(1);L.onaudioprocess=({inputBuffer:B})=>{const ke=[l(B,le,0),l(B,le,1),l(B,le,2)];ke.some((ne,re)=>ne!==H[re])&&(E.setOrientation(...ke),H=ke);const se=[l(B,le,3),l(B,le,4),l(B,le,5)];se.some((ne,re)=>ne!==Te[re])&&(E.setPosition(...se),Te=se)},Object.defineProperty(j.gain,"defaultValue",{get:()=>0}),Object.defineProperty(D.gain,"defaultValue",{get:()=>0}),Object.defineProperty(F.gain,"defaultValue",{get:()=>0}),Object.defineProperty(O.gain,"defaultValue",{get:()=>0}),Object.defineProperty(P.gain,"defaultValue",{get:()=>0});const K={get bufferSize(){},get channelCount(){return E.channelCount},set channelCount(B){if(B>2)throw o();R.channelCount=B,E.channelCount=B},get channelCountMode(){return E.channelCountMode},set channelCountMode(B){if(B==="max")throw o();R.channelCountMode=B,E.channelCountMode=B},get channelInterpretation(){return E.channelInterpretation},set channelInterpretation(B){R.channelInterpretation=B,E.channelInterpretation=B},get coneInnerAngle(){return E.coneInnerAngle},set coneInnerAngle(B){E.coneInnerAngle=B},get coneOuterAngle(){return E.coneOuterAngle},set coneOuterAngle(B){E.coneOuterAngle=B},get coneOuterGain(){return E.coneOuterGain},set coneOuterGain(B){if(B<0||B>1)throw e();E.coneOuterGain=B},get context(){return E.context},get distanceModel(){return E.distanceModel},set distanceModel(B){E.distanceModel=B},get inputs(){return[R]},get maxDistance(){return E.maxDistance},set maxDistance(B){if(B<0)throw new RangeError;E.maxDistance=B},get numberOfInputs(){return E.numberOfInputs},get numberOfOutputs(){return E.numberOfOutputs},get orientationX(){return M.gain},get orientationY(){return j.gain},get orientationZ(){return D.gain},get panningModel(){return E.panningModel},set panningModel(B){E.panningModel=B},get positionX(){return F.gain},get positionY(){return O.gain},get positionZ(){return P.gain},get refDistance(){return E.refDistance},set refDistance(B){if(B<0)throw new RangeError;E.refDistance=B},get rolloffFactor(){return E.rolloffFactor},set rolloffFactor(B){if(B<0)throw new RangeError;E.rolloffFactor=B},addEventListener(...B){return R.addEventListener(B[0],B[1],B[2])},dispatchEvent(...B){return R.dispatchEvent(B[0])},removeEventListener(...B){return R.removeEventListener(B[0],B[1],B[2])}};u!==K.coneInnerAngle&&(K.coneInnerAngle=u),h!==K.coneOuterAngle&&(K.coneOuterAngle=h),p!==K.coneOuterGain&&(K.coneOuterGain=p),m!==K.distanceModel&&(K.distanceModel=m),f!==K.maxDistance&&(K.maxDistance=f),y!==K.orientationX.value&&(K.orientationX.value=y),g!==K.orientationY.value&&(K.orientationY.value=g),v!==K.orientationZ.value&&(K.orientationZ.value=v),_!==K.panningModel&&(K.panningModel=_),x!==K.positionX.value&&(K.positionX.value=x),w!==K.positionY.value&&(K.positionY.value=w),k!==K.positionZ.value&&(K.positionZ.value=k),b!==K.refDistance&&(K.refDistance=b),T!==K.rolloffFactor&&(K.rolloffFactor=T),(H[0]!==1||H[1]!==0||H[2]!==0)&&E.setOrientation(...H),(Te[0]!==0||Te[1]!==0||Te[2]!==0)&&E.setPosition(...Te);const Z=()=>{R.connect(E),t(R,U,0,0),U.connect(M).connect(A,0,0),U.connect(j).connect(A,0,1),U.connect(D).connect(A,0,2),U.connect(F).connect(A,0,3),U.connect(O).connect(A,0,4),U.connect(P).connect(A,0,5),A.connect(L).connect(d.destination)},$=()=>{R.disconnect(E),a(R,U,0,0),U.disconnect(M),M.disconnect(A),U.disconnect(j),j.disconnect(A),U.disconnect(D),D.disconnect(A),U.disconnect(F),F.disconnect(A),U.disconnect(O),O.disconnect(A),U.disconnect(P),P.disconnect(A),A.disconnect(L),L.disconnect(d.destination)};return c(yi(K,E),Z,$)},HE=t=>(e,{disableNormalization:n,imag:r,real:s})=>{const i=r instanceof Float32Array?r:new Float32Array(r),o=s instanceof Float32Array?s:new Float32Array(s),a=e.createPeriodicWave(o,i,{disableNormalization:n});if(Array.from(r).length<2)throw t();return a},Mo=(t,e,n,r)=>t.createScriptProcessor(e,n,r),GE=(t,e)=>(n,r)=>{const s=r.channelCountMode;if(s==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,r);const i=n.createStereoPanner();return qe(i,r),Me(i,r,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>s,set:o=>{if(o!==s)throw e()}}),i},YE=(t,e,n,r,s,i)=>{const a=new Float32Array([1,1]),l=Math.PI/2,c={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},d={...c,oversample:"none"},u=(m,f,y,g)=>{const v=new Float32Array(16385),_=new Float32Array(16385);for(let N=0;N<16385;N+=1){const E=N/16384*l;v[N]=Math.cos(E),_[N]=Math.sin(E)}const x=n(m,{...c,gain:0}),w=r(m,{...d,curve:v}),k=r(m,{...d,curve:a}),b=n(m,{...c,gain:0}),T=r(m,{...d,curve:_});return{connectGraph(){f.connect(x),f.connect(k.inputs===void 0?k:k.inputs[0]),f.connect(b),k.connect(y),y.connect(w.inputs===void 0?w:w.inputs[0]),y.connect(T.inputs===void 0?T:T.inputs[0]),w.connect(x.gain),T.connect(b.gain),x.connect(g,0,0),b.connect(g,0,1)},disconnectGraph(){f.disconnect(x),f.disconnect(k.inputs===void 0?k:k.inputs[0]),f.disconnect(b),k.disconnect(y),y.disconnect(w.inputs===void 0?w:w.inputs[0]),y.disconnect(T.inputs===void 0?T:T.inputs[0]),w.disconnect(x.gain),T.disconnect(b.gain),x.disconnect(g,0,0),b.disconnect(g,0,1)}}},h=(m,f,y,g)=>{const v=new Float32Array(16385),_=new Float32Array(16385),x=new Float32Array(16385),w=new Float32Array(16385),k=Math.floor(16385/2);for(let F=0;F<16385;F+=1)if(F>k){const O=(F-k)/(16384-k)*l;v[F]=Math.cos(O),_[F]=Math.sin(O),x[F]=0,w[F]=1}else{const O=F/(16384-k)*l;v[F]=1,_[F]=0,x[F]=Math.cos(O),w[F]=Math.sin(O)}const b=e(m,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),T=n(m,{...c,gain:0}),N=r(m,{...d,curve:v}),E=n(m,{...c,gain:0}),I=r(m,{...d,curve:_}),A=r(m,{...d,curve:a}),R=n(m,{...c,gain:0}),M=r(m,{...d,curve:x}),j=n(m,{...c,gain:0}),D=r(m,{...d,curve:w});return{connectGraph(){f.connect(b),f.connect(A.inputs===void 0?A:A.inputs[0]),b.connect(T,0),b.connect(E,0),b.connect(R,1),b.connect(j,1),A.connect(y),y.connect(N.inputs===void 0?N:N.inputs[0]),y.connect(I.inputs===void 0?I:I.inputs[0]),y.connect(M.inputs===void 0?M:M.inputs[0]),y.connect(D.inputs===void 0?D:D.inputs[0]),N.connect(T.gain),I.connect(E.gain),M.connect(R.gain),D.connect(j.gain),T.connect(g,0,0),R.connect(g,0,0),E.connect(g,0,1),j.connect(g,0,1)},disconnectGraph(){f.disconnect(b),f.disconnect(A.inputs===void 0?A:A.inputs[0]),b.disconnect(T,0),b.disconnect(E,0),b.disconnect(R,1),b.disconnect(j,1),A.disconnect(y),y.disconnect(N.inputs===void 0?N:N.inputs[0]),y.disconnect(I.inputs===void 0?I:I.inputs[0]),y.disconnect(M.inputs===void 0?M:M.inputs[0]),y.disconnect(D.inputs===void 0?D:D.inputs[0]),N.disconnect(T.gain),I.disconnect(E.gain),M.disconnect(R.gain),D.disconnect(j.gain),T.disconnect(g,0,0),R.disconnect(g,0,0),E.disconnect(g,0,1),j.disconnect(g,0,1)}}},p=(m,f,y,g,v)=>{if(f===1)return u(m,y,g,v);if(f===2)return h(m,y,g,v);throw s()};return(m,{channelCount:f,channelCountMode:y,pan:g,...v})=>{if(y==="max")throw s();const _=t(m,{...v,channelCount:1,channelCountMode:y,numberOfInputs:2}),x=n(m,{...v,channelCount:f,channelCountMode:y,gain:1}),w=n(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:g});let{connectGraph:k,disconnectGraph:b}=p(m,f,x,w,_);Object.defineProperty(w.gain,"defaultValue",{get:()=>0}),Object.defineProperty(w.gain,"maxValue",{get:()=>1}),Object.defineProperty(w.gain,"minValue",{get:()=>-1});const T={get bufferSize(){},get channelCount(){return x.channelCount},set channelCount(A){x.channelCount!==A&&(N&&b(),{connectGraph:k,disconnectGraph:b}=p(m,A,x,w,_),N&&k()),x.channelCount=A},get channelCountMode(){return x.channelCountMode},set channelCountMode(A){if(A==="clamped-max"||A==="max")throw s();x.channelCountMode=A},get channelInterpretation(){return x.channelInterpretation},set channelInterpretation(A){x.channelInterpretation=A},get context(){return x.context},get inputs(){return[x]},get numberOfInputs(){return x.numberOfInputs},get numberOfOutputs(){return x.numberOfOutputs},get pan(){return w.gain},addEventListener(...A){return x.addEventListener(A[0],A[1],A[2])},dispatchEvent(...A){return x.dispatchEvent(A[0])},removeEventListener(...A){return x.removeEventListener(A[0],A[1],A[2])}};let N=!1;const E=()=>{k(),N=!0},I=()=>{b(),N=!1};return i(yi(T,_),E,I)}},XE=(t,e,n,r,s,i,o)=>(a,l)=>{const c=a.createWaveShaper();if(i!==null&&i.name==="webkitAudioContext"&&a.createGain().gain.automationRate===void 0)return n(a,l);qe(c,l);const d=l.curve===null||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(d!==null&&d.length<2)throw e();Ce(c,{curve:d},"curve"),Ce(c,l,"oversample");let u=null,h=!1;return o(c,"curve",f=>()=>f.call(c),f=>y=>(f.call(c,y),h&&(r(y)&&u===null?u=t(a,c):!r(y)&&u!==null&&(u(),u=null)),y)),s(c,()=>{h=!0,r(c.curve)&&(u=t(a,c))},()=>{h=!1,u!==null&&(u(),u=null)})},KE=(t,e,n,r,s)=>(i,{curve:o,oversample:a,...l})=>{const c=i.createWaveShaper(),d=i.createWaveShaper();qe(c,l),qe(d,l);const u=n(i,{...l,gain:1}),h=n(i,{...l,gain:-1}),p=n(i,{...l,gain:1}),m=n(i,{...l,gain:-1});let f=null,y=!1,g=null;const v={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(w){u.channelCount=w,h.channelCount=w,c.channelCount=w,p.channelCount=w,d.channelCount=w,m.channelCount=w},get channelCountMode(){return c.channelCountMode},set channelCountMode(w){u.channelCountMode=w,h.channelCountMode=w,c.channelCountMode=w,p.channelCountMode=w,d.channelCountMode=w,m.channelCountMode=w},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(w){u.channelInterpretation=w,h.channelInterpretation=w,c.channelInterpretation=w,p.channelInterpretation=w,d.channelInterpretation=w,m.channelInterpretation=w},get context(){return c.context},get curve(){return g},set curve(w){if(w!==null&&w.length<2)throw e();if(w===null)c.curve=w,d.curve=w;else{const k=w.length,b=new Float32Array(k+2-k%2),T=new Float32Array(k+2-k%2);b[0]=w[0],T[0]=-w[k-1];const N=Math.ceil((k+1)/2),E=(k+1)/2-1;for(let I=1;I<N;I+=1){const A=I/N*E,R=Math.floor(A),M=Math.ceil(A);b[I]=R===M?w[R]:(1-(A-R))*w[R]+(1-(M-A))*w[M],T[I]=R===M?-w[k-1-R]:-((1-(A-R))*w[k-1-R])-(1-(M-A))*w[k-1-M]}b[N]=k%2===1?w[N-1]:(w[N-2]+w[N-1])/2,c.curve=b,d.curve=T}g=w,y&&(r(g)&&f===null?f=t(i,u):f!==null&&(f(),f=null))},get inputs(){return[u]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get oversample(){return c.oversample},set oversample(w){c.oversample=w,d.oversample=w},addEventListener(...w){return u.addEventListener(w[0],w[1],w[2])},dispatchEvent(...w){return u.dispatchEvent(w[0])},removeEventListener(...w){return u.removeEventListener(w[0],w[1],w[2])}};o!==null&&(v.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==v.oversample&&(v.oversample=a);const _=()=>{u.connect(c).connect(p),u.connect(h).connect(d).connect(m).connect(p),y=!0,r(g)&&(f=t(i,u))},x=()=>{u.disconnect(c),c.disconnect(p),u.disconnect(h),h.disconnect(d),d.disconnect(m),m.disconnect(p),y=!1,f!==null&&(f(),f=null)};return s(yi(v,p),_,x)},mt=()=>new DOMException("","NotSupportedError"),QE={numberOfChannels:1},ZE=(t,e,n,r,s)=>class extends t{constructor(o,a,l){let c;if(typeof o=="number"&&a!==void 0&&l!==void 0)c={length:a,numberOfChannels:o,sampleRate:l};else if(typeof o=="object")c=o;else throw new Error("The given parameters are not valid.");const{length:d,numberOfChannels:u,sampleRate:h}={...QE,...c},p=r(u,d,h);e(yo,()=>yo(p))||p.addEventListener("statechange",(()=>{let m=0;const f=y=>{this._state==="running"&&(m>0?(p.removeEventListener("statechange",f),y.stopImmediatePropagation(),this._waitForThePromiseToSettle(y)):m+=1)};return f})()),super(p,u),this._length=d,this._nativeOfflineAudioContext=p,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",s(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,I0(this)}))}_waitForThePromiseToSettle(o){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(o):setTimeout(()=>this._waitForThePromiseToSettle(o))}},JE={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},eN=(t,e,n,r,s,i,o)=>class extends t{constructor(l,c){const d=s(l),u={...JE,...c},h=n(d,u),p=i(d),m=p?r():null,f=l.sampleRate/2;super(l,!1,h,m),this._detune=e(this,p,h.detune,153600,-153600),this._frequency=e(this,p,h.frequency,f,-f),this._nativeOscillatorNode=h,this._onended=null,this._oscillatorNodeRenderer=m,this._oscillatorNodeRenderer!==null&&u.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=u.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(l){const c=typeof l=="function"?o(this,l):null;this._nativeOscillatorNode.onended=c;const d=this._nativeOscillatorNode.onended;this._onended=d!==null&&d===c?l:d}get type(){return this._nativeOscillatorNode.type}set type(l){this._nativeOscillatorNode.type=l,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(l){this._nativeOscillatorNode.setPeriodicWave(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=l)}start(l=0){if(this._nativeOscillatorNode.start(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=l),this.context.state!=="closed"){ii(this);const c=()=>{this._nativeOscillatorNode.removeEventListener("ended",c),Dn(this)&&Io(this)};this._nativeOscillatorNode.addEventListener("ended",c)}}stop(l=0){this._nativeOscillatorNode.stop(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=l)}},tN=(t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,a=null,l=null;const c=async(d,u)=>{let h=n(d);const p=ot(h,u);if(!p){const m={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,periodicWave:o===null?void 0:o,type:h.type};h=e(u,m),a!==null&&h.start(a),l!==null&&h.stop(l)}return i.set(u,h),p?(await t(u,d.detune,h.detune),await t(u,d.frequency,h.frequency)):(await r(u,d.detune,h.detune),await r(u,d.frequency,h.frequency)),await s(d,u,h),h};return{set periodicWave(d){o=d},set start(d){a=d},set stop(d){l=d},render(d,u){const h=i.get(u);return h!==void 0?Promise.resolve(h):c(d,u)}}},nN={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},rN=(t,e,n,r,s,i,o)=>class extends t{constructor(l,c){const d=s(l),u={...nN,...c},h=n(d,u),p=i(d),m=p?r():null;super(l,!1,h,m),this._nativePannerNode=h,this._orientationX=e(this,p,h.orientationX,ct,yt),this._orientationY=e(this,p,h.orientationY,ct,yt),this._orientationZ=e(this,p,h.orientationZ,ct,yt),this._positionX=e(this,p,h.positionX,ct,yt),this._positionY=e(this,p,h.positionY,ct,yt),this._positionZ=e(this,p,h.positionZ,ct,yt),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(l){this._nativePannerNode.coneInnerAngle=l}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(l){this._nativePannerNode.coneOuterAngle=l}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(l){this._nativePannerNode.coneOuterGain=l}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(l){this._nativePannerNode.distanceModel=l}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(l){this._nativePannerNode.maxDistance=l}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(l){this._nativePannerNode.panningModel=l}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(l){this._nativePannerNode.refDistance=l}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(l){this._nativePannerNode.rolloffFactor=l}},sN=(t,e,n,r,s,i,o,a,l,c)=>()=>{const d=new WeakMap;let u=null;const h=async(p,m)=>{let f=null,y=i(p);const g={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation},v={...g,coneInnerAngle:y.coneInnerAngle,coneOuterAngle:y.coneOuterAngle,coneOuterGain:y.coneOuterGain,distanceModel:y.distanceModel,maxDistance:y.maxDistance,panningModel:y.panningModel,refDistance:y.refDistance,rolloffFactor:y.rolloffFactor},_=ot(y,m);if("bufferSize"in y)f=r(m,{...g,gain:1});else if(!_){const x={...v,orientationX:y.orientationX.value,orientationY:y.orientationY.value,orientationZ:y.orientationZ.value,positionX:y.positionX.value,positionY:y.positionY.value,positionZ:y.positionZ.value};y=s(m,x)}if(d.set(m,f===null?y:f),f!==null){if(u===null){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const I=new o(6,p.context.length,m.sampleRate),A=e(I,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});A.connect(I.destination),u=(async()=>{const R=await Promise.all([p.orientationX,p.orientationY,p.orientationZ,p.positionX,p.positionY,p.positionZ].map(async(M,j)=>{const D=n(I,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:j===0?1:0});return await a(I,M,D.offset),D}));for(let M=0;M<6;M+=1)R[M].connect(A,0,M),R[M].start(0);return c(I)})()}const x=await u,w=r(m,{...g,gain:1});await l(p,m,w);const k=[];for(let I=0;I<x.numberOfChannels;I+=1)k.push(x.getChannelData(I));let b=[k[0][0],k[1][0],k[2][0]],T=[k[3][0],k[4][0],k[5][0]],N=r(m,{...g,gain:1}),E=s(m,{...v,orientationX:b[0],orientationY:b[1],orientationZ:b[2],positionX:T[0],positionY:T[1],positionZ:T[2]});w.connect(N).connect(E.inputs[0]),E.connect(f);for(let I=128;I<x.length;I+=128){const A=[k[0][I],k[1][I],k[2][I]],R=[k[3][I],k[4][I],k[5][I]];if(A.some((M,j)=>M!==b[j])||R.some((M,j)=>M!==T[j])){b=A,T=R;const M=I/m.sampleRate;N.gain.setValueAtTime(0,M),N=r(m,{...g,gain:0}),E=s(m,{...v,orientationX:b[0],orientationY:b[1],orientationZ:b[2],positionX:T[0],positionY:T[1],positionZ:T[2]}),N.gain.setValueAtTime(1,M),w.connect(N).connect(E.inputs[0]),E.connect(f)}}return f}return _?(await t(m,p.orientationX,y.orientationX),await t(m,p.orientationY,y.orientationY),await t(m,p.orientationZ,y.orientationZ),await t(m,p.positionX,y.positionX),await t(m,p.positionY,y.positionY),await t(m,p.positionZ,y.positionZ)):(await a(m,p.orientationX,y.orientationX),await a(m,p.orientationY,y.orientationY),await a(m,p.orientationZ,y.orientationZ),await a(m,p.positionX,y.positionX),await a(m,p.positionY,y.positionY),await a(m,p.positionZ,y.positionZ)),vi(y)?await l(p,m,y.inputs[0]):await l(p,m,y),y};return{render(p,m){const f=d.get(m);return f!==void 0?Promise.resolve(f):h(p,m)}}},iN={disableNormalization:!1},oN=(t,e,n,r)=>class U0{constructor(i,o){const a=e(i),l=r({...iN,...o}),c=t(a,l);return n.add(c),c}static[Symbol.hasInstance](i){return i!==null&&typeof i=="object"&&Object.getPrototypeOf(i)===U0.prototype||n.has(i)}},aN=(t,e)=>(n,r,s)=>(t(r).replay(s),e(r,n,s)),lN=(t,e,n)=>async(r,s,i)=>{const o=t(r);await Promise.all(o.activeInputs.map((a,l)=>Array.from(a).map(async([c,d])=>{const h=await e(c).render(c,s),p=r.context.destination;!n(c)&&(r!==p||!n(r))&&h.connect(i,d,l)})).reduce((a,l)=>[...a,...l],[]))},cN=(t,e,n)=>async(r,s,i)=>{const o=e(r);await Promise.all(Array.from(o.activeInputs).map(async([a,l])=>{const d=await t(a).render(a,s);n(a)||d.connect(i,l)}))},uN=(t,e,n,r)=>s=>t(yo,()=>yo(s))?Promise.resolve(t(r,r)).then(i=>{if(!i){const o=n(s,512,0,1);s.oncomplete=()=>{o.onaudioprocess=null,o.disconnect()},o.onaudioprocess=()=>s.currentTime,o.connect(s.destination)}return s.startRendering()}):new Promise(i=>{const o=e(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.oncomplete=a=>{o.disconnect(),i(a.renderedBuffer)},o.connect(s.destination),s.startRendering()}),dN=t=>(e,n)=>{t.set(e,n)},hN=t=>(e,n)=>t.set(e,n),fN=(t,e,n,r,s,i,o,a)=>(l,c)=>n(l).render(l,c).then(()=>Promise.all(Array.from(r(c)).map(d=>n(d).render(d,c)))).then(()=>s(c)).then(d=>(typeof d.copyFromChannel!="function"?(o(d),ef(d)):e(i,()=>i(d))||a(d),t.add(d),d)),pN={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},mN=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const c=s(a),d={...pN,...l},u=n(c,d),h=i(c),p=h?r():null;super(a,!1,u,p),this._pan=e(this,h,u.pan)}get pan(){return this._pan}},gN=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let c=n(a);const d=ot(c,l);if(!d){const u={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,pan:c.pan.value};c=e(l,u)}return i.set(l,c),d?await t(l,a.pan,c.pan):await r(l,a.pan,c.pan),vi(c)?await s(a,l,c.inputs[0]):await s(a,l,c),c};return{render(a,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):o(a,l)}}},vN=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},yN=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),s=URL.createObjectURL(n);let i=!1,o=!1;try{await r.audioWorklet.addModule(s);const a=new t(r,"a",{numberOfOutputs:0}),l=r.createOscillator();a.port.onmessage=()=>i=!0,a.onprocessorerror=()=>o=!0,l.connect(a),l.start(0),await r.startRendering(),await new Promise(c=>setTimeout(c))}catch{}finally{URL.revokeObjectURL(s)}return i&&!o},_N=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(s=>{n.oncomplete=()=>{r.disconnect(),s(n.currentTime!==0)},n.startRendering()})},wN=()=>new DOMException("","UnknownError"),xN={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},SN=(t,e,n,r,s,i,o)=>class extends t{constructor(l,c){const d=s(l),u={...xN,...c},h=n(d,u),m=i(d)?r():null;super(l,!0,h,m),this._isCurveNullified=!1,this._nativeWaveShaperNode=h,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(l){if(l===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(l.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=l}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(l){this._nativeWaveShaperNode.oversample=l}},bN=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!ot(a,o)){const c={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(o,c)}return r.set(o,a),vi(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},TN=()=>typeof window>"u"?null:window,kN=(t,e)=>n=>{n.copyFromChannel=(r,s,i=0)=>{const o=t(i),a=t(s);if(a>=n.numberOfChannels)throw e();const l=n.length,c=n.getChannelData(a),d=r.length;for(let u=o<0?-o:0;u+o<l&&u<d;u+=1)r[u]=c[u+o]},n.copyToChannel=(r,s,i=0)=>{const o=t(i),a=t(s);if(a>=n.numberOfChannels)throw e();const l=n.length,c=n.getChannelData(a),d=r.length;for(let u=o<0?-o:0;u+o<l&&u<d;u+=1)c[u+o]=r[u]}},CN=t=>e=>{e.copyFromChannel=(n=>(r,s,i=0)=>{const o=t(i),a=t(s);if(o<e.length)return n.call(e,r,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(r,s,i=0)=>{const o=t(i),a=t(s);if(o<e.length)return n.call(e,r,a,o)})(e.copyToChannel)},EN=t=>(e,n)=>{const r=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),t(e,"buffer",s=>()=>{const i=s.call(e);return i===r?null:i},s=>i=>s.call(e,i===null?r:i))},NN=(t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const s=n.createBufferSource();e(r,()=>{const a=r.numberOfInputs;for(let l=0;l<a;l+=1)s.connect(r,0,l)},()=>s.disconnect(r))},B0=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),z0=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},Do=(t,e,n,r)=>{let s=t;for(;!s.hasOwnProperty(e);)s=Object.getPrototypeOf(s);const{get:i,set:o}=Object.getOwnPropertyDescriptor(s,e);Object.defineProperty(t,e,{get:n(i),set:r(o)})},AN=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),IN=t=>({...t,channelCount:t.numberOfOutputs}),ON=t=>{const{imag:e,real:n}=t;return e===void 0?n===void 0?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:n===void 0?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}},W0=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(r.code!==9)throw r;W0(t,e,n+1e-7)}},PN=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},RN=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},MN=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},of=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},$0=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},af=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},DN=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},FN=t=>{t.start=(e=>(n=0,r=0,s)=>{const i=t.buffer,o=i===null?r:Math.min(i.duration,r);i!==null&&o>i.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,s)})(t.start)},q0=(t,e)=>{const n=e.createGain();t.connect(n);const r=(s=>()=>{s.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),yi(t,n),t.stop=(s=>{let i=!1;return(o=0)=>{if(i)try{s.call(t,o)}catch{n.gain.setValueAtTime(0,o)}else s.call(t,o),i=!0}})(t.stop)},_i=(t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},LN=rk(hs),VN=ck(hs),jN=xC(rc),H0=new WeakMap,UN=jC(H0),un=Qk(new Map,new WeakMap),wn=TN(),G0=mE(un,Tn),lf=VC(ut),et=lN(ut,lf,ts),BN=pk(G0,Se,et),ge=zC(nc),qn=zE(wn),fe=iE(qn),Y0=new WeakMap,X0=OC(_i),Fo=_E(wn),cf=tE(Fo),uf=nE(wn),K0=rE(wn),_o=xE(wn),je=jk(sk(b0),lk(LN,VN,vl,jN,yl,ut,UN,Ao,Se,hs,Dn,ts,Ma),un,KC(Od,yl,ut,Se,vo,Dn),Tn,sc,mt,vC(vl,Od,ut,Se,vo,ge,Dn,fe),TC(Y0,ut,sn),X0,ge,cf,uf,K0,fe,_o),zN=fk(je,BN,Tn,G0,ge,fe),df=new WeakSet,Rm=gE(wn),Q0=uC(new Uint32Array(1)),hf=kN(Q0,Tn),ff=CN(Q0),Z0=gk(df,un,mt,Rm,qn,vN(Rm),hf,ff),ic=uk(Ct),J0=cN(lf,Oo,ts),kn=sC(J0),wi=yE(ic,un,PN,RN,MN,of,$0,af,FN,EN(Do),q0),Cn=aN(UC(Oo),J0),WN=_k(kn,wi,Se,Cn,et),dn=Uk(ik(T0),Y0,Jh,Bk,QT,ZT,JT,ek,tk,Nd,x0,Fo,W0),$N=yk(je,WN,dn,Xe,wi,ge,fe,_i),qN=Nk(je,Ak,Tn,Xe,wE(Ct,Do),ge,fe,et),HN=Kk(kn,V0,Se,Cn,et),fs=hN(H0),GN=Xk(je,dn,HN,sc,V0,ge,fe,fs),Mr=fE(hs,uf),YN=NN(Xe,Mr),Dr=NE(Fo,YN),XN=eC(Dr,Se,et),KN=Jk(je,XN,Dr,ge,fe),QN=rC(Ro,Se,et),ZN=nC(je,QN,Ro,ge,fe,IN),JN=OE(ic,wi,Ct,Mr),xi=IE(ic,un,JN,of,af),eA=cC(kn,xi,Se,Cn,et),tA=lC(je,dn,eA,xi,ge,fe,_i),e_=PE(mt,Do),nA=fC(e_,Se,et),rA=hC(je,nA,e_,ge,fe,fs),sA=wC(kn,j0,Se,Cn,et),iA=_C(je,dn,sA,j0,ge,fe,fs),t_=RE(mt),oA=NC(kn,t_,Se,Cn,et),aA=EC(je,dn,oA,t_,mt,ge,fe,fs),lA=FC(kn,Ct,Se,Cn,et),cA=DC(je,dn,lA,Ct,ge,fe),uA=LE(sc,Xe,Mo,mt),oc=uN(un,Ct,Mo,_N(Ct,qn)),dA=XC(wi,Se,qn,et,oc),hA=ME(uA),fA=GC(je,hA,dA,ge,fe,fs),pA=Ik(dn,Dr,xi,Mo,mt,B0,fe,Do),n_=new WeakMap,mA=hE(qN,pA,X0,fe,n_,_i),r_=WE(ic,un,of,$0,af,q0),gA=tN(kn,r_,Se,Cn,et),vA=eN(je,dn,r_,gA,ge,fe,_i),s_=oC(wi),yA=KE(s_,Xe,Ct,z0,Mr),ac=XE(s_,Xe,yA,z0,Mr,Fo,Do),_A=qE(vl,Xe,Dr,Ct,Mo,ac,mt,yl,B0,Mr),i_=$E(_A),wA=sN(kn,Dr,xi,Ct,i_,Se,qn,Cn,et,oc),xA=rN(je,dn,i_,wA,ge,fe,fs),SA=HE(Tn),bA=oN(SA,ge,new WeakSet,ON),TA=YE(Dr,Ro,Ct,ac,mt,Mr),o_=GE(TA,mt),kA=gN(kn,o_,Se,Cn,et),CA=mN(je,dn,o_,kA,ge,fe),EA=bN(ac,Se,et),NA=SN(je,Xe,ac,EA,ge,fe,fs),a_=oE(wn),pf=PC(wn),l_=new WeakMap,AA=WC(l_,qn),IA=a_?ak(un,mt,IC(wn),pf,RC(nk),ge,AA,fe,_o,new WeakMap,new WeakMap,yN(_o,qn),wn):void 0,OA=sE(cf,fe),PA=gC(df,un,mC,AC,new WeakSet,ge,OA,ml,yo,hf,ff),c_=Gk(IA,zN,Z0,$N,GN,KN,ZN,tA,rA,PA,iA,aA,cA,fA,mA,vA,xA,bA,CA,NA),RA=aE(je,VE,ge,fe),MA=cE(je,jE,ge,fe),DA=uE(je,UE,ge,fe),FA=BE(Xe,fe),LA=dE(je,FA,ge),VA=Ek(c_,Xe,mt,wN,RA,MA,DA,LA,Fo),mf=$C(n_),jA=dk(mf),u_=iC(Tn),UA=SC(mf),d_=kC(Tn),h_=new WeakMap,BA=LC(h_,sn),zA=EE(u_,Tn,Xe,Dr,Ro,xi,Ct,Mo,mt,d_,pf,BA,Mr),WA=bE(Xe,zA,Ct,mt,Mr),$A=Hk(kn,u_,wi,Dr,Ro,xi,Ct,UA,d_,pf,Se,_o,qn,Cn,et,oc),qA=BC(l_),HA=dN(h_),Mm=a_?Wk(jA,je,dn,$A,WA,ut,qA,ge,fe,_o,AN,HA,DN,_i):void 0,GA=pC(mt,qn),YA=fN(df,un,lf,mf,oc,ml,hf,ff),XA=ZE(c_,un,Xe,GA,YA),KA=QC(nc,cf),QA=ZC(Zh,uf),ZA=JC(Jh,K0),JA=eE(nc,fe);function Rt(t){return t===void 0}function J(t){return t!==void 0}function eI(t){return typeof t=="function"}function xn(t){return typeof t=="number"}function xr(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function f_(t){return typeof t=="boolean"}function Tt(t){return Array.isArray(t)}function Bn(t){return typeof t=="string"}function da(t){return Bn(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function X(t,e){if(!t)throw new Error(e)}function on(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function p_(t){!t.isOffline&&t.state!=="running"&&lc('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let m_=!1,Dm=!1;function Fm(t){m_=t}function tI(t){Rt(t)&&m_&&!Dm&&(Dm=!0,lc("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let g_=console;function nI(...t){g_.log(...t)}function lc(...t){g_.warn(...t)}function rI(t){return new VA(t)}function sI(t,e,n){return new XA(t,e,n)}const Nt=typeof self=="object"?self:null,iI=Nt&&(Nt.hasOwnProperty("AudioContext")||Nt.hasOwnProperty("webkitAudioContext"));function oI(t,e,n){return X(J(Mm),"AudioWorkletNode only works in a secure context (https or localhost)"),new(t instanceof(Nt==null?void 0:Nt.BaseAudioContext)?Nt==null?void 0:Nt.AudioWorkletNode:Mm)(t,e,n)}var gn=function(){return gn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},gn.apply(this,arguments)};function v_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function hn(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function Ve(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(u){o(u)}}function l(d){try{c(r.throw(d))}catch(u){o(u)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function aI(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}class lI{constructor(e,n,r,s){this._callback=e,this._type=n,this._minimumUpdateInterval=Math.max(128/(s||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),r=new Worker(n);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var n;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((n=this._worker)===null||n===void 0||n.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function ns(t){return ZA(t)}function Sr(t){return QA(t)}function Da(t){return JA(t)}function Ss(t){return KA(t)}function cI(t){return t instanceof Z0}function uI(t,e){return t==="value"||ns(e)||Sr(e)||cI(e)}function Xr(t,...e){if(!e.length)return t;const n=e.shift();if(xr(t)&&xr(n))for(const r in n)uI(r,n[r])?t[r]=n[r]:xr(n[r])?(t[r]||Object.assign(t,{[r]:{}}),Xr(t[r],n[r])):Object.assign(t,{[r]:n[r]});return Xr(t,...e)}function dI(t,e){return t.length===e.length&&t.every((n,r)=>e[r]===n)}function q(t,e,n=[],r){const s={},i=Array.from(e);if(xr(i[0])&&r&&!Reflect.has(i[0],r)&&(Object.keys(i[0]).some(a=>Reflect.has(t,a))||(Xr(s,{[r]:i[0]}),n.splice(n.indexOf(r),1),i.shift())),i.length===1&&xr(i[0]))Xr(s,i[0]);else for(let o=0;o<n.length;o++)J(i[o])&&(s[n[o]]=i[o]);return Xr(t,s)}function hI(t){return t.constructor.getDefaults()}function _n(t,e){return Rt(t)?e:t}function Fd(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class Hn{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||Nt&&this.toString()===Nt.TONE_DEBUG_CLASS)&&nI(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Hn.version=w0;const gf=1e-6;function oi(t,e){return t>e+gf}function Ld(t,e){return oi(t,e)||Jt(t,e)}function Sl(t,e){return t+gf<e}function Jt(t,e){return Math.abs(t-e)<gf}function fI(t,e,n){return Math.max(Math.min(t,n),e)}class qt extends Hn{constructor(){super(),this.name="Timeline",this._timeline=[];const e=q(qt.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(X(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];X(Ld(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const r=this._search(e,n);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const r=this._search(e,n);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(Jt(this._timeline[n].time,e)){for(let r=n;r>=0&&Jt(this._timeline[r].time,e);r--)n=r;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&Ld(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let r=0;const s=this._timeline.length;let i=s;if(s>0&&this._timeline[s-1][n]<=e)return s-1;for(;r<i;){let o=Math.floor(r+(i-r)/2);const a=this._timeline[o],l=this._timeline[o+1];if(Jt(a[n],e)){for(let c=o;c<this._timeline.length;c++){const d=this._timeline[c];if(Jt(d[n],e))o=c;else break}return o}else{if(Sl(a[n],e)&&oi(l[n],e))return o;oi(a[n],e)?i=o:r=o+1}}return-1}_iterate(e,n=0,r=this._timeline.length-1){this._timeline.slice(n,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const r=this._search(e);return r!==-1&&this._iterate(n,0,r),this}forEachAfter(e,n){const r=this._search(e);return this._iterate(n,r+1),this}forEachBetween(e,n,r){let s=this._search(e),i=this._search(n);return s!==-1&&i!==-1?(this._timeline[s].time!==e&&(s+=1),this._timeline[i].time===n&&(i-=1),this._iterate(r,s,i)):s===-1&&this._iterate(r,0,i),this}forEachFrom(e,n){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(n,r+1),this}forEachAtTime(e,n){const r=this._search(e);if(r!==-1&&Jt(this._timeline[r].time,e)){let s=r;for(let i=r;i>=0&&Jt(this._timeline[i].time,e);i--)s=i;this._iterate(i=>{n(i)},s,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const y_=[];function cc(t){y_.push(t)}function pI(t){y_.forEach(e=>e(t))}const __=[];function uc(t){__.push(t)}function mI(t){__.forEach(e=>e(t))}class Lo extends Hn{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(s=>{Rt(this._events)&&(this._events={}),this._events.hasOwnProperty(s)||(this._events[s]=[]),this._events[s].push(n)}),this}once(e,n){const r=(...s)=>{n(...s),this.off(e,r)};return this.on(e,r),this}off(e,n){return e.split(/\W+/).forEach(s=>{if(Rt(this._events)&&(this._events={}),this._events.hasOwnProperty(s))if(Rt(n))this._events[s]=[];else{const i=this._events[s];for(let o=i.length-1;o>=0;o--)i[o]===n&&i.splice(o,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const r=this._events[e].slice(0);for(let s=0,i=r.length;s<i;s++)r[s].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const r=Object.getOwnPropertyDescriptor(Lo.prototype,n);Object.defineProperty(e.prototype,n,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class w_ extends Lo{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Vo extends w_{constructor(){var e,n;super(),this.name="Context",this._constants=new Map,this._timeouts=new qt,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=q(Vo.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=rI({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new lI(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((n=arguments[0])===null||n===void 0)&&n.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(pI(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,r){return this._context.createBuffer(e,n,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,r){return this._context.createPeriodicWave(e,n,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return X(Ss(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return X(Ss(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return X(Ss(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){X(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){X(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){X(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){X(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return oI(this.rawContext,e,n)}addAudioWorkletModule(e){return Ve(this,void 0,void 0,function*(){X(J(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return Ve(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Ss(this._context)?this._context.resume():Promise.resolve()}close(){return Ve(this,void 0,void 0,function*(){Ss(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&mI(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),r=n.getChannelData(0);for(let i=0;i<r.length;i++)r[i]=e;const s=this._context.createBufferSource();return s.channelCount=1,s.channelCountMode="explicit",s.buffer=n,s.loop=!0,s.start(0),this._constants.set(e,s),s}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();let n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=e;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(e,n){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const r=++this._timeoutIds,s=()=>{const i=this.now();this._timeouts.add({callback:()=>{e(),s()},id:r,time:i+n})};return s(),r}}class gI extends w_{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return Ve(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function ae(t,e){Tt(e)?e.forEach(n=>ae(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function x_(t,e){Tt(e)?e.forEach(n=>x_(t,n)):Object.defineProperty(t,e,{writable:!0})}const ce=()=>{};class he extends Hn{constructor(){super(),this.name="ToneAudioBuffer",this.onload=ce;const e=q(he.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,Bn(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:ce,onload:ce,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:wt().sampleRate}set(e){return e instanceof he?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Ve(this,void 0,void 0,function*(){const n=he.load(e).then(r=>{this.set(r),this.onload(this)});he.downloads.push(n);try{yield n}finally{const r=he.downloads.indexOf(n);he.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=Tt(e)&&e[0].length>0,r=n?e.length:1,s=n?e[0].length:e.length,i=wt(),o=i.createBuffer(r,s,i.sampleRate),a=!n&&r===1?[e]:e;for(let l=0;l<r;l++)o.copyToChannel(a[l],l);return this._buffer=o,this}toMono(e){if(xn(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const r=this.numberOfChannels;for(let s=0;s<r;s++){const i=this.toArray(s);for(let o=0;o<i.length;o++)n[o]+=i[o]}n=n.map(s=>s/r),this.fromArray(n)}return this}toArray(e){if(xn(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let r=0;r<this.numberOfChannels;r++)n[r]=this.getChannelData(r);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){X(this.loaded,"Buffer is not loaded");const r=Math.floor(e*this.sampleRate),s=Math.floor(n*this.sampleRate);X(r<s,"The start time must be less than the end time");const i=s-r,o=wt().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let a=0;a<this.numberOfChannels;a++)o.copyToChannel(this.getChannelData(a).subarray(r,s),a);return new he(o)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new he().fromArray(e)}static fromUrl(e){return Ve(this,void 0,void 0,function*(){return yield new he().load(e)})}static load(e){return Ve(this,void 0,void 0,function*(){const n=e.match(/\[([^\]\[]+\|.+)\]$/);if(n){const l=n[1].split("|");let c=l[0];for(const d of l)if(he.supportsType(d)){c=d;break}e=e.replace(n[0],c)}const r=he.baseUrl===""||he.baseUrl.endsWith("/")?he.baseUrl:he.baseUrl+"/",s=document.createElement("a");s.href=r+e,s.pathname=(s.pathname+s.hash).split("/").map(encodeURIComponent).join("/");const i=yield fetch(s.href);if(!i.ok)throw new Error(`could not load url: ${e}`);const o=yield i.arrayBuffer();return yield wt().decodeAudioData(o)})}static supportsType(e){const n=e.split("."),r=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return Ve(this,void 0,void 0,function*(){for(yield Promise.resolve();he.downloads.length;)yield he.downloads[0]})}}he.baseUrl="";he.downloads=[];class dc extends Vo{constructor(){super({clockSource:"offline",context:Da(arguments[0])?arguments[0]:sI(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:Da(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Da(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Ve(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const r=Math.floor(this.sampleRate/128);e&&n%r===0&&(yield new Promise(s=>setTimeout(s,1)))}})}render(){return Ve(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new he(n)})}close(){return Promise.resolve()}}const S_=new gI;let qr=S_;function wt(){return qr===S_&&iI&&vI(new Vo),qr}function vI(t,e=!1){e&&qr.dispose(),Ss(t)?qr=new Vo(t):Da(t)?qr=new dc(t):qr=t}function yI(){return qr.resume()}if(Nt&&!Nt.TONE_SILENCE_LOGGING){const e=` * Tone.js v${w0} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function _I(t){return Math.pow(10,t/20)}function Vd(t){return 20*(Math.log(t)/Math.LN10)}function b_(t){return Math.pow(2,t/12)}let hc=440;function wI(){return hc}function xI(t){hc=t}function Hr(t){return Math.round(T_(t))}function T_(t){return 69+12*Math.log2(t/hc)}function k_(t){return hc*Math.pow(2,(t-69)/12)}class vf extends Hn{constructor(e,n,r){super(),this.defaultUnits="s",this._val=n,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const r=parseInt(e,10),s=n==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*s:this._beatsToUnits(4/r)*s},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,r)=>{let s=0;return e&&e!=="0"&&(s+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(s+=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(s+=this._beatsToUnits(parseFloat(r)/4)),s},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof vf&&this.fromType(this._val),Rt(this._val))return this._noArg();if(Bn(this._val)&&Rt(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(xr(this._val)){let e=0;for(const n in this._val)if(J(this._val[n])){const r=this._val[n],s=new this.constructor(this.context,n).valueOf()*r;e+=s}return e}if(J(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return Bn(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class en extends vf{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new en(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const r=new this.constructor(this.context,e).valueOf(),s=this.valueOf(),a=Math.round(s/r)*r-s;return s+a*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let i=1;i<9;i++){const o=Math.pow(2,i);n.push(o+"n."),n.push(o+"n"),n.push(o+"t")}n.push("0");let r=n[0],s=new en(this.context,n[0]).toSeconds();return n.forEach(i=>{const o=new en(this.context,i).toSeconds();Math.abs(o-e)<Math.abs(s-e)&&(r=i,s=o)}),r}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const r=Math.floor(n/this._getTimeSignature());let s=n%1*4;n=Math.floor(n)%this._getTimeSignature();const i=s.toString();return i.length>3&&(s=parseFloat(parseFloat(i).toFixed(3))),[r,n,s].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Hr(this.toFrequency())}_now(){return this.context.now()}}class Ot extends en{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return wI()}static set A4(e){xI(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:Ot.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,n){const s=SI[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?s:Ot.mtof(s)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,r){let s=1;return e&&e!=="0"&&(s*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(s*=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(s*=this._beatsToUnits(parseFloat(r)/4)),s}}})}transpose(e){return new Ot(this.context,this.valueOf()*b_(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return Hr(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/Ot.A4);let r=Math.round(12*n)+57;const s=Math.floor(r/12);return s<0&&(r+=-12*s),bI[r%12]+s.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return k_(e)}static ftom(e){return Hr(e)}}const SI={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},bI=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Gs extends en{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class st extends Hn{constructor(){super();const e=q(st.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:wt()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return tI(e),new en(this.context,e).toSeconds()}toFrequency(e){return new Ot(this.context,e).toFrequency()}toTicks(e){return new Gs(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(r=>{Rt(e[r])&&delete n[r]}),n}get(){const e=hI(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const r=this[n];J(r)&&J(r.value)&&J(r.setValueAtTime)?e[n]=r.value:r instanceof st?e[n]=r._getPartialProperties(e[n]):Tt(r)||xn(r)||Bn(r)||f_(r)?e[n]=r:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&J(this[n])&&(this[n]&&J(this[n].value)&&J(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof st?this[n].set(e[n]):this[n]=e[n])}),this}}class jo extends qt{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,r){return on(n,0),this.add(Object.assign({},r,{state:e,time:n})),this}getLastState(e,n){const r=this._search(n);for(let s=r;s>=0;s--){const i=this._timeline[s];if(i.state===e)return i}}getNextState(e,n){const r=this._search(n);if(r!==-1)for(let s=r;s<this._timeline.length;s++){const i=this._timeline[s];if(i.state===e)return i}}}class ue extends st{constructor(){const e=q(ue.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,X(J(e.param)&&(ns(e.param)||e.param instanceof ue),"param must be an AudioParam");!ns(e.param);)e.param=e.param._param;this._swappable=J(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new qt(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,J(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(st.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return J(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return J(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return J(this.maxValue)&&J(this.minValue)&&on(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?_I(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?Vd(e):e}setValueAtTime(e,n){const r=this.toSeconds(n),s=this._fromType(e);return X(isFinite(s)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(s),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,r),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),r=this._events.getAfter(n),s=this._events.get(n);let i=this._initialValue;if(s===null)i=this._initialValue;else if(s.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const o=this._events.getBefore(s.time);let a;o===null?a=this._initialValue:a=o.value,s.type==="setTargetAtTime"&&(i=this._exponentialApproach(s.time,a,s.value,s.constant,n))}else if(r===null)i=s.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let o=s.value;if(s.type==="setTargetAtTime"){const a=this._events.getBefore(s.time);a===null?o=this._initialValue:o=a.value}r.type==="linearRampToValueAtTime"?i=this._linearInterpolate(s.time,o,r.time,r.value,n):i=this._exponentialInterpolate(s.time,o,r.time,r.value,n)}else i=s.value;return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const r=this._fromType(e),s=this.toSeconds(n);return X(isFinite(r)&&isFinite(s),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this._events.add({time:s,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,s),this._param.linearRampToValueAtTime(r,s),this}exponentialRampToValueAtTime(e,n){let r=this._fromType(e);r=Jt(r,0)?this._minOutput:r,this._assertRange(r);const s=this.toSeconds(n);return X(isFinite(r)&&isFinite(s),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:s,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,s),this._param.exponentialRampToValueAtTime(r,s),this}exponentialRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(n)),this}linearRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(n)),this}targetRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,n),this}exponentialApproachValueAtTime(e,n,r){n=this.toSeconds(n),r=this.toSeconds(r);const s=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,n,s),this.cancelAndHoldAtTime(n+r*.9),this.linearRampToValueAtTime(e,n+r),this}setTargetAtTime(e,n,r){const s=this._fromType(e);X(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(n);return this._assertRange(s),X(isFinite(s)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:r,time:i,type:"setTargetAtTime",value:s}),this.log(this.units,"setTargetAtTime",e,i,r),this._param.setTargetAtTime(s,i,r),this}setValueCurveAtTime(e,n,r,s=1){r=this.toSeconds(r),n=this.toSeconds(n);const i=this._fromType(e[0])*s;this.setValueAtTime(this._toType(i),n);const o=r/(e.length-1);for(let a=1;a<e.length;a++){const l=this._fromType(e[a])*s;this.linearRampToValueAtTime(this._toType(l),n+a*o)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return X(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),r=this._fromType(this.getValueAtTime(n));X(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+r);const s=this._events.get(n),i=this._events.getAfter(n);return s&&Jt(s.time,n)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),i.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),n):i.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),n)),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}rampTo(e,n=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,r):this.linearRampTo(e,n,r),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const r=this._events.get(n);if(r&&r.type==="setTargetAtTime"){const s=this._events.getAfter(r.time),i=s?s.time:n+2,o=(i-n)/10;for(let a=n;a<i;a+=o)e.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,s=>{s.type==="cancelScheduledValues"?e.cancelScheduledValues(s.time):s.type==="setTargetAtTime"?e.setTargetAtTime(s.value,s.time,s.constant):e[s.type](s.value,s.time)}),this}setParam(e){X(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,r,s,i){return r+(n-r)*Math.exp(-(i-e)/s)}_linearInterpolate(e,n,r,s,i){return n+(s-n)*((i-e)/(r-e))}_exponentialInterpolate(e,n,r,s,i){return n*Math.pow(s/n,(i-e)/(r-e))}}class Y extends st{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return J(this.input)?ns(this.input)||this.input instanceof ue?1:this.input.numberOfInputs:0}get numberOfOutputs(){return J(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return J(e)&&(e instanceof Y||Sr(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();X(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,r=0){return an(this,e,n,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return lc("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,r=0){return C_(this,e,n,r),this}chain(...e){return ai(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),J(this.input)&&(this.input instanceof Y?this.input.dispose():Sr(this.input)&&this.input.disconnect()),J(this.output)&&(this.output instanceof Y?this.output.dispose():Sr(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function ai(...t){const e=t.shift();t.reduce((n,r)=>(n instanceof Y?n.connect(r):Sr(n)&&an(n,r),r),e)}function an(t,e,n=0,r=0){for(X(J(t),"Cannot connect from undefined node"),X(J(e),"Cannot connect to undefined node"),(e instanceof Y||Sr(e))&&X(e.numberOfInputs>0,"Cannot connect to node with no inputs"),X(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof Y||e instanceof ue;)J(e.input)&&(e=e.input);for(;t instanceof Y;)J(t.output)&&(t=t.output);ns(e)?t.connect(e,n):t.connect(e,n,r)}function C_(t,e,n=0,r=0){if(J(e))for(;e instanceof Y;)e=e.input;for(;!Sr(t);)J(t.output)&&(t=t.output);ns(e)?t.disconnect(e,n):Sr(e)?t.disconnect(e,n,r):t.disconnect()}class oe extends Y{constructor(){const e=q(oe.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new ue({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),ae(this,"gain")}static getDefaults(){return Object.assign(Y.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class li extends Y{constructor(e){super(e),this.onended=ce,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new oe({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const r=this.toSeconds(n);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(Y.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:ce})}_startGain(e,n=1){X(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+r):this._gainNode.gain.exponentialApproachValueAtTime(n,e,r)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){X(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.now()),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==ce&&(this.onended(this),this.onended=ce,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),X(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=ce,this}}class yf extends li{constructor(){const e=q(yf.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),an(this._source,this._gainNode),this.offset=new ue({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(li.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Ne extends Y{constructor(){const e=q(Ne.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new yf({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Y.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,r=0){return fc(this,e,n,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,r){return this._param.exponentialRampTo(e,n,r),this}linearRampTo(e,n,r){return this._param.linearRampTo(e,n,r),this}targetRampTo(e,n,r){return this._param.targetRampTo(e,n,r),this}exponentialApproachValueAtTime(e,n,r){return this._param.exponentialApproachValueAtTime(e,n,r),this}setTargetAtTime(e,n,r){return this._param.setTargetAtTime(e,n,r),this}setValueCurveAtTime(e,n,r,s){return this._param.setValueCurveAtTime(e,n,r,s),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,r){return this._param.rampTo(e,n,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function fc(t,e,n,r){(e instanceof ue||ns(e)||e instanceof Ne&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Ne&&(e.overridden=!0)),an(t,e,n,r)}class _f extends ue{constructor(){const e=q(_f.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new qt(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(ue.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,r){n=this.toSeconds(n),this.setRampPoint(n);const s=this._fromType(e),i=this._events.get(n),o=Math.round(Math.max(1/r,1));for(let a=0;a<=o;a++){const l=r*a+n,c=this._exponentialApproach(i.time,i.value,s,r,l);this.linearRampToValueAtTime(this._toType(c),l)}return this}setValueAtTime(e,n){const r=this.toSeconds(n);super.setValueAtTime(e,n);const s=this._events.get(r),i=this._events.previousEvent(s),o=this._getTicksUntilEvent(i,r);return s.ticks=Math.max(o,0),this}linearRampToValueAtTime(e,n){const r=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const s=this._events.get(r),i=this._events.previousEvent(s),o=this._getTicksUntilEvent(i,r);return s.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const r=this._fromType(e),s=this._events.get(n),i=Math.round(Math.max((n-s.time)*10,1)),o=(n-s.time)/i;for(let a=0;a<=i;a++){const l=o*a+s.time,c=this._exponentialInterpolate(s.time,s.value,n,r,l);this.linearRampToValueAtTime(this._toType(c),l)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Rt(e.ticks)){const o=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(o,e.time)}const r=this._fromType(this.getValueAtTime(e.time));let s=this._fromType(this.getValueAtTime(n));const i=this._events.get(n);return i&&i.time===n&&i.type==="setValueAtTime"&&(s=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(r+s)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),r=this._events.get(n);return Math.max(this._getTicksUntilEvent(r,n),0)}getDurationOfTicks(e,n){const r=this.toSeconds(n),s=this.getTicksAtTime(n);return this.getTimeOfTick(s+e)-r}getTimeOfTick(e){const n=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&r&&r.type==="linearRampToValueAtTime"&&n.value!==r.value){const s=this._fromType(this.getValueAtTime(n.time)),o=(this._fromType(this.getValueAtTime(r.time))-s)/(r.time-n.time),a=Math.sqrt(Math.pow(s,2)-2*o*(n.ticks-e)),l=(-s+a)/o,c=(-s-a)/o;return(l>0?l:c)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const r=this.toSeconds(n),s=this.toSeconds(e),i=this.getTicksAtTime(r);return this.getTicksAtTime(r+s)-i}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class wf extends Ne{constructor(){const e=q(wf.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new _f({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Ne.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class xf extends st{constructor(){const e=q(xf.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new jo,this._tickOffset=new qt,this._ticksAtTime=new qt,this._secondsAtTime=new qt,this.frequency=new wf({context:this.context,units:e.units,value:e.frequency}),ae(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},st.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),J(n)&&this.setTicksAtTime(n,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const r=this._state.get(n);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),r=this._state.getLastState("stopped",n),s=this._ticksAtTime.get(n),i={state:"paused",time:n};this._state.add(i);let o=s||r,a=s?s.ticks:0,l=null;return this._state.forEachBetween(o.time,n+this.sampleTime,c=>{let d=o.time;const u=this._tickOffset.get(c.time);u&&u.time>=o.time&&(a=u.ticks,d=u.time),o.state==="started"&&c.state!=="started"&&(a+=this.frequency.getTicksAtTime(c.time)-this.frequency.getTicksAtTime(d),c.time!==i.time&&(l={state:c.state,time:c.time,ticks:a})),o=c}),this._state.remove(i),l&&this._ticksAtTime.add(l),a}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),r=this.frequency.timeToTicks(e,n);this.setTicksAtTime(r,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);const s=this._secondsAtTime.get(e);let i=s||n,o=s?s.seconds:0,a=null;return this._state.forEachBetween(i.time,e+this.sampleTime,l=>{let c=i.time;const d=this._tickOffset.get(l.time);d&&d.time>=i.time&&(o=d.seconds,c=d.time),i.state==="started"&&l.state!=="started"&&(o+=l.time-c,l.time!==r.time&&(a={state:l.state,time:l.time,seconds:o})),i=l}),this._state.remove(r),a&&this._secondsAtTime.add(a),o}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const r=this._tickOffset.get(n),s=this._state.get(n),i=Math.max(r.time,s.time),o=this.frequency.getTicksAtTime(i)+e-r.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(e,n,r){let s=this._state.get(e);this._state.forEachBetween(e,n,o=>{s&&s.state==="started"&&o.state!=="started"&&this.forEachTickBetween(Math.max(s.time,e),o.time-this.sampleTime,r),s=o});let i=null;if(s&&s.state==="started"){const o=Math.max(s.time,e),a=this.frequency.getTicksAtTime(o),l=this.frequency.getTicksAtTime(s.time),c=a-l;let d=Math.ceil(c)-c;d=Jt(d,1)?0:d;let u=this.frequency.getTimeOfTick(a+d);for(;u<n;){try{r(u,Math.round(this.getTicksAtTime(u)))}catch(h){i=h;break}u+=this.frequency.getDurationOfTicks(1,u)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class pc extends st{constructor(){const e=q(pc.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=ce,this._lastUpdate=0,this._state=new jo("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new xf({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,ae(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(st.getDefaults(),{callback:ce,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){p_(this.context);const r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,n),r<this._lastUpdate&&this.emit("start",r,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const r=this.toSeconds(n),s=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(s+e,r)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,r=>{switch(r.state){case"started":const s=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,s);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,n,(r,s)=>{this.callback(r,s)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Lo.mixin(pc);class wo extends Y{constructor(){const e=q(wo.getDefaults(),arguments,["delayTime","maxDelay"]);super(e),this.name="Delay";const n=this.toSeconds(e.maxDelay);this._maxDelay=Math.max(n,this.toSeconds(e.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(n),this.delayTime=new ue({context:this.context,param:this._delayNode.delayTime,units:"time",value:e.delayTime,minValue:0,maxValue:this.maxDelay}),ae(this,"delayTime")}static getDefaults(){return Object.assign(Y.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}class Si extends Y{constructor(){const e=q(Si.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new oe({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,ae(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(Y.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Sf extends Y{constructor(){const e=q(Sf.getDefaults(),arguments);super(e),this.name="Destination",this.input=new Si({context:this.context}),this.output=new oe({context:this.context}),this.volume=this.input.volume,ai(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Y.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),ai(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}cc(t=>{t.destination=new Sf({context:t})});uc(t=>{t.destination.dispose()});class TI extends Y{constructor(){super(...arguments),this.name="Listener",this.positionX=new ue({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new ue({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new ue({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new ue({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new ue({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new ue({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new ue({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new ue({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new ue({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Y.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}cc(t=>{t.listener=new TI({context:t})});uc(t=>{t.listener.dispose()});class bf extends Hn{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=q(bf.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const r=e.urls[n];this.add(n,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:ce,onload:ce,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return X(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,r=ce,s=ce){return Bn(n)?(this.baseUrl&&n.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new he(this.baseUrl+n,r,s))):this._buffers.set(e.toString(),new he(n,r,s)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class bl extends Ot{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return Hr(super._frequencyToUnits(e))}_ticksToUnits(e){return Hr(super._ticksToUnits(e))}_beatsToUnits(e){return Hr(super._beatsToUnits(e))}_secondsToUnits(e){return Hr(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return k_(this.toMidi())}transpose(e){return new bl(this.context,this.toMidi()+e)}}class We extends Gs{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class kI extends st{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new qt,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const n=this._events.shift();n&&e-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}cc(t=>{t.draw=new kI({context:t})});uc(t=>{t.draw.dispose()});class CI extends Hn{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){X(J(e.time),"Events must have a time property"),X(J(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new EI(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const r of n)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let r,s=null;if(n>0)if(e.left.right===null)r=e.left,r.right=e.right,s=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,s=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,s=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,s=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),s&&this._rebalance(s)}e.dispose()}_rotateLeft(e){const n=e.parent,r=e.isLeftChild(),s=e.right;s&&(e.right=s.left,s.left=e),n!==null?r?n.left=s:n.right=s:this._setRoot(s)}_rotateRight(e){const n=e.parent,r=e.isLeftChild(),s=e.left;s&&(e.left=s.right,s.right=e),n!==null?r?n.left=s:n.right=s:this._setRoot(s)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let r=n[0];for(let s=1;s<n.length;s++)n[s].low>r.low&&(r=n[s]);return r.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(r=>n.push(r)),n.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const r=[];this._root.search(e,r),r.forEach(s=>{s.event&&n(s.event)})}return this}forEachFrom(e,n){if(this._root!==null){const r=[];this._root.searchAfter(e,r),r.forEach(s=>{s.event&&n(s.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class EI{constructor(e,n,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class NI extends Hn{constructor(e){super(),this.name="TimelineValue",this._timeline=new qt({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class Sn extends Y{constructor(){super(q(Sn.getDefaults(),arguments,["context"]))}connect(e,n=0,r=0){return fc(this,e,n,r),this}}class bi extends Sn{constructor(){const e=q(bi.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Tt(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):eI(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Ne.getDefaults(),{length:1024})}setMap(e,n=1024){const r=new Float32Array(n);for(let s=0,i=n;s<i;s++){const o=s/(i-1)*2-1;r[s]=e(o,s)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(r=>r.includes(e));X(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Tf extends Sn{constructor(){const e=q(Tf.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new bi({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(Sn.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Cr{constructor(e,n){this.id=Cr._eventId++,this._remainderTime=0;const r=Object.assign(Cr.getDefaults(),n);this.transport=e,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:ce,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const n=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*n),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Cr._eventId=0;class kf extends Cr{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(kf.getDefaults(),n);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Cr.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return Sl(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new We(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){Sl(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new We(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const n=this.transport.getTicksAtTime(e);oi(n,this.time)&&(this._nextTick=this.floatTime+Math.ceil((n-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class mc extends st{constructor(){const e=q(mc.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new NI(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new qt,this._repeatedEvents=new CI,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new pc({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),ae(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(st.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const r=n%(this._swingTicks*2)/(this._swingTicks*2),s=Math.sin(r*Math.PI)*this._swingAmount;e+=new We(this.context,this._swingTicks*2/3).toSeconds()*s}Fm(!0),this._timeline.forEachAtTime(n,r=>r.invoke(e)),Fm(!1)}schedule(e,n){const r=new Cr(this,{callback:e,time:new Gs(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,n,r,s=1/0){const i=new kf(this,{callback:e,duration:new en(this.context,s).toTicks(),interval:new en(this.context,n).toTicks(),time:new Gs(this.context,r).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,n){const r=new Cr(this,{callback:e,once:!0,time:new Gs(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(n,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new We(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){this.context.resume();let r;return J(n)&&(r=this.toTicks(n)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){Tt(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new en(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new en(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new We(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new We(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),r=this._clock.frequency.timeToTicks(e,n);this.ticks=r}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(n),s=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,n),i=n+s;this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this.emit("ticks",n),this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),r=this.getTicksAtTime(n),s=e-r%e;return this._clock.nextTickTime(s,n)}}syncSignal(e,n){const r=this.now();let s=this.bpm,i=1/(60/s.getValueAtTime(r)/this.PPQ),o=[];if(e.units==="time"){const l=.015625/i,c=new oe(l),d=new Tf(-1),u=new oe(l);s.chain(c,d,u),s=u,i=1/i,o=[c,d,u]}n||(e.getValueAtTime(r)!==0?n=e.getValueAtTime(r)/i:n=0);const a=new oe(n);return s.connect(a),a.connect(e._param),o.push(a),this._syncedSignals.push({initial:e.value,nodes:o,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const r=this._syncedSignals[n];r.signal===e&&(r.nodes.forEach(s=>s.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),x_(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Lo.mixin(mc);cc(t=>{t.transport=new mc({context:t})});uc(t=>{t.transport.dispose()});class ht extends Y{constructor(e){super(e),this.input=void 0,this._state=new jo("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=ce,this._syncedStop=ce,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Si({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,ae(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(Y.getDefaults(),{mute:!1,onstop:ce,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,r){let s=Rt(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(s=this._clampToCurrentTime(s),!this._synced&&this._state.getValueAtTime(s)==="started")X(oi(s,this._state.get(s).time),"Start time must be strictly greater than previous start time"),this._state.cancel(s),this._state.setStateAtTime("started",s),this.log("restart",s),this.restart(s,n,r);else if(this.log("start",s),this._state.setStateAtTime("started",s),this._synced){const i=this._state.get(s);i&&(i.offset=this.toSeconds(_n(n,0)),i.duration=r?this.toSeconds(r):void 0);const o=this.context.transport.schedule(a=>{this._start(a,n,r)},s);this._scheduled.push(o),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>s&&this._syncedStart(this.now(),this.context.transport.seconds)}else p_(this.context),this._start(s,n,r);return this}stop(e){let n=Rt(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||J(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const r=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(r)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(oi(n,0)){const r=this._state.get(n);if(r&&r.state==="started"&&r.time!==n){const s=n-this.toSeconds(r.time);let i;r.duration&&(i=this.toSeconds(r.duration)-s),this._start(e,this.toSeconds(r.offset)+s,i)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=ce,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Uo extends li{constructor(){const e=q(Uo.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,an(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new ue({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new he(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(li.getDefaults(),{url:new he,loop:!1,loopEnd:0,loopStart:0,onload:ce,onerror:ce,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,r,s=1){X(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(e);this._startGain(i,s),this.loop?n=_n(n,this.loopStart):n=_n(n,0);let o=Math.max(this.toSeconds(n),0);if(this.loop){const a=this.toSeconds(this.loopEnd)||this.buffer.duration,l=this.toSeconds(this.loopStart),c=a-l;Ld(o,a)&&(o=(o-l)%c+l),Jt(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Sl(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,o)),J(r)){let a=this.toSeconds(r);a=Math.max(a,0),this.stop(i+a)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class Tl extends ht{constructor(){const e=q(Tl.getDefaults(),arguments,["type"]);super(e),this.name="Noise",this._source=null,this._playbackRate=e.playbackRate,this.type=e.type,this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut}static getDefaults(){return Object.assign(ht.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(e){if(X(e in Lm,"Noise: invalid type: "+e),this._type!==e&&(this._type=e,this.state==="started")){const n=this.now();this._stop(n),this._start(n)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._source&&(this._source.playbackRate.value=e)}_start(e){const n=Lm[this._type];this._source=new Uo({url:n,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(e),Math.random()*(n.duration-.001))}_stop(e){this._source&&(this._source.stop(this.toSeconds(e)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(e){this._stop(e),this._start(e)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const gs=44100*5,fu=2,Nn={brown:null,pink:null,white:null},Lm={get brown(){if(!Nn.brown){const t=[];for(let e=0;e<fu;e++){const n=new Float32Array(gs);t[e]=n;let r=0;for(let s=0;s<gs;s++){const i=Math.random()*2-1;n[s]=(r+.02*i)/1.02,r=n[s],n[s]*=3.5}}Nn.brown=new he().fromArray(t)}return Nn.brown},get pink(){if(!Nn.pink){const t=[];for(let e=0;e<fu;e++){const n=new Float32Array(gs);t[e]=n;let r,s,i,o,a,l,c;r=s=i=o=a=l=c=0;for(let d=0;d<gs;d++){const u=Math.random()*2-1;r=.99886*r+u*.0555179,s=.99332*s+u*.0750759,i=.969*i+u*.153852,o=.8665*o+u*.3104856,a=.55*a+u*.5329522,l=-.7616*l-u*.016898,n[d]=r+s+i+o+a+l+c+u*.5362,n[d]*=.11,c=u*.115926}}Nn.pink=new he().fromArray(t)}return Nn.pink},get white(){if(!Nn.white){const t=[];for(let e=0;e<fu;e++){const n=new Float32Array(gs);t[e]=n;for(let r=0;r<gs;r++)n[r]=Math.random()*2-1}Nn.white=new he().fromArray(t)}return Nn.white}};function ps(t,e){return Ve(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,r=new dc(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class Cf extends li{constructor(){const e=q(Cf.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],an(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new ue({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new ue({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),ae(this,["frequency","detune"])}static getDefaults(){return Object.assign(li.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class De extends ht{constructor(){const e=q(De.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new Ne({context:this.context,units:"frequency",value:e.frequency}),ae(this,"frequency"),this.detune=new Ne({context:this.context,units:"cents",value:e.detune}),ae(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(ht.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),r=new Cf({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return De._periodicWaveCache.find(n=>n.phase===this._phase&&dI(n.partials,this._partials));{const e=De._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const r=this._getCachedPeriodicWave();if(J(r)){const{partials:s,wave:i}=r;this._wave=i,this._partials=s,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[s,i]=this._getRealImaginary(e,this._phase),o=this.context.createPeriodicWave(s,i);this._wave=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),De._periodicWaveCache.push({imag:i,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:s,type:this._type,wave:this._wave}),De._periodicWaveCache.length>100&&De._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){on(e,0);let n=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(n=r[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const s=new Float32Array(e);this._partials.forEach((i,o)=>s[o]=i),this._partials=Array.from(s),this.type=this._type}}_getRealImaginary(e,n){let s=2048;const i=new Float32Array(s),o=new Float32Array(s);let a=1;if(e==="custom"){if(a=this._partials.length+1,this._partialCount=this._partials.length,s=a,this._partials.length===0)return[i,o]}else{const l=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);l?(a=parseInt(l[2],10)+1,this._partialCount=parseInt(l[2],10),e=l[1],a=Math.max(a,2),s=a):this._partialCount=0,this._partials=[]}for(let l=1;l<s;++l){const c=2/(l*Math.PI);let d;switch(e){case"sine":d=l<=a?1:0,this._partials[l-1]=d;break;case"square":d=l&1?2*c:0,this._partials[l-1]=d;break;case"sawtooth":d=c*(l&1?1:-1),this._partials[l-1]=d;break;case"triangle":l&1?d=2*(c*c)*(l-1>>1&1?-1:1):d=0,this._partials[l-1]=d;break;case"custom":d=this._partials[l-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}d!==0?(i[l]=-d*Math.sin(n*l),o[l]=d*Math.cos(n*l)):(i[l]=0,o[l]=0)}return[i,o]}_inverseFFT(e,n,r){let s=0;const i=e.length;for(let o=0;o<i;o++)s+=e[o]*Math.cos(o*r)+n[o]*Math.sin(o*r);return s}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let r=0;const s=Math.PI*2,i=32;for(let o=0;o<i;o++)r=Math.max(this._inverseFFT(e,n,o/i*s),r);return fI(-this._inverseFFT(e,n,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return Ve(this,arguments,void 0,function*(e=1024){return ps(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}De._periodicWaveCache=[];class E_ extends Sn{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new bi({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class rs extends Ne{constructor(){const e=q(rs.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new oe({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Ne.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class gc extends ht{constructor(){const e=q(gc.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new E_({context:this.context}),this._modulationNode=new oe({context:this.context}),this._carrier=new De({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new De({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new rs({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),ae(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(De.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Ve(this,arguments,void 0,function*(e=1024){return ps(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class vc extends ht{constructor(){const e=q(vc.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new oe({context:this.context,gain:0}),this._carrier=new De({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Ne({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new De({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new rs({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new rs({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),ae(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(De.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Ve(this,arguments,void 0,function*(e=1024){return ps(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Bo extends ht{constructor(){const e=q(Bo.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new oe({context:this.context,gain:0}),this._thresh=new bi({context:this.context,mapping:n=>n<=0?-1:1}),this.width=new Ne({context:this.context,units:"audioRange",value:e.width}),this._triangle=new De({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),ae(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(ht.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return Ve(this,arguments,void 0,function*(e=1024){return ps(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class yc extends ht{constructor(){const e=q(yc.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new Ne({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Ne({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,ae(this,["frequency","detune"])}static getDefaults(){return Object.assign(De.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,r=e/(this._oscillators.length-1);this._forEach((s,i)=>s.detune.value=n+r*i)}}get count(){return this._oscillators.length}set count(e){if(on(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const r=new De({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):ce});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[n]=r}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,r)=>n.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(){return Ve(this,arguments,void 0,function*(e=1024){return ps(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class _c extends ht{constructor(){const e=q(_c.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new rs({context:this.context,value:2}),this._pulse=new Bo({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new De({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),ae(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(ht.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return Ve(this,arguments,void 0,function*(e=1024){return ps(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Vm={am:gc,fat:yc,fm:vc,oscillator:De,pulse:Bo,pwm:_c};class kl extends ht{constructor(){const e=q(kl.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new Ne({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Ne({context:this.context,units:"cents",value:e.detune}),ae(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(De.getDefaults(),vc.getDefaults(),gc.getDefaults(),yc.getDefaults(),Bo.getDefaults(),_c.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=Vm[e],r=this.now();if(this._oscillator){const s=this._oscillator;s.stop(r),this.context.setTimeout(()=>s.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof Vm[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&xn(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&xn(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Bn(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Ve(this,arguments,void 0,function*(e=1024){return ps(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class Ef extends Ne{constructor(){super(q(Ef.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new oe({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,ai(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Ne.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class Nf extends Sn{constructor(){const e=q(Nf.getDefaults(),arguments,["min","max"]);super(e),this.name="Scale",this._mult=this.input=new rs({context:this.context,value:e.max-e.min}),this._add=this.output=new Ef({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(Sn.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class Af extends Sn{constructor(){super(q(Af.getDefaults(),arguments)),this.name="Zero",this._gain=new oe({context:this.context}),this.output=this._gain,this.input=void 0,an(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),C_(this.context.getConstant(0),this._gain),this}}class Cl extends Y{constructor(){const e=q(Cl.getDefaults(),arguments,["frequency","min","max"]);super(e),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=ue.prototype._fromType,this._toType=ue.prototype._toType,this._is=ue.prototype._is,this._clampValue=ue.prototype._clampValue,this._oscillator=new De(e),this.frequency=this._oscillator.frequency,this._amplitudeGain=new oe({context:this.context,gain:e.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new Ne({context:this.context,units:"audioRange",value:0}),this._zeros=new Af({context:this.context}),this._a2g=new E_({context:this.context}),this._scaler=this.output=new Nf({context:this.context,max:e.max,min:e.min}),this.units=e.units,this.min=e.min,this.max=e.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),ae(this,["amplitude","frequency"]),this.phase=e.phase}static getDefaults(){return Object.assign(De.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(0,e),this._oscillator.start(e),this}stop(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(this._stoppedValue,e),this._oscillator.stop(e),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(e){e=this._fromType(e),this._scaler.min=e}get max(){return this._toType(this._scaler.max)}set max(e){e=this._fromType(e),this._scaler.max=e}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(e){this._oscillator.partials=e,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e,this._setStoppedValue()}get units(){return this._units}set units(e){const n=this.min,r=this.max;this._units=e,this.min=n,this.max=r}get state(){return this._oscillator.state}connect(e,n,r){return(e instanceof ue||e instanceof Ne)&&(this.convert=e.convert,this.units=e.units),fc(this,e,n,r),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function N_(t,e=1/0){const n=new WeakMap;return function(r,s){Reflect.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){on(i,t,e),n.set(this,i)}})}}function Gn(t,e=1/0){const n=new WeakMap;return function(r,s){Reflect.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){on(this.toSeconds(i),t,e),n.set(this,i)}})}}class wc extends ht{constructor(){const e=q(wc.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new he({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(ht.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:ce,onerror:ce,playbackRate:1,reverse:!1})}load(e){return Ve(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=ce){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,r){return super.start(e,n,r),this}_start(e,n,r){this._loop?n=_n(n,this._loopStart):n=_n(n,0);const s=this.toSeconds(n),i=r;r=_n(r,Math.max(this._buffer.duration-s,0));let o=this.toSeconds(r);o=o/this._playbackRate,e=this.toSeconds(e);const a=new Uo({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+o),this._state.setStateAtTime("stopped",e+o,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&Rt(i)?a.start(e,s):a.start(e,s,o-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(n))}restart(e,n,r){return super.restart(e,n,r),this}_restart(e,n,r){var s;(s=[...this._activeSources].pop())===null||s===void 0||s.stop(e),this._start(e,n,r)}seek(e,n){const r=this.toSeconds(n);if(this._state.getValueAtTime(r)==="started"){const s=this.toSeconds(e);this._stop(r),this._start(r,s)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&on(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&on(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),r=this._state.getNextState("stopped",n);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(s=>s.cancelStop())),this._activeSources.forEach(s=>{s.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}hn([Gn(0)],wc.prototype,"fadeIn",void 0);hn([Gn(0)],wc.prototype,"fadeOut",void 0);class AI extends Sn{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new bi({context:this.context,mapping:e=>Math.abs(e)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Fr extends Y{constructor(){const e=q(Fr.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new Ne({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(Y.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(Bn(e))return e;{let r;for(r in ha)if(ha[r][n]===e)return r;return e}}_setCurve(e,n,r){if(Bn(r)&&Reflect.has(ha,r)){const s=ha[r];xr(s)?e!=="_decayCurve"&&(this[e]=s[n]):this[e]=s}else if(Tt(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let s=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),o=this.getValueAtTime(e);if(o>0){const a=1/s;s=(1-o)/a}if(s<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,s,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,s,e);else{this._sig.cancelAndHoldAtTime(e);let a=this._attackCurve;for(let l=1;l<a.length;l++)if(a[l-1]<=o&&o<=a[l]){a=this._attackCurve.slice(l),a[0]=o;break}this._sig.setValueCurveAtTime(a,e,s,n)}if(i&&this.sustain<1){const a=n*this.sustain,l=e+s;this.log("decay",l),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(a,i+l):this._sig.exponentialApproachValueAtTime(a,l,i)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(X(Tt(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,r=1){return n=this.toSeconds(n),this.triggerAttack(n,r),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,r=0){return fc(this,e,n,r),this}asArray(){return Ve(this,arguments,void 0,function*(e=1024){const n=e/this.context.sampleRate,r=new dc(1,n,this.context.sampleRate),s=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=s+this.toSeconds(this.release),o=i*.1,a=i+o,l=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/a,decay:n*this.toSeconds(this.decay)/a,release:n*this.toSeconds(this.release)/a,context:r}));return l._sig.toDestination(),l.triggerAttackRelease(n*(s+o)/a,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}hn([Gn(0)],Fr.prototype,"attack",void 0);hn([Gn(0)],Fr.prototype,"decay",void 0);hn([N_(0,1)],Fr.prototype,"sustain",void 0);hn([Gn(0)],Fr.prototype,"release",void 0);const ha=(()=>{let e,n;const r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/127*(Math.PI/2));const s=[],i=6.4;for(e=0;e<127;e++){n=e/127;const h=Math.sin(n*(Math.PI*2)*i-Math.PI/2)+1;s[e]=h/10+n*.83}s[127]=1;const o=[],a=5;for(e=0;e<128;e++)o[e]=Math.ceil(e/127*a)/a;const l=[];for(e=0;e<128;e++)n=e/127,l[e]=.5*(1-Math.cos(Math.PI*n));const c=[];for(e=0;e<128;e++){n=e/127;const h=Math.pow(n,3)*4+.2,p=Math.cos(h*Math.PI*2*n);c[e]=Math.abs(p*(1-n))}function d(h){const p=new Array(h.length);for(let m=0;m<h.length;m++)p[m]=1-h[m];return p}function u(h){return h.slice(0).reverse()}return{bounce:{In:d(c),Out:c},cosine:{In:r,Out:u(r)},exponential:"exponential",linear:"linear",ripple:{In:s,Out:d(s)},sine:{In:l,Out:d(l)},step:{In:o,Out:d(o)}}})();let ci=class A_ extends Y{constructor(){const e=q(A_.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=n=>this._original_triggerRelease(n),this._volume=this.output=new Si({context:this.context,volume:e.volume}),this.volume=this._volume.volume,ae(this,"volume")}static getDefaults(){return Object.assign(Y.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const r=this["_original_"+e]=this[e];this[e]=(...s)=>{const i=s[n],o=this.context.transport.schedule(a=>{s[n]=a,r.apply(this,s)},i);this._scheduledEvents.push(o)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,n,r,s){const i=this.toSeconds(r),o=this.toSeconds(n);return this.triggerAttack(e,i,s),this.triggerRelease(i+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}};class ss extends ci{constructor(){const e=q(ss.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(ci.getDefaults(),{detune:0,onsilence:ce,portamento:0})}triggerAttack(e,n,r=1){this.log("triggerAttack",e,n,r);const s=this.toSeconds(n);return this._triggerEnvelopeAttack(s,r),this.setNote(e,s),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const r=this.toSeconds(n),s=e instanceof Ot?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(s,i,r)}else this.frequency.setValueAtTime(s,r);return this}}hn([Gn(0)],ss.prototype,"portamento",void 0);class If extends Fr{constructor(){super(q(If.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new oe({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class is extends ss{constructor(){const e=q(is.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new kl(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new If(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),ae(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(ss.getDefaults(),{envelope:Object.assign(Fd(Fr.getDefaults(),Object.keys(Y.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Fd(kl.getDefaults(),[...Object.keys(ht.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),s=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+s)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class xc extends is{constructor(){const e=q(xc.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,ae(this,["oscillator","envelope"])}static getDefaults(){return Xr(ss.getDefaults(),is.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const r=this.toSeconds(n),s=this.toFrequency(e instanceof Ot?e.toFrequency():e),i=s*this.octaves;return this.oscillator.frequency.setValueAtTime(i,r),this.oscillator.frequency.exponentialRampToValueAtTime(s,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}hn([N_(0)],xc.prototype,"octaves",void 0);hn([Gn(0)],xc.prototype,"pitchDecay",void 0);const I_=new Set;function Of(t){I_.add(t)}function O_(t,e){const n=`registerProcessor("${t}", ${e})`;I_.add(n)}const II=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Of(II);const OI=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Of(OI);const PI=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Of(PI);const RI="feedback-comb-filter",MI=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;O_(RI,MI);class Pf extends ci{constructor(){const e=q(Pf.getDefaults(),arguments,["voice","options"]);super(e),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=s=>this.releaseAll(s),X(!xn(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const n=e.voice.getDefaults();this.options=Object.assign(n,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const r=this._voices.indexOf(this._dummyVoice);this._voices.splice(r,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(ci.getDefaults(),{maxPolyphony:32,options:{},voice:is})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const n=this._activeVoices.findIndex(r=>r.voice===e);this._activeVoices.splice(n,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return X(e instanceof ss,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else lc("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),n=this._voices.indexOf(e);this._voices.splice(n,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,n,r){e.forEach(s=>{const i=new bl(this.context,s).toMidi(),o=this._getNextAvailableVoice();o&&(o.triggerAttack(s,n,r),this._activeVoices.push({midi:i,voice:o,released:!1}),this.log("triggerAttack",s,n))})}_triggerRelease(e,n){e.forEach(r=>{const s=new bl(this.context,r).toMidi(),i=this._activeVoices.find(({midi:o,released:a})=>o===s&&!a);i&&(i.voice.triggerRelease(n),i.released=!0,this.log("triggerRelease",r,n))})}_scheduleEvent(e,n,r,s){X(!this.disposed,"Synth was already disposed"),r<=this.now()?e==="attack"?this._triggerAttack(n,r,s):this._triggerRelease(n,r):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,n,r,s)},r-this.now())}triggerAttack(e,n,r){Array.isArray(e)||(e=[e]);const s=this.toSeconds(n);return this._scheduleEvent("attack",e,s,r),this}triggerRelease(e,n){Array.isArray(e)||(e=[e]);const r=this.toSeconds(n);return this._scheduleEvent("release",e,r),this}triggerAttackRelease(e,n,r,s){const i=this.toSeconds(r);if(this.triggerAttack(e,i,s),Tt(n)){X(Tt(e),"If the duration is an array, the notes must also be an array"),e=e;for(let o=0;o<e.length;o++){const a=n[Math.min(o,n.length-1)],l=this.toSeconds(a);X(l>0,"The duration must be greater than 0"),this.triggerRelease(e[o],i+l)}}else{const o=this.toSeconds(n);X(o>0,"The duration must be greater than 0"),this.triggerRelease(e,i+o)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const n=Fd(e,["onsilence","context"]);return this.options=Xr(this.options,n),this._voices.forEach(r=>r.set(n)),this._dummyVoice.set(n),this}get(){return this._dummyVoice.get()}releaseAll(e){const n=this.toSeconds(e);return this._activeVoices.forEach(({voice:r})=>{r.triggerRelease(n)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class Sc extends ci{constructor(){const e=q(Sc.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const n={};Object.keys(e.urls).forEach(r=>{const s=parseInt(r,10);if(X(da(r)||xn(s)&&isFinite(s),`url key is neither a note or midi pitch: ${r}`),da(r)){const i=new Ot(this.context,r).toMidi();n[i]=e.urls[r]}else xn(s)&&isFinite(s)&&(n[s]=e.urls[s])}),this._buffers=new bf({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(ci.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:ce,onerror:ce,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,r=1){return this.log("triggerAttack",e,n,r),Array.isArray(e)||(e=[e]),e.forEach(s=>{const i=T_(new Ot(this.context,s).toFrequency()),o=Math.round(i),a=i-o,l=this._findClosest(o),c=o-l,d=this._buffers.get(c),u=b_(l+a),h=new Uo({url:d,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:u}).connect(this.output);h.start(n,0,d.duration/u,r),Tt(this._activeSources.get(o))||this._activeSources.set(o,[]),this._activeSources.get(o).push(h),h.onended=()=>{if(this._activeSources&&this._activeSources.has(o)){const p=this._activeSources.get(o),m=p.indexOf(h);m!==-1&&p.splice(m,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(r=>{const s=new Ot(this.context,r).toMidi();if(this._activeSources.has(s)&&this._activeSources.get(s).length){const i=this._activeSources.get(s);n=this.toSeconds(n),i.forEach(o=>{o.stop(n)}),this._activeSources.set(s,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,r,s=1){const i=this.toSeconds(r);return this.triggerAttack(e,i,s),Tt(n)?(X(Tt(e),"notes must be an array when duration is array"),e.forEach((o,a)=>{const l=n[Math.min(a,n.length-1)];this.triggerRelease(o,i+this.toSeconds(l))})):this.triggerRelease(e,i+this.toSeconds(n)),this}add(e,n,r){if(X(da(e)||isFinite(e),`note must be a pitch or midi: ${e}`),da(e)){const s=new Ot(this.context,e).toMidi();this._buffers.add(s,n,r)}else this._buffers.add(e,n,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}hn([Gn(0)],Sc.prototype,"attack",void 0);hn([Gn(0)],Sc.prototype,"release",void 0);class Ls extends st{constructor(){const e=q(Ls.getDefaults(),arguments,["callback","value"]);super(e),this.name="ToneEvent",this._state=new jo("stopped"),this._startOffset=0,this._loop=e.loop,this.callback=e.callback,this.value=e.value,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._playbackRate=e.playbackRate,this._probability=e.probability,this._humanize=e.humanize,this.mute=e.mute,this._playbackRate=e.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(st.getDefaults(),{callback:ce,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(e=-1){this._state.forEachFrom(e,n=>{let r;if(n.state==="started"){n.id!==-1&&this.context.transport.clear(n.id);const s=n.time+Math.round(this.startOffset/this._playbackRate);if(this._loop===!0||xn(this._loop)&&this._loop>1){r=1/0,xn(this._loop)&&(r=this._loop*this._getLoopDuration());const i=this._state.getAfter(s);i!==null&&(r=Math.min(r,i.time-s)),r!==1/0&&(r=new We(this.context,r));const o=new We(this.context,this._getLoopDuration());n.id=this.context.transport.scheduleRepeat(this._tick.bind(this),o,new We(this.context,s),r)}else n.id=this.context.transport.schedule(this._tick.bind(this),new We(this.context,s))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e}get probability(){return this._probability}set probability(e){this._probability=e}get humanize(){return this._humanize}set humanize(e){this._humanize=e}start(e){const n=this.toTicks(e);return this._state.getValueAtTime(n)==="stopped"&&(this._state.add({id:-1,state:"started",time:n}),this._rescheduleEvents(n)),this}stop(e){this.cancel(e);const n=this.toTicks(e);if(this._state.getValueAtTime(n)==="started"){this._state.setStateAtTime("stopped",n,{id:-1});const r=this._state.getBefore(n);let s=n;r!==null&&(s=r.time),this._rescheduleEvents(s)}return this}cancel(e){e=_n(e,-1/0);const n=this.toTicks(e);return this._state.forEachFrom(n,r=>{this.context.transport.clear(r.id)}),this._state.cancel(n),this}_tick(e){const n=this.context.transport.getTicksAtTime(e);if(!this.mute&&this._state.getValueAtTime(n)==="started"){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let r=.02;f_(this.humanize)||(r=this.toSeconds(this.humanize)),e+=(Math.random()*2-1)*r}this.callback(e,this.value)}}_getLoopDuration(){return(this._loopEnd-this._loopStart)/this._playbackRate}get loop(){return this._loop}set loop(e){this._loop=e,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._rescheduleEvents()}get loopEnd(){return new We(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._rescheduleEvents()}get loopStart(){return new We(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const e=this.context.transport.ticks,n=this._state.get(e);if(n!==null&&n.state==="started"){const r=this._getLoopDuration();return(e-n.time)%r/r}else return 0}else return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class El extends Ls{constructor(){const e=q(El.getDefaults(),arguments,["callback","events"]);super(e),this.name="Part",this._state=new jo("stopped"),this._events=new Set,this._state.increasing=!0,e.events.forEach(n=>{Tt(n)?this.add(n[0],n[1]):this.add(n)})}static getDefaults(){return Object.assign(Ls.getDefaults(),{events:[]})}start(e,n){const r=this.toTicks(e);if(this._state.getValueAtTime(r)!=="started"){n=_n(n,this._loop?this._loopStart:0),this._loop?n=_n(n,this._loopStart):n=_n(n,0);const s=this.toTicks(n);this._state.add({id:-1,offset:s,state:"started",time:r}),this._forEach(i=>{this._startNote(i,r,s)})}return this}_startNote(e,n,r){n-=r,this._loop?e.startOffset>=this._loopStart&&e.startOffset<this._loopEnd?(e.startOffset<r&&(n+=this._getLoopDuration()),e.start(new We(this.context,n))):e.startOffset<this._loopStart&&e.startOffset>=r&&(e.loop=!1,e.start(new We(this.context,n))):e.startOffset>=r&&e.start(new We(this.context,n))}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e,this._forEach(n=>{n.startOffset+=this._startOffset})}stop(e){const n=this.toTicks(e);return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._forEach(r=>{r.stop(e)}),this}at(e,n){const r=new Gs(this.context,e).toTicks(),s=new We(this.context,1).toSeconds(),i=this._events.values();let o=i.next();for(;!o.done;){const a=o.value;if(Math.abs(r-a.startOffset)<s)return J(n)&&(a.value=n),a;o=i.next()}return J(n)?(this.add(e,n),this.at(e)):null}add(e,n){e instanceof Object&&Reflect.has(e,"time")&&(n=e,e=n.time);const r=this.toTicks(e);let s;return n instanceof Ls?(s=n,s.callback=this._tick.bind(this)):s=new Ls({callback:this._tick.bind(this),context:this.context,value:n}),s.startOffset=r,s.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(s),this._restartEvent(s),this}_restartEvent(e){this._state.forEach(n=>{n.state==="started"?this._startNote(e,n.time,n.offset):e.stop(new We(this.context,n.time))})}remove(e,n){return xr(e)&&e.hasOwnProperty("time")&&(n=e,e=n.time),e=this.toTicks(e),this._events.forEach(r=>{r.startOffset===e&&(Rt(n)||J(n)&&r.value===n)&&(this._events.delete(r),r.dispose())}),this}clear(){return this._forEach(e=>e.dispose()),this._events.clear(),this}cancel(e){return this._forEach(n=>n.cancel(e)),this._state.cancel(this.toTicks(e)),this}_forEach(e){return this._events&&this._events.forEach(n=>{n instanceof El?n._forEach(e):e(n)}),this}_setAll(e,n){this._forEach(r=>{r[e]=n})}_tick(e,n){this.mute||this.callback(e,n)}_testLoopBoundries(e){this._loop&&(e.startOffset<this._loopStart||e.startOffset>=this._loopEnd)?e.cancel(0):e.state==="stopped"&&this._restartEvent(e)}get probability(){return this._probability}set probability(e){this._probability=e,this._setAll("probability",e)}get humanize(){return this._humanize}set humanize(e){this._humanize=e,this._setAll("humanize",e)}get loop(){return this._loop}set loop(e){this._loop=e,this._forEach(n=>{n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.loop=e,this._testLoopBoundries(n)})}get loopEnd(){return new We(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._forEach(n=>{n.loopEnd=e,this._testLoopBoundries(n)})}get loopStart(){return new We(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._forEach(n=>{n.loopStart=this.loopStart,this._testLoopBoundries(n)})}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._setAll("playbackRate",e)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}class bc extends Y{constructor(){const e=q(bc.getDefaults(),arguments,["fade"]);super(e),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new AI({context:this.context}),this.a=new oe({context:this.context,gain:0}),this.b=new oe({context:this.context,gain:0}),this.output=new oe({context:this.context}),this._internalChannels=[this.a,this.b],this.fade=new Ne({context:this.context,units:"normalRange",value:e.fade}),ae(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",an(this._split,this.a.gain,0),an(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(Y.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class Nl extends Y{constructor(e){super(e),this.name="Effect",this._dryWet=new bc({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new oe({context:this.context}),this.effectReturn=new oe({context:this.context}),this.input=new oe({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(e.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],ae(this,"wet")}static getDefaults(){return Object.assign(Y.getDefaults(),{wet:1})}connectEffect(e){return this._internalChannels.push(e),this.effectSend.chain(e,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class Rf extends Y{constructor(){const e=q(Rf.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new ue({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",ae(this,"pan")}static getDefaults(){return Object.assign(Y.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const DI="bit-crusher",FI=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;O_(DI,FI);class zo extends Y{constructor(){const e=q(zo.getDefaults(),arguments,["channels"]);super(e),this.name="Split",this._splitter=this.input=this.output=this.context.createChannelSplitter(e.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(Y.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class Wo extends Y{constructor(){const e=q(Wo.getDefaults(),arguments,["channels"]);super(e),this.name="Merge",this._merger=this.output=this.input=this.context.createChannelMerger(e.channels)}static getDefaults(){return Object.assign(Y.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class jm extends Y{constructor(e){super(e),this.name="StereoEffect",this.input=new oe({context:this.context}),this.input.channelCount=2,this.input.channelCountMode="explicit",this._dryWet=this.output=new bc({context:this.context,fade:e.wet}),this.wet=this._dryWet.fade,this._split=new zo({context:this.context,channels:2}),this._merge=new Wo({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),ae(this,["wet"])}connectEffectLeft(...e){this._split.connect(e[0],0,0),ai(...e),an(e[e.length-1],this._merge,0,0)}connectEffectRight(...e){this._split.connect(e[0],1,0),ai(...e),an(e[e.length-1],this._merge,0,1)}static getDefaults(){return Object.assign(Y.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class Um extends jm{constructor(e){super(e),this.feedback=new Ne({context:this.context,value:e.feedback,units:"normalRange"}),this._feedbackL=new oe({context:this.context}),this._feedbackR=new oe({context:this.context}),this._feedbackSplit=new zo({context:this.context,channels:2}),this._feedbackMerge=new Wo({context:this.context,channels:2}),this._merge.connect(this._feedbackSplit),this._feedbackMerge.connect(this._split),this._feedbackSplit.connect(this._feedbackL,0,0),this._feedbackL.connect(this._feedbackMerge,0,0),this._feedbackSplit.connect(this._feedbackR,1,0),this._feedbackR.connect(this._feedbackMerge,0,1),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),ae(this,["feedback"])}static getDefaults(){return Object.assign(jm.getDefaults(),{feedback:.5})}dispose(){return super.dispose(),this.feedback.dispose(),this._feedbackL.dispose(),this._feedbackR.dispose(),this._feedbackSplit.dispose(),this._feedbackMerge.dispose(),this}}class Mf extends Um{constructor(){const e=q(Mf.getDefaults(),arguments,["frequency","delayTime","depth"]);super(e),this.name="Chorus",this._depth=e.depth,this._delayTime=e.delayTime/1e3,this._lfoL=new Cl({context:this.context,frequency:e.frequency,min:0,max:1}),this._lfoR=new Cl({context:this.context,frequency:e.frequency,min:0,max:1,phase:180}),this._delayNodeL=new wo({context:this.context}),this._delayNodeR=new wo({context:this.context}),this.frequency=this._lfoL.frequency,ae(this,["frequency"]),this._lfoL.frequency.connect(this._lfoR.frequency),this.connectEffectLeft(this._delayNodeL),this.connectEffectRight(this._delayNodeR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this.depth=this._depth,this.type=e.type,this.spread=e.spread}static getDefaults(){return Object.assign(Um.getDefaults(),{frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180,feedback:0,wet:.5})}get depth(){return this._depth}set depth(e){this._depth=e;const n=this._delayTime*e;this._lfoL.min=Math.max(this._delayTime-n,0),this._lfoL.max=this._delayTime+n,this._lfoR.min=Math.max(this._delayTime-n,0),this._lfoR.max=this._delayTime+n}get delayTime(){return this._delayTime*1e3}set delayTime(e){this._delayTime=e/1e3,this.depth=this._depth}get type(){return this._lfoL.type}set type(e){this._lfoL.type=e,this._lfoR.type=e}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(e){this._lfoL.phase=90-e/2,this._lfoR.phase=e/2+90}start(e){return this._lfoL.start(e),this._lfoR.start(e),this}stop(e){return this._lfoL.stop(e),this._lfoR.stop(e),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._delayNodeL.dispose(),this._delayNodeR.dispose(),this.frequency.dispose(),this}}class Bm extends Nl{constructor(e){super(e),this.name="FeedbackEffect",this._feedbackGain=new oe({context:this.context,gain:e.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,ae(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(Nl.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class Df extends Bm{constructor(){const e=q(Df.getDefaults(),arguments,["delayTime","feedback"]);super(e),this.name="FeedbackDelay",this._delayNode=new wo({context:this.context,delayTime:e.delayTime,maxDelay:e.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),ae(this,"delayTime")}static getDefaults(){return Object.assign(Bm.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}class Ff extends Nl{constructor(){const e=q(Ff.getDefaults(),arguments,["decay"]);super(e),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve(),this._decay=e.decay,this._preDelay=e.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(Nl.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(e){e=this.toSeconds(e),on(e,.001),this._decay=e,this.generate()}get preDelay(){return this._preDelay}set preDelay(e){e=this.toSeconds(e),on(e,0),this._preDelay=e,this.generate()}generate(){return Ve(this,void 0,void 0,function*(){const e=this.ready,n=new dc(2,this._decay+this._preDelay,this.context.sampleRate),r=new Tl({context:n}),s=new Tl({context:n}),i=new Wo({context:n});r.connect(i,0,0),s.connect(i,0,1);const o=new oe({context:n}).toDestination();i.connect(o),r.start(0),s.start(0),o.gain.setValueAtTime(0,0),o.gain.setValueAtTime(1,this._preDelay),o.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const a=n.render();return this.ready=a.then(ce),yield e,this._convolver.buffer=(yield a).get(),this})}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class Lf extends Y{constructor(){const e=q(Lf.getDefaults(),arguments,["type","size"]);super(e),this.name="Analyser",this._analysers=[],this._buffers=[],this.input=this.output=this._gain=new oe({context:this.context}),this._split=new zo({context:this.context,channels:e.channels}),this.input.connect(this._split),on(e.channels,1);for(let n=0;n<e.channels;n++)this._analysers[n]=this.context.createAnalyser(),this._split.connect(this._analysers[n],n,0);this.size=e.size,this.type=e.type,this.smoothing=e.smoothing}static getDefaults(){return Object.assign(Y.getDefaults(),{size:1024,smoothing:.8,type:"fft",channels:1})}getValue(){return this._analysers.forEach((e,n)=>{const r=this._buffers[n];this._type==="fft"?e.getFloatFrequencyData(r):this._type==="waveform"&&e.getFloatTimeDomainData(r)}),this.channels===1?this._buffers[0]:this._buffers}get size(){return this._analysers[0].frequencyBinCount}set size(e){this._analysers.forEach((n,r)=>{n.fftSize=e*2,this._buffers[r]=new Float32Array(e)})}get channels(){return this._analysers.length}get type(){return this._type}set type(e){X(e==="waveform"||e==="fft",`Analyser: invalid type: ${e}`),this._type=e}get smoothing(){return this._analysers[0].smoothingTimeConstant}set smoothing(e){this._analysers.forEach(n=>n.smoothingTimeConstant=e)}dispose(){return super.dispose(),this._analysers.forEach(e=>e.disconnect()),this._split.dispose(),this._gain.dispose(),this}}class Ue extends Y{constructor(){const e=q(Ue.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new oe({context:this.context}),Ue._allSolos.has(this.context)||Ue._allSolos.set(this.context,new Set),Ue._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(Y.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Ue._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Ue._soloed.has(this.context)||Ue._soloed.set(this.context,new Set),Ue._soloed.get(this.context).add(this)}_removeSolo(){Ue._soloed.has(this.context)&&Ue._soloed.get(this.context).delete(this)}_isSoloed(){return Ue._soloed.has(this.context)&&Ue._soloed.get(this.context).has(this)}_noSolos(){return!Ue._soloed.has(this.context)||Ue._soloed.has(this.context)&&Ue._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Ue._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Ue._allSolos=new Map;Ue._soloed=new Map;class Vf extends Y{constructor(){const e=q(Vf.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new Rf({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Si({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,ae(this,["pan","volume"])}static getDefaults(){return Object.assign(Y.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Vs extends Y{constructor(){const e=q(Vs.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new Ue({solo:e.solo,context:this.context}),this._panVol=this.output=new Vf({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),ae(this,["pan","volume"])}static getDefaults(){return Object.assign(Y.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return Vs.buses.has(e)||Vs.buses.set(e,new oe({context:this.context})),Vs.buses.get(e)}send(e,n=0){const r=this._getBus(e),s=new oe({context:this.context,units:"decibels",gain:n});return this.connect(s),s.connect(r),s}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Vs.buses=new Map;function LI(){return wt().now()}const rr=wt().transport;function Vi(){return wt().transport}const VI=wt().destination;wt().destination;function zm(){return wt().destination}wt().listener;wt().draw;wt();var Al={},Tc={};function jI(t){var e=new gt(t),n=e.readChunk();if(n.id!="MThd")throw"Bad MIDI file.  Expected 'MHdr', got: '"+n.id+"'";for(var r=UI(n.data),s=[],i=0;!e.eof()&&i<r.numTracks;i++){var o=e.readChunk();if(o.id!="MTrk")throw"Bad MIDI file.  Expected 'MTrk', got: '"+o.id+"'";var a=BI(o.data);s.push(a)}return{header:r,tracks:s}}function UI(t){var e=new gt(t),n=e.readUInt16(),r=e.readUInt16(),s={format:n,numTracks:r},i=e.readUInt16();return i&32768?(s.framesPerSecond=256-(i>>8),s.ticksPerFrame=i&255):s.ticksPerBeat=i,s}function BI(t){for(var e=new gt(t),n=[];!e.eof();){var r=i();n.push(r)}return n;var s;function i(){var o={};o.deltaTime=e.readVarInt();var a=e.readUInt8();if((a&240)===240)if(a===255){o.meta=!0;var l=e.readUInt8(),c=e.readVarInt();switch(l){case 0:if(o.type="sequenceNumber",c!==2)throw"Expected length for sequenceNumber event is 2, got "+c;return o.number=e.readUInt16(),o;case 1:return o.type="text",o.text=e.readString(c),o;case 2:return o.type="copyrightNotice",o.text=e.readString(c),o;case 3:return o.type="trackName",o.text=e.readString(c),o;case 4:return o.type="instrumentName",o.text=e.readString(c),o;case 5:return o.type="lyrics",o.text=e.readString(c),o;case 6:return o.type="marker",o.text=e.readString(c),o;case 7:return o.type="cuePoint",o.text=e.readString(c),o;case 32:if(o.type="channelPrefix",c!=1)throw"Expected length for channelPrefix event is 1, got "+c;return o.channel=e.readUInt8(),o;case 33:if(o.type="portPrefix",c!=1)throw"Expected length for portPrefix event is 1, got "+c;return o.port=e.readUInt8(),o;case 47:if(o.type="endOfTrack",c!=0)throw"Expected length for endOfTrack event is 0, got "+c;return o;case 81:if(o.type="setTempo",c!=3)throw"Expected length for setTempo event is 3, got "+c;return o.microsecondsPerBeat=e.readUInt24(),o;case 84:if(o.type="smpteOffset",c!=5)throw"Expected length for smpteOffset event is 5, got "+c;var d=e.readUInt8(),u={0:24,32:25,64:29,96:30};return o.frameRate=u[d&96],o.hour=d&31,o.min=e.readUInt8(),o.sec=e.readUInt8(),o.frame=e.readUInt8(),o.subFrame=e.readUInt8(),o;case 88:if(o.type="timeSignature",c!=2&&c!=4)throw"Expected length for timeSignature event is 4 or 2, got "+c;return o.numerator=e.readUInt8(),o.denominator=1<<e.readUInt8(),c===4?(o.metronome=e.readUInt8(),o.thirtyseconds=e.readUInt8()):(o.metronome=36,o.thirtyseconds=8),o;case 89:if(o.type="keySignature",c!=2)throw"Expected length for keySignature event is 2, got "+c;return o.key=e.readInt8(),o.scale=e.readUInt8(),o;case 127:return o.type="sequencerSpecific",o.data=e.readBytes(c),o;default:return o.type="unknownMeta",o.data=e.readBytes(c),o.metatypeByte=l,o}}else if(a==240){o.type="sysEx";var c=e.readVarInt();return o.data=e.readBytes(c),o}else if(a==247){o.type="endSysEx";var c=e.readVarInt();return o.data=e.readBytes(c),o}else throw"Unrecognised MIDI event type byte: "+a;else{var h;if(a&128)h=e.readUInt8(),s=a;else{if(s===null)throw"Running status byte encountered before status byte";h=a,a=s,o.running=!0}var p=a>>4;switch(o.channel=a&15,p){case 8:return o.type="noteOff",o.noteNumber=h,o.velocity=e.readUInt8(),o;case 9:var m=e.readUInt8();return o.type=m===0?"noteOff":"noteOn",o.noteNumber=h,o.velocity=m,m===0&&(o.byte9=!0),o;case 10:return o.type="noteAftertouch",o.noteNumber=h,o.amount=e.readUInt8(),o;case 11:return o.type="controller",o.controllerType=h,o.value=e.readUInt8(),o;case 12:return o.type="programChange",o.programNumber=h,o;case 13:return o.type="channelAftertouch",o.amount=h,o;case 14:return o.type="pitchBend",o.value=h+(e.readUInt8()<<7)-8192,o;default:throw"Unrecognised MIDI event type: "+p}}}}function gt(t){this.buffer=t,this.bufferLen=this.buffer.length,this.pos=0}gt.prototype.eof=function(){return this.pos>=this.bufferLen};gt.prototype.readUInt8=function(){var t=this.buffer[this.pos];return this.pos+=1,t};gt.prototype.readInt8=function(){var t=this.readUInt8();return t&128?t-256:t};gt.prototype.readUInt16=function(){var t=this.readUInt8(),e=this.readUInt8();return(t<<8)+e};gt.prototype.readInt16=function(){var t=this.readUInt16();return t&32768?t-65536:t};gt.prototype.readUInt24=function(){var t=this.readUInt8(),e=this.readUInt8(),n=this.readUInt8();return(t<<16)+(e<<8)+n};gt.prototype.readInt24=function(){var t=this.readUInt24();return t&8388608?t-16777216:t};gt.prototype.readUInt32=function(){var t=this.readUInt8(),e=this.readUInt8(),n=this.readUInt8(),r=this.readUInt8();return(t<<24)+(e<<16)+(n<<8)+r};gt.prototype.readBytes=function(t){var e=this.buffer.slice(this.pos,this.pos+t);return this.pos+=t,e};gt.prototype.readString=function(t){var e=this.readBytes(t);return String.fromCharCode.apply(null,e)};gt.prototype.readVarInt=function(){for(var t=0;!this.eof();){var e=this.readUInt8();if(e&128)t+=e&127,t<<=7;else return t+e}return t};gt.prototype.readChunk=function(){var t=this.readString(4),e=this.readUInt32(),n=this.readBytes(e);return{id:t,length:e,data:n}};var zI=jI;function WI(t,e){if(typeof t!="object")throw"Invalid MIDI data";e=e||{};var n=t.header||{},r=t.tracks||[],s,i=r.length,o=new He;for($I(o,n,i),s=0;s<i;s++)qI(o,r[s],e);return o.buffer}function $I(t,e,n){var r=e.format==null?1:e.format,s=128;e.timeDivision?s=e.timeDivision:e.ticksPerFrame&&e.framesPerSecond?s=-(e.framesPerSecond&255)<<8|e.ticksPerFrame&255:e.ticksPerBeat&&(s=e.ticksPerBeat&32767);var i=new He;i.writeUInt16(r),i.writeUInt16(n),i.writeUInt16(s),t.writeChunk("MThd",i.buffer)}function qI(t,e,n){var r=new He,s,i=e.length,o=null;for(s=0;s<i;s++)(n.running===!1||!n.running&&!e[s].running)&&(o=null),o=HI(r,e[s],o,n.useByte9ForNoteOff);t.writeChunk("MTrk",r.buffer)}function HI(t,e,n,r){var s=e.type,i=e.deltaTime,o=e.text||"",a=e.data||[],l=null;switch(t.writeVarInt(i),s){case"sequenceNumber":t.writeUInt8(255),t.writeUInt8(0),t.writeVarInt(2),t.writeUInt16(e.number);break;case"text":t.writeUInt8(255),t.writeUInt8(1),t.writeVarInt(o.length),t.writeString(o);break;case"copyrightNotice":t.writeUInt8(255),t.writeUInt8(2),t.writeVarInt(o.length),t.writeString(o);break;case"trackName":t.writeUInt8(255),t.writeUInt8(3),t.writeVarInt(o.length),t.writeString(o);break;case"instrumentName":t.writeUInt8(255),t.writeUInt8(4),t.writeVarInt(o.length),t.writeString(o);break;case"lyrics":t.writeUInt8(255),t.writeUInt8(5),t.writeVarInt(o.length),t.writeString(o);break;case"marker":t.writeUInt8(255),t.writeUInt8(6),t.writeVarInt(o.length),t.writeString(o);break;case"cuePoint":t.writeUInt8(255),t.writeUInt8(7),t.writeVarInt(o.length),t.writeString(o);break;case"channelPrefix":t.writeUInt8(255),t.writeUInt8(32),t.writeVarInt(1),t.writeUInt8(e.channel);break;case"portPrefix":t.writeUInt8(255),t.writeUInt8(33),t.writeVarInt(1),t.writeUInt8(e.port);break;case"endOfTrack":t.writeUInt8(255),t.writeUInt8(47),t.writeVarInt(0);break;case"setTempo":t.writeUInt8(255),t.writeUInt8(81),t.writeVarInt(3),t.writeUInt24(e.microsecondsPerBeat);break;case"smpteOffset":t.writeUInt8(255),t.writeUInt8(84),t.writeVarInt(5);var c={24:0,25:32,29:64,30:96},d=e.hour&31|c[e.frameRate];t.writeUInt8(d),t.writeUInt8(e.min),t.writeUInt8(e.sec),t.writeUInt8(e.frame),t.writeUInt8(e.subFrame);break;case"timeSignature":t.writeUInt8(255),t.writeUInt8(88),t.writeVarInt(4),t.writeUInt8(e.numerator);var u=Math.floor(Math.log(e.denominator)/Math.LN2)&255;t.writeUInt8(u),t.writeUInt8(e.metronome),t.writeUInt8(e.thirtyseconds||8);break;case"keySignature":t.writeUInt8(255),t.writeUInt8(89),t.writeVarInt(2),t.writeInt8(e.key),t.writeUInt8(e.scale);break;case"sequencerSpecific":t.writeUInt8(255),t.writeUInt8(127),t.writeVarInt(a.length),t.writeBytes(a);break;case"unknownMeta":e.metatypeByte!=null&&(t.writeUInt8(255),t.writeUInt8(e.metatypeByte),t.writeVarInt(a.length),t.writeBytes(a));break;case"sysEx":t.writeUInt8(240),t.writeVarInt(a.length),t.writeBytes(a);break;case"endSysEx":t.writeUInt8(247),t.writeVarInt(a.length),t.writeBytes(a);break;case"noteOff":var h=r!==!1&&e.byte9||r&&e.velocity==0?144:128;l=h|e.channel,l!==n&&t.writeUInt8(l),t.writeUInt8(e.noteNumber),t.writeUInt8(e.velocity);break;case"noteOn":l=144|e.channel,l!==n&&t.writeUInt8(l),t.writeUInt8(e.noteNumber),t.writeUInt8(e.velocity);break;case"noteAftertouch":l=160|e.channel,l!==n&&t.writeUInt8(l),t.writeUInt8(e.noteNumber),t.writeUInt8(e.amount);break;case"controller":l=176|e.channel,l!==n&&t.writeUInt8(l),t.writeUInt8(e.controllerType),t.writeUInt8(e.value);break;case"programChange":l=192|e.channel,l!==n&&t.writeUInt8(l),t.writeUInt8(e.programNumber);break;case"channelAftertouch":l=208|e.channel,l!==n&&t.writeUInt8(l),t.writeUInt8(e.amount);break;case"pitchBend":l=224|e.channel,l!==n&&t.writeUInt8(l);var p=8192+e.value,m=p&127,f=p>>7&127;t.writeUInt8(m),t.writeUInt8(f);break;default:throw"Unrecognized event type: "+s}return l}function He(){this.buffer=[]}He.prototype.writeUInt8=function(t){this.buffer.push(t&255)};He.prototype.writeInt8=He.prototype.writeUInt8;He.prototype.writeUInt16=function(t){var e=t>>8&255,n=t&255;this.writeUInt8(e),this.writeUInt8(n)};He.prototype.writeInt16=He.prototype.writeUInt16;He.prototype.writeUInt24=function(t){var e=t>>16&255,n=t>>8&255,r=t&255;this.writeUInt8(e),this.writeUInt8(n),this.writeUInt8(r)};He.prototype.writeInt24=He.prototype.writeUInt24;He.prototype.writeUInt32=function(t){var e=t>>24&255,n=t>>16&255,r=t>>8&255,s=t&255;this.writeUInt8(e),this.writeUInt8(n),this.writeUInt8(r),this.writeUInt8(s)};He.prototype.writeInt32=He.prototype.writeUInt32;He.prototype.writeBytes=function(t){this.buffer=this.buffer.concat(Array.prototype.slice.call(t,0))};He.prototype.writeString=function(t){var e,n=t.length,r=[];for(e=0;e<n;e++)r.push(t.codePointAt(e));this.writeBytes(r)};He.prototype.writeVarInt=function(t){if(t<0)throw"Cannot write negative variable-length integer";if(t<=127)this.writeUInt8(t);else{var e=t,n=[];for(n.push(e&127),e>>=7;e;){var r=e&127|128;n.push(r),e>>=7}this.writeBytes(n.reverse())}};He.prototype.writeChunk=function(t,e){this.writeString(t),this.writeUInt32(e.length),this.writeBytes(e)};var GI=WI;Tc.parseMidi=zI;Tc.writeMidi=GI;var Il={},os={};Object.defineProperty(os,"__esModule",{value:!0});os.insert=os.search=void 0;function P_(t,e,n){n===void 0&&(n="ticks");var r=0,s=t.length,i=s;if(s>0&&t[s-1][n]<=e)return s-1;for(;r<i;){var o=Math.floor(r+(i-r)/2),a=t[o],l=t[o+1];if(a[n]===e){for(var c=o;c<t.length;c++){var d=t[c];d[n]===e&&(o=c)}return o}else{if(a[n]<e&&l[n]>e)return o;a[n]>e?i=o:a[n]<e&&(r=o+1)}}return-1}os.search=P_;function YI(t,e,n){if(n===void 0&&(n="ticks"),t.length){var r=P_(t,e[n],n);t.splice(r+1,0,e)}else t.push(e)}os.insert=YI;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Header=t.keySignatureKeys=void 0;var e=os,n=new WeakMap;t.keySignatureKeys=["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"];var r=function(){function s(i){var o=this;if(this.tempos=[],this.timeSignatures=[],this.keySignatures=[],this.meta=[],this.name="",n.set(this,480),i){n.set(this,i.header.ticksPerBeat),i.tracks.forEach(function(l){l.forEach(function(c){c.meta&&(c.type==="timeSignature"?o.timeSignatures.push({ticks:c.absoluteTime,timeSignature:[c.numerator,c.denominator]}):c.type==="setTempo"?o.tempos.push({bpm:6e7/c.microsecondsPerBeat,ticks:c.absoluteTime}):c.type==="keySignature"&&o.keySignatures.push({key:t.keySignatureKeys[c.key+7],scale:c.scale===0?"major":"minor",ticks:c.absoluteTime}))})});var a=0;i.tracks[0].forEach(function(l){a+=l.deltaTime,l.meta&&(l.type==="trackName"?o.name=l.text:(l.type==="text"||l.type==="cuePoint"||l.type==="marker"||l.type==="lyrics")&&o.meta.push({text:l.text,ticks:a,type:l.type}))}),this.update()}}return s.prototype.update=function(){var i=this,o=0,a=0;this.tempos.sort(function(l,c){return l.ticks-c.ticks}),this.tempos.forEach(function(l,c){var d=c>0?i.tempos[c-1].bpm:i.tempos[0].bpm,u=l.ticks/i.ppq-a,h=60/d*u;l.time=h+o,o=l.time,a+=u}),this.timeSignatures.sort(function(l,c){return l.ticks-c.ticks}),this.timeSignatures.forEach(function(l,c){var d=c>0?i.timeSignatures[c-1]:i.timeSignatures[0],u=(l.ticks-d.ticks)/i.ppq,h=u/d.timeSignature[0]/(d.timeSignature[1]/4);d.measures=d.measures||0,l.measures=h+d.measures})},s.prototype.ticksToSeconds=function(i){var o=(0,e.search)(this.tempos,i);if(o!==-1){var a=this.tempos[o],l=a.time,c=(i-a.ticks)/this.ppq;return l+60/a.bpm*c}else{var d=i/this.ppq;return 60/120*d}},s.prototype.ticksToMeasures=function(i){var o=(0,e.search)(this.timeSignatures,i);if(o!==-1){var a=this.timeSignatures[o],l=(i-a.ticks)/this.ppq;return a.measures+l/(a.timeSignature[0]/a.timeSignature[1])/4}else return i/this.ppq/4},Object.defineProperty(s.prototype,"ppq",{get:function(){return n.get(this)},enumerable:!1,configurable:!0}),s.prototype.secondsToTicks=function(i){var o=(0,e.search)(this.tempos,i,"time");if(o!==-1){var a=this.tempos[o],l=a.time,c=i-l,d=c/(60/a.bpm);return Math.round(a.ticks+d*this.ppq)}else{var u=i/.5;return Math.round(u*this.ppq)}},s.prototype.toJSON=function(){return{keySignatures:this.keySignatures,meta:this.meta,name:this.name,ppq:this.ppq,tempos:this.tempos.map(function(i){return{bpm:i.bpm,ticks:i.ticks}}),timeSignatures:this.timeSignatures}},s.prototype.fromJSON=function(i){this.name=i.name,this.tempos=i.tempos.map(function(o){return Object.assign({},o)}),this.timeSignatures=i.timeSignatures.map(function(o){return Object.assign({},o)}),this.keySignatures=i.keySignatures.map(function(o){return Object.assign({},o)}),this.meta=i.meta.map(function(o){return Object.assign({},o)}),n.set(this,i.ppq),this.update()},s.prototype.setTempo=function(i){this.tempos=[{bpm:i,ticks:0}],this.update()},s}();t.Header=r})(Il);var xo={},jf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ControlChange=t.controlChangeIds=t.controlChangeNames=void 0,t.controlChangeNames={1:"modulationWheel",2:"breath",4:"footController",5:"portamentoTime",7:"volume",8:"balance",10:"pan",64:"sustain",65:"portamentoTime",66:"sostenuto",67:"softPedal",68:"legatoFootswitch",84:"portamentoControl"},t.controlChangeIds=Object.keys(t.controlChangeNames).reduce(function(s,i){return s[t.controlChangeNames[i]]=i,s},{});var e=new WeakMap,n=new WeakMap,r=function(){function s(i,o){e.set(this,o),n.set(this,i.controllerType),this.ticks=i.absoluteTime,this.value=i.value}return Object.defineProperty(s.prototype,"number",{get:function(){return n.get(this)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"name",{get:function(){return t.controlChangeNames[this.number]?t.controlChangeNames[this.number]:null},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"time",{get:function(){var i=e.get(this);return i.ticksToSeconds(this.ticks)},set:function(i){var o=e.get(this);this.ticks=o.secondsToTicks(i)},enumerable:!1,configurable:!0}),s.prototype.toJSON=function(){return{number:this.number,ticks:this.ticks,time:this.time,value:this.value}},s}();t.ControlChange=r})(jf);var kc={};Object.defineProperty(kc,"__esModule",{value:!0});kc.createControlChanges=void 0;var fa=jf;function XI(){return new Proxy({},{get:function(t,e){if(t[e])return t[e];if(fa.controlChangeIds.hasOwnProperty(e))return t[fa.controlChangeIds[e]]},set:function(t,e,n){return fa.controlChangeIds.hasOwnProperty(e)?t[fa.controlChangeIds[e]]=n:t[e]=n,!0}})}kc.createControlChanges=XI;var Cc={};Object.defineProperty(Cc,"__esModule",{value:!0});Cc.PitchBend=void 0;var pu=new WeakMap,KI=function(){function t(e,n){pu.set(this,n),this.ticks=e.absoluteTime,this.value=e.value}return Object.defineProperty(t.prototype,"time",{get:function(){var e=pu.get(this);return e.ticksToSeconds(this.ticks)},set:function(e){var n=pu.get(this);this.ticks=n.secondsToTicks(e)},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return{ticks:this.ticks,time:this.time,value:this.value}},t}();Cc.PitchBend=KI;var Ec={},br={};Object.defineProperty(br,"__esModule",{value:!0});br.DrumKitByPatchID=br.InstrumentFamilyByID=br.instrumentByPatchID=void 0;br.instrumentByPatchID=["acoustic grand piano","bright acoustic piano","electric grand piano","honky-tonk piano","electric piano 1","electric piano 2","harpsichord","clavi","celesta","glockenspiel","music box","vibraphone","marimba","xylophone","tubular bells","dulcimer","drawbar organ","percussive organ","rock organ","church organ","reed organ","accordion","harmonica","tango accordion","acoustic guitar (nylon)","acoustic guitar (steel)","electric guitar (jazz)","electric guitar (clean)","electric guitar (muted)","overdriven guitar","distortion guitar","guitar harmonics","acoustic bass","electric bass (finger)","electric bass (pick)","fretless bass","slap bass 1","slap bass 2","synth bass 1","synth bass 2","violin","viola","cello","contrabass","tremolo strings","pizzicato strings","orchestral harp","timpani","string ensemble 1","string ensemble 2","synthstrings 1","synthstrings 2","choir aahs","voice oohs","synth voice","orchestra hit","trumpet","trombone","tuba","muted trumpet","french horn","brass section","synthbrass 1","synthbrass 2","soprano sax","alto sax","tenor sax","baritone sax","oboe","english horn","bassoon","clarinet","piccolo","flute","recorder","pan flute","blown bottle","shakuhachi","whistle","ocarina","lead 1 (square)","lead 2 (sawtooth)","lead 3 (calliope)","lead 4 (chiff)","lead 5 (charang)","lead 6 (voice)","lead 7 (fifths)","lead 8 (bass + lead)","pad 1 (new age)","pad 2 (warm)","pad 3 (polysynth)","pad 4 (choir)","pad 5 (bowed)","pad 6 (metallic)","pad 7 (halo)","pad 8 (sweep)","fx 1 (rain)","fx 2 (soundtrack)","fx 3 (crystal)","fx 4 (atmosphere)","fx 5 (brightness)","fx 6 (goblins)","fx 7 (echoes)","fx 8 (sci-fi)","sitar","banjo","shamisen","koto","kalimba","bag pipe","fiddle","shanai","tinkle bell","agogo","steel drums","woodblock","taiko drum","melodic tom","synth drum","reverse cymbal","guitar fret noise","breath noise","seashore","bird tweet","telephone ring","helicopter","applause","gunshot"];br.InstrumentFamilyByID=["piano","chromatic percussion","organ","guitar","bass","strings","ensemble","brass","reed","pipe","synth lead","synth pad","synth effects","world","percussive","sound effects"];br.DrumKitByPatchID={0:"standard kit",8:"room kit",16:"power kit",24:"electronic kit",25:"tr-808 kit",32:"jazz kit",40:"brush kit",48:"orchestra kit",56:"sound fx kit"};Object.defineProperty(Ec,"__esModule",{value:!0});Ec.Instrument=void 0;var pa=br,Wm=new WeakMap,QI=function(){function t(e,n){if(this.number=0,Wm.set(this,n),this.number=0,e){var r=e.find(function(s){return s.type==="programChange"});r&&(this.number=r.programNumber)}}return Object.defineProperty(t.prototype,"name",{get:function(){return this.percussion?pa.DrumKitByPatchID[this.number]:pa.instrumentByPatchID[this.number]},set:function(e){var n=pa.instrumentByPatchID.indexOf(e);n!==-1&&(this.number=n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"family",{get:function(){return this.percussion?"drums":pa.InstrumentFamilyByID[Math.floor(this.number/8)]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"percussion",{get:function(){var e=Wm.get(this);return e.channel===9},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return{family:this.family,number:this.number,name:this.name}},t.prototype.fromJSON=function(e){this.number=e.number},t}();Ec.Instrument=QI;var Nc={};Object.defineProperty(Nc,"__esModule",{value:!0});Nc.Note=void 0;function ZI(t){var e=Math.floor(t/12)-1;return R_(t)+e.toString()}function R_(t){var e=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],n=t%12;return e[n]}function JI(t){var e=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return e.indexOf(t)}var eO=function(){var t=/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,e={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13};return function(n){var r=t.exec(n),s=r[1],i=r[2],o=e[s.toLowerCase()];return o+(parseInt(i,10)+1)*12}}(),vs=new WeakMap,tO=function(){function t(e,n,r){vs.set(this,r),this.midi=e.midi,this.velocity=e.velocity,this.noteOffVelocity=n.velocity,this.ticks=e.ticks,this.durationTicks=n.ticks-e.ticks}return Object.defineProperty(t.prototype,"name",{get:function(){return ZI(this.midi)},set:function(e){this.midi=eO(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"octave",{get:function(){return Math.floor(this.midi/12)-1},set:function(e){var n=e-this.octave;this.midi+=n*12},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pitch",{get:function(){return R_(this.midi)},set:function(e){this.midi=12*(this.octave+1)+JI(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){var e=vs.get(this);return e.ticksToSeconds(this.ticks+this.durationTicks)-e.ticksToSeconds(this.ticks)},set:function(e){var n=vs.get(this),r=n.secondsToTicks(this.time+e);this.durationTicks=r-this.ticks},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"time",{get:function(){var e=vs.get(this);return e.ticksToSeconds(this.ticks)},set:function(e){var n=vs.get(this);this.ticks=n.secondsToTicks(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bars",{get:function(){var e=vs.get(this);return e.ticksToMeasures(this.ticks)},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return{duration:this.duration,durationTicks:this.durationTicks,midi:this.midi,name:this.name,ticks:this.ticks,time:this.time,velocity:this.velocity}},t}();Nc.Note=tO;Object.defineProperty(xo,"__esModule",{value:!0});xo.Track=void 0;var mu=os,nO=jf,rO=kc,sO=Cc,$m=Ec,iO=Nc,ma=new WeakMap,oO=function(){function t(e,n){var r=this;if(this.name="",this.notes=[],this.controlChanges=(0,rO.createControlChanges)(),this.pitchBends=[],ma.set(this,n),e){var s=e.find(function(h){return h.type==="trackName"});this.name=s?s.text:""}if(this.instrument=new $m.Instrument(e,this),this.channel=0,e){for(var i=e.filter(function(h){return h.type==="noteOn"}),o=e.filter(function(h){return h.type==="noteOff"}),a=function(){var h=i.shift();l.channel=h.channel;var p=o.findIndex(function(f){return f.noteNumber===h.noteNumber&&f.absoluteTime>=h.absoluteTime});if(p!==-1){var m=o.splice(p,1)[0];l.addNote({durationTicks:m.absoluteTime-h.absoluteTime,midi:h.noteNumber,noteOffVelocity:m.velocity/127,ticks:h.absoluteTime,velocity:h.velocity/127})}},l=this;i.length;)a();var c=e.filter(function(h){return h.type==="controller"});c.forEach(function(h){r.addCC({number:h.controllerType,ticks:h.absoluteTime,value:h.value/127})});var d=e.filter(function(h){return h.type==="pitchBend"});d.forEach(function(h){r.addPitchBend({ticks:h.absoluteTime,value:h.value/Math.pow(2,13)})});var u=e.find(function(h){return h.type==="endOfTrack"});this.endOfTrackTicks=u!==void 0?u.absoluteTime:void 0}}return t.prototype.addNote=function(e){var n=ma.get(this),r=new iO.Note({midi:0,ticks:0,velocity:1},{ticks:0,velocity:0},n);return Object.assign(r,e),(0,mu.insert)(this.notes,r,"ticks"),this},t.prototype.addCC=function(e){var n=ma.get(this),r=new nO.ControlChange({controllerType:e.number},n);return delete e.number,Object.assign(r,e),Array.isArray(this.controlChanges[r.number])||(this.controlChanges[r.number]=[]),(0,mu.insert)(this.controlChanges[r.number],r,"ticks"),this},t.prototype.addPitchBend=function(e){var n=ma.get(this),r=new sO.PitchBend({},n);return Object.assign(r,e),(0,mu.insert)(this.pitchBends,r,"ticks"),this},Object.defineProperty(t.prototype,"duration",{get:function(){if(!this.notes.length)return 0;for(var e=this.notes[this.notes.length-1].time+this.notes[this.notes.length-1].duration,n=0;n<this.notes.length-1;n++){var r=this.notes[n].time+this.notes[n].duration;e<r&&(e=r)}return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"durationTicks",{get:function(){if(!this.notes.length)return 0;for(var e=this.notes[this.notes.length-1].ticks+this.notes[this.notes.length-1].durationTicks,n=0;n<this.notes.length-1;n++){var r=this.notes[n].ticks+this.notes[n].durationTicks;e<r&&(e=r)}return e},enumerable:!1,configurable:!0}),t.prototype.fromJSON=function(e){var n=this;this.name=e.name,this.channel=e.channel,this.instrument=new $m.Instrument(void 0,this),this.instrument.fromJSON(e.instrument),e.endOfTrackTicks!==void 0&&(this.endOfTrackTicks=e.endOfTrackTicks);for(var r in e.controlChanges)e.controlChanges[r]&&e.controlChanges[r].forEach(function(s){n.addCC({number:s.number,ticks:s.ticks,value:s.value})});e.notes.forEach(function(s){n.addNote({durationTicks:s.durationTicks,midi:s.midi,ticks:s.ticks,velocity:s.velocity})})},t.prototype.toJSON=function(){for(var e={},n=0;n<127;n++)this.controlChanges.hasOwnProperty(n)&&(e[n]=this.controlChanges[n].map(function(s){return s.toJSON()}));var r={channel:this.channel,controlChanges:e,pitchBends:this.pitchBends.map(function(s){return s.toJSON()}),instrument:this.instrument.toJSON(),name:this.name,notes:this.notes.map(function(s){return s.toJSON()})};return this.endOfTrackTicks!==void 0&&(r.endOfTrackTicks=this.endOfTrackTicks),r},t}();xo.Track=oO;var Ac={};function aO(t){var e=[];return M_(t,e),e}function M_(t,e){for(var n=0;n<t.length;n++){var r=t[n];Array.isArray(r)?M_(r,e):e.push(r)}}const lO=Object.freeze(Object.defineProperty({__proto__:null,flatten:aO},Symbol.toStringTag,{value:"Module"})),cO=gg(lO);var tr=bs&&bs.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))};Object.defineProperty(Ac,"__esModule",{value:!0});Ac.encode=void 0;var uO=Tc,dO=Il,hO=cO;function fO(t,e){return[{absoluteTime:t.ticks,channel:e,deltaTime:0,noteNumber:t.midi,type:"noteOn",velocity:Math.floor(t.velocity*127)},{absoluteTime:t.ticks+t.durationTicks,channel:e,deltaTime:0,noteNumber:t.midi,type:"noteOff",velocity:Math.floor(t.noteOffVelocity*127)}]}function pO(t){return(0,hO.flatten)(t.notes.map(function(e){return fO(e,t.channel)}))}function mO(t,e){return{absoluteTime:t.ticks,channel:e,controllerType:t.number,deltaTime:0,type:"controller",value:Math.floor(t.value*127)}}function gO(t){for(var e=[],n=0;n<127;n++)t.controlChanges.hasOwnProperty(n)&&t.controlChanges[n].forEach(function(r){e.push(mO(r,t.channel))});return e}function vO(t,e){return{absoluteTime:t.ticks,channel:e,deltaTime:0,type:"pitchBend",value:t.value}}function yO(t){var e=[];return t.pitchBends.forEach(function(n){e.push(vO(n,t.channel))}),e}function _O(t){return{absoluteTime:0,channel:t.channel,deltaTime:0,programNumber:t.instrument.number,type:"programChange"}}function wO(t){return{absoluteTime:0,deltaTime:0,meta:!0,text:t,type:"trackName"}}function xO(t){return{absoluteTime:t.ticks,deltaTime:0,meta:!0,microsecondsPerBeat:Math.floor(6e7/t.bpm),type:"setTempo"}}function SO(t){return{absoluteTime:t.ticks,deltaTime:0,denominator:t.timeSignature[1],meta:!0,metronome:24,numerator:t.timeSignature[0],thirtyseconds:8,type:"timeSignature"}}function bO(t){var e=dO.keySignatureKeys.indexOf(t.key);return{absoluteTime:t.ticks,deltaTime:0,key:e+7,meta:!0,scale:t.scale==="major"?0:1,type:"keySignature"}}function TO(t){return{absoluteTime:t.ticks,deltaTime:0,meta:!0,text:t.text,type:t.type}}function kO(t){var e={header:{format:1,numTracks:t.tracks.length+1,ticksPerBeat:t.header.ppq},tracks:tr([tr(tr(tr(tr([{absoluteTime:0,deltaTime:0,meta:!0,text:t.header.name,type:"trackName"}],t.header.keySignatures.map(function(n){return bO(n)}),!0),t.header.meta.map(function(n){return TO(n)}),!0),t.header.tempos.map(function(n){return xO(n)}),!0),t.header.timeSignatures.map(function(n){return SO(n)}),!0)],t.tracks.map(function(n){return tr(tr(tr([wO(n.name),_O(n)],pO(n),!0),gO(n),!0),yO(n),!0)}),!0)};return e.tracks=e.tracks.map(function(n){n=n.sort(function(s,i){return s.absoluteTime-i.absoluteTime});var r=0;return n.forEach(function(s){s.deltaTime=s.absoluteTime-r,r=s.absoluteTime,delete s.absoluteTime}),n.push({deltaTime:0,meta:!0,type:"endOfTrack"}),n}),new Uint8Array((0,uO.writeMidi)(e))}Ac.encode=kO;(function(t){var e=bs&&bs.__awaiter||function(u,h,p,m){function f(y){return y instanceof p?y:new p(function(g){g(y)})}return new(p||(p=Promise))(function(y,g){function v(w){try{x(m.next(w))}catch(k){g(k)}}function _(w){try{x(m.throw(w))}catch(k){g(k)}}function x(w){w.done?y(w.value):f(w.value).then(v,_)}x((m=m.apply(u,h||[])).next())})},n=bs&&bs.__generator||function(u,h){var p={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},m,f,y,g;return g={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function v(x){return function(w){return _([x,w])}}function _(x){if(m)throw new TypeError("Generator is already executing.");for(;p;)try{if(m=1,f&&(y=x[0]&2?f.return:x[0]?f.throw||((y=f.return)&&y.call(f),0):f.next)&&!(y=y.call(f,x[1])).done)return y;switch(f=0,y&&(x=[x[0]&2,y.value]),x[0]){case 0:case 1:y=x;break;case 4:return p.label++,{value:x[1],done:!1};case 5:p.label++,f=x[1],x=[0];continue;case 7:x=p.ops.pop(),p.trys.pop();continue;default:if(y=p.trys,!(y=y.length>0&&y[y.length-1])&&(x[0]===6||x[0]===2)){p=0;continue}if(x[0]===3&&(!y||x[1]>y[0]&&x[1]<y[3])){p.label=x[1];break}if(x[0]===6&&p.label<y[1]){p.label=y[1],y=x;break}if(y&&p.label<y[2]){p.label=y[2],p.ops.push(x);break}y[2]&&p.ops.pop(),p.trys.pop();continue}x=h.call(u,p)}catch(w){x=[6,w],f=0}finally{m=y=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Header=t.Track=t.Midi=void 0;var r=Tc,s=Il,i=xo,o=Ac,a=function(){function u(h){var p=this,m=null;if(h){var f=h instanceof ArrayBuffer?new Uint8Array(h):h;m=(0,r.parseMidi)(f),m.tracks.forEach(function(y){var g=0;y.forEach(function(v){g+=v.deltaTime,v.absoluteTime=g})}),m.tracks=d(m.tracks)}this.header=new s.Header(m),this.tracks=[],h&&(this.tracks=m.tracks.map(function(y){return new i.Track(y,p.header)}),m.header.format===1&&this.tracks[0].duration===0&&this.tracks.shift())}return u.fromUrl=function(h){return e(this,void 0,void 0,function(){var p,m;return n(this,function(f){switch(f.label){case 0:return[4,fetch(h)];case 1:return p=f.sent(),p.ok?[4,p.arrayBuffer()]:[3,3];case 2:return m=f.sent(),[2,new u(m)];case 3:throw new Error("Could not load '".concat(h,"'"))}})})},Object.defineProperty(u.prototype,"name",{get:function(){return this.header.name},set:function(h){this.header.name=h},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"duration",{get:function(){var h=this.tracks.map(function(p){return p.duration});return Math.max.apply(Math,h)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"durationTicks",{get:function(){var h=this.tracks.map(function(p){return p.durationTicks});return Math.max.apply(Math,h)},enumerable:!1,configurable:!0}),u.prototype.addTrack=function(){var h=new i.Track(void 0,this.header);return this.tracks.push(h),h},u.prototype.toArray=function(){return(0,o.encode)(this)},u.prototype.toJSON=function(){return{header:this.header.toJSON(),tracks:this.tracks.map(function(h){return h.toJSON()})}},u.prototype.fromJSON=function(h){var p=this;this.header=new s.Header,this.header.fromJSON(h.header),this.tracks=h.tracks.map(function(m){var f=new i.Track(void 0,p.header);return f.fromJSON(m),f})},u.prototype.clone=function(){var h=new u;return h.fromJSON(this.toJSON()),h},u}();t.Midi=a;var l=xo;Object.defineProperty(t,"Track",{enumerable:!0,get:function(){return l.Track}});var c=Il;Object.defineProperty(t,"Header",{enumerable:!0,get:function(){return c.Header}});function d(u){for(var h=[],p=0;p<u.length;p++)for(var m=h.length,f=new Map,y=Array(16).fill(0),g=0,v=u[p];g<v.length;g++){var _=v[g],x=m,w=_.channel;if(w!==void 0){_.type==="programChange"&&(y[w]=_.programNumber);var k=y[w],b="".concat(k," ").concat(w);f.has(b)?x=f.get(b):(x=m+f.size,f.set(b,x))}h[x]||h.push([]),h[x].push(_)}return h}})(Al);const qm=16;function CO(){var w;const[t,e]=S.useState([]),[n,r]=S.useState(0),[s,i]=S.useState(!1),[o,a]=S.useState(50),[l,c]=S.useState(!1),[d,u]=S.useState(null),h=S.useRef([]),p=S.useRef([]);S.useEffect(()=>(h.current=Array.from({length:qm},()=>new Pf(is,{oscillator:{type:"square"},envelope:{attack:.02,decay:.1,sustain:.3,release:1}}).toDestination()),zm().volume.value=Vd(o/100),()=>{h.current.forEach(k=>k.dispose()),p.current.forEach(k=>k.dispose())}),[]);const m=k=>{if(k.target.files){const b=Array.from(k.target.files).filter(T=>T.type==="audio/midi"||T.name.endsWith(".mid")||T.name.endsWith(".midi"));e(T=>[...T,...b])}},f=async k=>{c(!0);const b=await k.arrayBuffer(),T=new Al.Midi(b),N=LI()+.5;p.current.forEach(E=>E.dispose()),p.current=[],T.tracks.forEach((E,I)=>{const A=h.current[I%qm],R=new El((M,j)=>{A.triggerAttackRelease(j.name,j.duration,M,j.velocity)},E.notes).start(N);p.current.push(R)}),rr.start(N),i(!0),c(!1)},y=async()=>{t.length!==0&&(await yI(),s?(rr.pause(),i(!1)):(rr.state==="paused"?rr.start():f(t[n]),i(!0)))},g=()=>{n<t.length-1&&(r(n+1),s&&(rr.stop(),f(t[n+1])))},v=()=>{n>0&&(r(n-1),s&&(rr.stop(),f(t[n-1])))},_=k=>{const b=k[0];a(b),zm().volume.value=Vd(b/100)},x=async k=>{var E,I;const b=await k.arrayBuffer(),T=new Al.Midi(b);let N=`Archivo MIDI: ${k.name}

`;N+=`Duracin: ${T.duration.toFixed(2)} segundos
`,N+=`Tempo: ${((E=T.header.tempos[0])==null?void 0:E.bpm)||"No especificado"} BPM
`,N+=`Comps: ${((I=T.header.timeSignatures[0])==null?void 0:I.timeSignature)||"No especificado"}

`,T.tracks.forEach((A,R)=>{N+=`Pista ${R+1}: ${A.name||"Sin nombre"}
`,N+=`  Instrumento: ${A.instrument.name}
`,N+=`  Notas: ${A.notes.length}
`,N+=`  Canales utilizados: ${Array.from(new Set(A.notes.map(M=>M.midi))).join(", ")}

`}),u(N)};return C.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-indigo-900 to-blue-900 flex items-center justify-center p-4",children:C.jsxs("div",{className:"bg-gray-800 p-8 rounded-3xl shadow-2xl max-w-md w-full space-y-6",style:{boxShadow:"0 0 0 10px #555, 0 0 0 20px #333",background:"linear-gradient(145deg, #444, #222)"},children:[C.jsxs("div",{className:"bg-black p-6 rounded-2xl shadow-inner",style:{border:"4px solid #666",boxShadow:"inset 0 0 10px rgba(0,0,0,0.5)"},children:[C.jsx("h1",{className:"text-3xl font-bold text-center text-yellow-400 mb-4",style:{fontFamily:"'VT323', monospace"},children:"90s MIDI Reader/Player"}),C.jsx("div",{className:"bg-green-900 p-4 rounded-xl mb-4 relative overflow-hidden",style:{border:"2px solid #0f0",boxShadow:"inset 0 0 5px #0f0, 0 0 10px #0f0"},children:C.jsx("div",{className:"absolute inset-0 flex items-center overflow-hidden",children:C.jsx("p",{className:"text-green-400 font-mono text-lg whitespace-nowrap animate-marquee",children:((w=t[n])==null?void 0:w.name)||"No MIDI loaded - Insert your favorite 90s hit!"})})}),C.jsxs("div",{className:"flex justify-center space-x-4 mb-4",children:[C.jsx(Br,{onClick:v,variant:"outline",size:"icon",className:"rounded-full bg-gray-700 hover:bg-gray-600 border-2 border-gray-500",children:C.jsx(Pb,{className:"h-4 w-4 text-yellow-400"})}),C.jsx(Br,{onClick:y,variant:"outline",size:"icon",className:"rounded-full bg-gray-700 hover:bg-gray-600 border-2 border-gray-500",disabled:l,children:l?C.jsx("span",{className:"animate-spin h-4 w-4 border-2 border-yellow-400 rounded-full border-t-transparent"}):s?C.jsx(Uy,{className:"h-4 w-4 text-yellow-400"}):C.jsx(By,{className:"h-4 w-4 text-yellow-400"})}),C.jsx(Br,{onClick:g,variant:"outline",size:"icon",className:"rounded-full bg-gray-700 hover:bg-gray-600 border-2 border-gray-500",children:C.jsx(Rb,{className:"h-4 w-4 text-yellow-400"})})]}),C.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700 p-2 rounded-lg",children:[C.jsx(Mb,{className:"text-yellow-400 h-5 w-5"}),C.jsx(Kh,{value:[o],onValueChange:_,max:100,step:1,className:"w-full"})]})]}),C.jsxs("div",{className:"space-y-4 bg-gray-700 p-4 rounded-xl",style:{border:"2px solid #888"},children:[C.jsx(e0,{htmlFor:"file-upload",className:"text-yellow-400 text-lg font-semibold block",style:{fontFamily:"'VT323', monospace"},children:"Upload Your 90s MIDI Hits"}),C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx(dl,{id:"file-upload",type:"file",accept:".mid,.midi,audio/midi",multiple:!0,onChange:m,className:"text-sm text-yellow-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-900 file:text-yellow-400 hover:file:bg-purple-800"}),C.jsx(Br,{size:"icon",className:"rounded-full bg-purple-900 hover:bg-purple-800",children:C.jsx(zy,{className:"h-4 w-4 text-yellow-400"})})]})]}),t.length>0&&C.jsxs("div",{className:"mt-4 bg-gray-700 p-4 rounded-xl",style:{border:"2px solid #888"},children:[C.jsx("h2",{className:"text-yellow-400 text-lg font-semibold mb-2",style:{fontFamily:"'VT323', monospace"},children:"90s Playlist:"}),C.jsx("ul",{className:"space-y-1 max-h-40 overflow-y-auto scrollbar-thin scrollbar-thumb-yellow-400 scrollbar-track-gray-800",children:t.map((k,b)=>C.jsxs("li",{className:`text-sm ${b===n?"text-green-400":"text-yellow-400"} cursor-pointer hover:text-green-300 flex justify-between items-center`,children:[C.jsx("span",{onClick:()=>{r(b),s&&(rr.stop(),f(k))},children:k.name}),C.jsx(Br,{onClick:()=>x(k),size:"sm",variant:"ghost",className:"text-yellow-400 hover:text-green-400",children:C.jsx(Ob,{className:"h-4 w-4"})})]},b))})]}),d&&C.jsxs("div",{className:"mt-4 bg-gray-700 p-4 rounded-xl",style:{border:"2px solid #888"},children:[C.jsx("h2",{className:"text-yellow-400 text-lg font-semibold mb-2",style:{fontFamily:"'VT323', monospace"},children:"MIDI Info:"}),C.jsx("pre",{className:"text-green-400 font-mono text-xs whitespace-pre-wrap max-h-60 overflow-y-auto scrollbar-thin scrollbar-thumb-yellow-400 scrollbar-track-gray-800",children:d})]})]})})}function Ic(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var EO=["color"],NO=S.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,s=Ic(t,EO);return S.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),S.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),AO=["color"],IO=S.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,s=Ic(t,AO);return S.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),S.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),OO=["color"],PO=S.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,s=Ic(t,OO);return S.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),S.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),RO=["color"],MO=S.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,s=Ic(t,RO);return S.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),S.createElement("path",{d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});function DO(t,e=globalThis==null?void 0:globalThis.document){const n=Un(t);S.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var FO="DismissableLayer",jd="dismissableLayer.update",LO="dismissableLayer.pointerDownOutside",VO="dismissableLayer.focusOutside",Hm,D_=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),F_=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=S.useContext(D_),[d,u]=S.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=S.useState({}),m=Fe(e,b=>u(b)),f=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),g=f.indexOf(y),v=d?f.indexOf(d):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,x=v>=g,w=BO(b=>{const T=b.target,N=[...c.branches].some(E=>E.contains(T));!x||N||(s==null||s(b),o==null||o(b),b.defaultPrevented||a==null||a())},h),k=zO(b=>{const T=b.target;[...c.branches].some(E=>E.contains(T))||(i==null||i(b),o==null||o(b),b.defaultPrevented||a==null||a())},h);return DO(b=>{v===c.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&a&&(b.preventDefault(),a()))},h),S.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Hm=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Gm(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Hm)}},[d,h,n,c]),S.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Gm())},[d,c]),S.useEffect(()=>{const b=()=>p({});return document.addEventListener(jd,b),()=>document.removeEventListener(jd,b)},[]),C.jsx(be.div,{...l,ref:m,style:{pointerEvents:_?x?"auto":"none":void 0,...t.style},onFocusCapture:pe(t.onFocusCapture,k.onFocusCapture),onBlurCapture:pe(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:pe(t.onPointerDownCapture,w.onPointerDownCapture)})});F_.displayName=FO;var jO="DismissableLayerBranch",UO=S.forwardRef((t,e)=>{const n=S.useContext(D_),r=S.useRef(null),s=Fe(e,r);return S.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),C.jsx(be.div,{...t,ref:s})});UO.displayName=jO;function BO(t,e=globalThis==null?void 0:globalThis.document){const n=Un(t),r=S.useRef(!1),s=S.useRef(()=>{});return S.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){L_(LO,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function zO(t,e=globalThis==null?void 0:globalThis.document){const n=Un(t),r=S.useRef(!1);return S.useEffect(()=>{const s=i=>{i.target&&!r.current&&L_(VO,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Gm(){const t=new CustomEvent(jd);document.dispatchEvent(t)}function L_(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?ST(s,i):s.dispatchEvent(i)}var gu=0;function WO(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Ym()),document.body.insertAdjacentElement("beforeend",t[1]??Ym()),gu++,()=>{gu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),gu--}},[])}function Ym(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var vu="focusScope.autoFocusOnMount",yu="focusScope.autoFocusOnUnmount",Xm={bubbles:!1,cancelable:!0},$O="FocusScope",V_=S.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=S.useState(null),c=Un(s),d=Un(i),u=S.useRef(null),h=Fe(e,f=>l(f)),p=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let f=function(_){if(p.paused||!a)return;const x=_.target;a.contains(x)?u.current=x:sr(u.current,{select:!0})},y=function(_){if(p.paused||!a)return;const x=_.relatedTarget;x!==null&&(a.contains(x)||sr(u.current,{select:!0}))},g=function(_){if(document.activeElement===document.body)for(const w of _)w.removedNodes.length>0&&sr(a)};document.addEventListener("focusin",f),document.addEventListener("focusout",y);const v=new MutationObserver(g);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",y),v.disconnect()}}},[r,a,p.paused]),S.useEffect(()=>{if(a){Qm.add(p);const f=document.activeElement;if(!a.contains(f)){const g=new CustomEvent(vu,Xm);a.addEventListener(vu,c),a.dispatchEvent(g),g.defaultPrevented||(qO(KO(j_(a)),{select:!0}),document.activeElement===f&&sr(a))}return()=>{a.removeEventListener(vu,c),setTimeout(()=>{const g=new CustomEvent(yu,Xm);a.addEventListener(yu,d),a.dispatchEvent(g),g.defaultPrevented||sr(f??document.body,{select:!0}),a.removeEventListener(yu,d),Qm.remove(p)},0)}}},[a,c,d,p]);const m=S.useCallback(f=>{if(!n&&!r||p.paused)return;const y=f.key==="Tab"&&!f.altKey&&!f.ctrlKey&&!f.metaKey,g=document.activeElement;if(y&&g){const v=f.currentTarget,[_,x]=HO(v);_&&x?!f.shiftKey&&g===x?(f.preventDefault(),n&&sr(_,{select:!0})):f.shiftKey&&g===_&&(f.preventDefault(),n&&sr(x,{select:!0})):g===v&&f.preventDefault()}},[n,r,p.paused]);return C.jsx(be.div,{tabIndex:-1,...o,ref:h,onKeyDown:m})});V_.displayName=$O;function qO(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(sr(r,{select:e}),document.activeElement!==n)return}function HO(t){const e=j_(t),n=Km(e,t),r=Km(e.reverse(),t);return[n,r]}function j_(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Km(t,e){for(const n of t)if(!GO(n,{upTo:e}))return n}function GO(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function YO(t){return t instanceof HTMLInputElement&&"select"in t}function sr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&YO(t)&&e&&t.select()}}var Qm=XO();function XO(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Zm(t,e),t.unshift(e)},remove(e){var n;t=Zm(t,e),(n=t[0])==null||n.resume()}}}function Zm(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function KO(t){return t.filter(e=>e.tagName!=="A")}var QO=Eg.useId||(()=>{}),ZO=0;function Uf(t){const[e,n]=S.useState(QO());return Ft(()=>{n(r=>r??String(ZO++))},[t]),e?`radix-${e}`:""}const JO=["top","right","bottom","left"],Er=Math.min,At=Math.max,Ol=Math.round,ga=Math.floor,Nr=t=>({x:t,y:t}),e2={left:"right",right:"left",bottom:"top",top:"bottom"},t2={start:"end",end:"start"};function Ud(t,e,n){return At(t,Er(e,n))}function zn(t,e){return typeof t=="function"?t(e):t}function Wn(t){return t.split("-")[0]}function Ti(t){return t.split("-")[1]}function Bf(t){return t==="x"?"y":"x"}function zf(t){return t==="y"?"height":"width"}function Ar(t){return["top","bottom"].includes(Wn(t))?"y":"x"}function Wf(t){return Bf(Ar(t))}function n2(t,e,n){n===void 0&&(n=!1);const r=Ti(t),s=Wf(t),i=zf(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Pl(o)),[o,Pl(o)]}function r2(t){const e=Pl(t);return[Bd(t),e,Bd(e)]}function Bd(t){return t.replace(/start|end/g,e=>t2[e])}function s2(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function i2(t,e,n,r){const s=Ti(t);let i=s2(Wn(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Bd)))),i}function Pl(t){return t.replace(/left|right|bottom|top/g,e=>e2[e])}function o2(t){return{top:0,right:0,bottom:0,left:0,...t}}function U_(t){return typeof t!="number"?o2(t):{top:t,right:t,bottom:t,left:t}}function Rl(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Jm(t,e,n){let{reference:r,floating:s}=t;const i=Ar(e),o=Wf(e),a=zf(o),l=Wn(e),c=i==="y",d=r.x+r.width/2-s.width/2,u=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let p;switch(l){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:u};break;case"left":p={x:r.x-s.width,y:u};break;default:p={x:r.x,y:r.y}}switch(Ti(e)){case"start":p[o]-=h*(n&&c?-1:1);break;case"end":p[o]+=h*(n&&c?-1:1);break}return p}const a2=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:u}=Jm(c,r,l),h=r,p={},m=0;for(let f=0;f<a.length;f++){const{name:y,fn:g}=a[f],{x:v,y:_,data:x,reset:w}=await g({x:d,y:u,initialPlacement:r,placement:h,strategy:s,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});d=v??d,u=_??u,p={...p,[y]:{...p[y],...x}},w&&m<=50&&(m++,typeof w=="object"&&(w.placement&&(h=w.placement),w.rects&&(c=w.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):w.rects),{x:d,y:u}=Jm(c,h,l)),f=-1)}return{x:d,y:u,placement:h,strategy:s,middlewareData:p}};async function So(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:p=0}=zn(e,t),m=U_(p),y=a[h?u==="floating"?"reference":"floating":u],g=Rl(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),v=u==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),x=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},w=Rl(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:_,strategy:l}):v);return{top:(g.top-w.top+m.top)/x.y,bottom:(w.bottom-g.bottom+m.bottom)/x.y,left:(g.left-w.left+m.left)/x.x,right:(w.right-g.right+m.right)/x.x}}const l2=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=zn(t,e)||{};if(c==null)return{};const u=U_(d),h={x:n,y:r},p=Wf(s),m=zf(p),f=await o.getDimensions(c),y=p==="y",g=y?"top":"left",v=y?"bottom":"right",_=y?"clientHeight":"clientWidth",x=i.reference[m]+i.reference[p]-h[p]-i.floating[m],w=h[p]-i.reference[p],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let b=k?k[_]:0;(!b||!await(o.isElement==null?void 0:o.isElement(k)))&&(b=a.floating[_]||i.floating[m]);const T=x/2-w/2,N=b/2-f[m]/2-1,E=Er(u[g],N),I=Er(u[v],N),A=E,R=b-f[m]-I,M=b/2-f[m]/2+T,j=Ud(A,M,R),D=!l.arrow&&Ti(s)!=null&&M!==j&&i.reference[m]/2-(M<A?E:I)-f[m]/2<0,F=D?M<A?M-A:M-R:0;return{[p]:h[p]+F,data:{[p]:j,centerOffset:M-j-F,...D&&{alignmentOffset:F}},reset:D}}}),c2=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:f=!0,...y}=zn(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const g=Wn(s),v=Ar(a),_=Wn(a)===a,x=await(l.isRTL==null?void 0:l.isRTL(c.floating)),w=h||(_||!f?[Pl(a)]:r2(a)),k=m!=="none";!h&&k&&w.push(...i2(a,f,m,x));const b=[a,...w],T=await So(e,y),N=[];let E=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&N.push(T[g]),u){const M=n2(s,o,x);N.push(T[M[0]],T[M[1]])}if(E=[...E,{placement:s,overflows:N}],!N.every(M=>M<=0)){var I,A;const M=(((I=i.flip)==null?void 0:I.index)||0)+1,j=b[M];if(j)return{data:{index:M,overflows:E},reset:{placement:j}};let D=(A=E.filter(F=>F.overflows[0]<=0).sort((F,O)=>F.overflows[1]-O.overflows[1])[0])==null?void 0:A.placement;if(!D)switch(p){case"bestFit":{var R;const F=(R=E.filter(O=>{if(k){const P=Ar(O.placement);return P===v||P==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(P=>P>0).reduce((P,L)=>P+L,0)]).sort((O,P)=>O[1]-P[1])[0])==null?void 0:R[0];F&&(D=F);break}case"initialPlacement":D=a;break}if(s!==D)return{reset:{placement:D}}}return{}}}};function eg(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function tg(t){return JO.some(e=>t[e]>=0)}const u2=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=zn(t,e);switch(r){case"referenceHidden":{const i=await So(e,{...s,elementContext:"reference"}),o=eg(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:tg(o)}}}case"escaped":{const i=await So(e,{...s,altBoundary:!0}),o=eg(i,n.floating);return{data:{escapedOffsets:o,escaped:tg(o)}}}default:return{}}}}};async function d2(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Wn(n),a=Ti(n),l=Ar(n)==="y",c=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,u=zn(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return a&&typeof m=="number"&&(p=a==="end"?m*-1:m),l?{x:p*d,y:h*c}:{x:h*c,y:p*d}}const h2=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await d2(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},f2=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:g,y:v}=y;return{x:g,y:v}}},...l}=zn(t,e),c={x:n,y:r},d=await So(e,l),u=Ar(Wn(s)),h=Bf(u);let p=c[h],m=c[u];if(i){const y=h==="y"?"top":"left",g=h==="y"?"bottom":"right",v=p+d[y],_=p-d[g];p=Ud(v,p,_)}if(o){const y=u==="y"?"top":"left",g=u==="y"?"bottom":"right",v=m+d[y],_=m-d[g];m=Ud(v,m,_)}const f=a.fn({...e,[h]:p,[u]:m});return{...f,data:{x:f.x-n,y:f.y-r,enabled:{[h]:i,[u]:o}}}}}},p2=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=zn(t,e),d={x:n,y:r},u=Ar(s),h=Bf(u);let p=d[h],m=d[u];const f=zn(a,e),y=typeof f=="number"?{mainAxis:f,crossAxis:0}:{mainAxis:0,crossAxis:0,...f};if(l){const _=h==="y"?"height":"width",x=i.reference[h]-i.floating[_]+y.mainAxis,w=i.reference[h]+i.reference[_]-y.mainAxis;p<x?p=x:p>w&&(p=w)}if(c){var g,v;const _=h==="y"?"width":"height",x=["top","left"].includes(Wn(s)),w=i.reference[u]-i.floating[_]+(x&&((g=o.offset)==null?void 0:g[u])||0)+(x?0:y.crossAxis),k=i.reference[u]+i.reference[_]+(x?0:((v=o.offset)==null?void 0:v[u])||0)-(x?y.crossAxis:0);m<w?m=w:m>k&&(m=k)}return{[h]:p,[u]:m}}}},m2=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=zn(t,e),d=await So(e,c),u=Wn(s),h=Ti(s),p=Ar(s)==="y",{width:m,height:f}=i.floating;let y,g;u==="top"||u==="bottom"?(y=u,g=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(g=u,y=h==="end"?"top":"bottom");const v=f-d.top-d.bottom,_=m-d.left-d.right,x=Er(f-d[y],v),w=Er(m-d[g],_),k=!e.middlewareData.shift;let b=x,T=w;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=v),k&&!h){const E=At(d.left,0),I=At(d.right,0),A=At(d.top,0),R=At(d.bottom,0);p?T=m-2*(E!==0||I!==0?E+I:At(d.left,d.right)):b=f-2*(A!==0||R!==0?A+R:At(d.top,d.bottom))}await l({...e,availableWidth:T,availableHeight:b});const N=await o.getDimensions(a.floating);return m!==N.width||f!==N.height?{reset:{rects:!0}}:{}}}};function Oc(){return typeof window<"u"}function ki(t){return B_(t)?(t.nodeName||"").toLowerCase():"#document"}function Mt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Yn(t){var e;return(e=(B_(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function B_(t){return Oc()?t instanceof Node||t instanceof Mt(t).Node:!1}function ln(t){return Oc()?t instanceof Element||t instanceof Mt(t).Element:!1}function bn(t){return Oc()?t instanceof HTMLElement||t instanceof Mt(t).HTMLElement:!1}function ng(t){return!Oc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Mt(t).ShadowRoot}function $o(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=cn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function g2(t){return["table","td","th"].includes(ki(t))}function Pc(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function $f(t){const e=qf(),n=ln(t)?cn(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function v2(t){let e=Ir(t);for(;bn(e)&&!ui(e);){if($f(e))return e;if(Pc(e))return null;e=Ir(e)}return null}function qf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ui(t){return["html","body","#document"].includes(ki(t))}function cn(t){return Mt(t).getComputedStyle(t)}function Rc(t){return ln(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ir(t){if(ki(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ng(t)&&t.host||Yn(t);return ng(e)?e.host:e}function z_(t){const e=Ir(t);return ui(e)?t.ownerDocument?t.ownerDocument.body:t.body:bn(e)&&$o(e)?e:z_(e)}function bo(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=z_(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Mt(s);if(i){const a=y2(o);return e.concat(o,o.visualViewport||[],$o(s)?s:[],a&&n?bo(a):[])}return e.concat(s,bo(s,[],n))}function y2(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function W_(t){const e=cn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=bn(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Ol(n)!==i||Ol(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Hf(t){return ln(t)?t:t.contextElement}function Ys(t){const e=Hf(t);if(!bn(e))return Nr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=W_(e);let o=(i?Ol(n.width):n.width)/r,a=(i?Ol(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const _2=Nr(0);function $_(t){const e=Mt(t);return!qf()||!e.visualViewport?_2:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function w2(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Mt(t)?!1:e}function as(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Hf(t);let o=Nr(1);e&&(r?ln(r)&&(o=Ys(r)):o=Ys(t));const a=w2(i,n,r)?$_(i):Nr(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,u=s.height/o.y;if(i){const h=Mt(i),p=r&&ln(r)?Mt(r):r;let m=h,f=m.frameElement;for(;f&&r&&p!==m;){const y=Ys(f),g=f.getBoundingClientRect(),v=cn(f),_=g.left+(f.clientLeft+parseFloat(v.paddingLeft))*y.x,x=g.top+(f.clientTop+parseFloat(v.paddingTop))*y.y;l*=y.x,c*=y.y,d*=y.x,u*=y.y,l+=_,c+=x,m=Mt(f),f=m.frameElement}}return Rl({width:d,height:u,x:l,y:c})}function x2(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Yn(r),a=e?Pc(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Nr(1);const d=Nr(0),u=bn(r);if((u||!u&&!i)&&((ki(r)!=="body"||$o(o))&&(l=Rc(r)),bn(r))){const h=as(r);c=Ys(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function S2(t){return Array.from(t.getClientRects())}function q_(t){return as(Yn(t)).left+Rc(t).scrollLeft}function b2(t){const e=Yn(t),n=Rc(t),r=t.ownerDocument.body,s=At(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=At(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+q_(t);const a=-n.scrollTop;return cn(r).direction==="rtl"&&(o+=At(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function T2(t,e){const n=Mt(t),r=Yn(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=qf();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function k2(t,e){const n=as(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=bn(t)?Ys(t):Nr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function rg(t,e,n){let r;if(e==="viewport")r=T2(t,n);else if(e==="document")r=b2(Yn(t));else if(ln(e))r=k2(e,n);else{const s=$_(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Rl(r)}function H_(t,e){const n=Ir(t);return n===e||!ln(n)||ui(n)?!1:cn(n).position==="fixed"||H_(n,e)}function C2(t,e){const n=e.get(t);if(n)return n;let r=bo(t,[],!1).filter(a=>ln(a)&&ki(a)!=="body"),s=null;const i=cn(t).position==="fixed";let o=i?Ir(t):t;for(;ln(o)&&!ui(o);){const a=cn(o),l=$f(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||$o(o)&&!l&&H_(t,o))?r=r.filter(d=>d!==o):s=a,o=Ir(o)}return e.set(t,r),r}function E2(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Pc(e)?[]:C2(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const u=rg(e,d,s);return c.top=At(u.top,c.top),c.right=Er(u.right,c.right),c.bottom=Er(u.bottom,c.bottom),c.left=At(u.left,c.left),c},rg(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function N2(t){const{width:e,height:n}=W_(t);return{width:e,height:n}}function A2(t,e,n){const r=bn(e),s=Yn(e),i=n==="fixed",o=as(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Nr(0);if(r||!r&&!i)if((ki(e)!=="body"||$o(s))&&(a=Rc(e)),r){const u=as(e,!0,i,e);l.x=u.x+e.clientLeft,l.y=u.y+e.clientTop}else s&&(l.x=q_(s));const c=o.left+a.scrollLeft-l.x,d=o.top+a.scrollTop-l.y;return{x:c,y:d,width:o.width,height:o.height}}function _u(t){return cn(t).position==="static"}function sg(t,e){return!bn(t)||cn(t).position==="fixed"?null:e?e(t):t.offsetParent}function G_(t,e){const n=Mt(t);if(Pc(t))return n;if(!bn(t)){let s=Ir(t);for(;s&&!ui(s);){if(ln(s)&&!_u(s))return s;s=Ir(s)}return n}let r=sg(t,e);for(;r&&g2(r)&&_u(r);)r=sg(r,e);return r&&ui(r)&&_u(r)&&!$f(r)?n:r||v2(t)||n}const I2=async function(t){const e=this.getOffsetParent||G_,n=this.getDimensions,r=await n(t.floating);return{reference:A2(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function O2(t){return cn(t).direction==="rtl"}const P2={convertOffsetParentRelativeRectToViewportRelativeRect:x2,getDocumentElement:Yn,getClippingRect:E2,getOffsetParent:G_,getElementRects:I2,getClientRects:S2,getDimensions:N2,getScale:Ys,isElement:ln,isRTL:O2};function R2(t,e){let n=null,r;const s=Yn(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:d,width:u,height:h}=t.getBoundingClientRect();if(a||e(),!u||!h)return;const p=ga(d),m=ga(s.clientWidth-(c+u)),f=ga(s.clientHeight-(d+h)),y=ga(c),v={rootMargin:-p+"px "+-m+"px "+-f+"px "+-y+"px",threshold:At(0,Er(1,l))||1};let _=!0;function x(w){const k=w[0].intersectionRatio;if(k!==l){if(!_)return o();k?o(!1,k):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_=!1}try{n=new IntersectionObserver(x,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(x,v)}n.observe(t)}return o(!0),i}function M2(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Hf(t),d=s||i?[...c?bo(c):[],...bo(e)]:[];d.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),i&&g.addEventListener("resize",n)});const u=c&&a?R2(c,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(g=>{let[v]=g;v&&v.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let m,f=l?as(t):null;l&&y();function y(){const g=as(t);f&&(g.x!==f.x||g.y!==f.y||g.width!==f.width||g.height!==f.height)&&n(),f=g,m=requestAnimationFrame(y)}return n(),()=>{var g;d.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),u==null||u(),(g=p)==null||g.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const D2=h2,F2=f2,L2=c2,V2=m2,j2=u2,ig=l2,U2=p2,B2=(t,e,n)=>{const r=new Map,s={platform:P2,...n},i={...s.platform,_c:r};return a2(t,e,{...s,platform:i})};var Fa=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Ml(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ml(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Ml(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Y_(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function og(t,e){const n=Y_(t);return Math.round(e*n)/n}function wu(t){const e=S.useRef(t);return Fa(()=>{e.current=t}),e}function z2(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,u]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=S.useState(r);Ml(h,r)||p(r);const[m,f]=S.useState(null),[y,g]=S.useState(null),v=S.useCallback(O=>{O!==k.current&&(k.current=O,f(O))},[]),_=S.useCallback(O=>{O!==b.current&&(b.current=O,g(O))},[]),x=i||m,w=o||y,k=S.useRef(null),b=S.useRef(null),T=S.useRef(d),N=l!=null,E=wu(l),I=wu(s),A=wu(c),R=S.useCallback(()=>{if(!k.current||!b.current)return;const O={placement:e,strategy:n,middleware:h};I.current&&(O.platform=I.current),B2(k.current,b.current,O).then(P=>{const L={...P,isPositioned:A.current!==!1};M.current&&!Ml(T.current,L)&&(T.current=L,pi.flushSync(()=>{u(L)}))})},[h,e,n,I,A]);Fa(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,u(O=>({...O,isPositioned:!1})))},[c]);const M=S.useRef(!1);Fa(()=>(M.current=!0,()=>{M.current=!1}),[]),Fa(()=>{if(x&&(k.current=x),w&&(b.current=w),x&&w){if(E.current)return E.current(x,w,R);R()}},[x,w,R,E,N]);const j=S.useMemo(()=>({reference:k,floating:b,setReference:v,setFloating:_}),[v,_]),D=S.useMemo(()=>({reference:x,floating:w}),[x,w]),F=S.useMemo(()=>{const O={position:n,left:0,top:0};if(!D.floating)return O;const P=og(D.floating,d.x),L=og(D.floating,d.y);return a?{...O,transform:"translate("+P+"px, "+L+"px)",...Y_(D.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:L}},[n,a,D.floating,d.x,d.y]);return S.useMemo(()=>({...d,update:R,refs:j,elements:D,floatingStyles:F}),[d,R,j,D,F])}const W2=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?ig({element:r.current,padding:s}).fn(n):{}:r?ig({element:r,padding:s}).fn(n):{}}}},$2=(t,e)=>({...D2(t),options:[t,e]}),q2=(t,e)=>({...F2(t),options:[t,e]}),H2=(t,e)=>({...U2(t),options:[t,e]}),G2=(t,e)=>({...L2(t),options:[t,e]}),Y2=(t,e)=>({...V2(t),options:[t,e]}),X2=(t,e)=>({...j2(t),options:[t,e]}),K2=(t,e)=>({...W2(t),options:[t,e]});var Q2="Arrow",X_=S.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return C.jsx(be.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:C.jsx("polygon",{points:"0,0 30,0 15,10"})})});X_.displayName=Q2;var Z2=X_;function J2(t,e=[]){let n=[];function r(i,o){const a=S.createContext(o),l=n.length;n=[...n,o];function c(u){const{scope:h,children:p,...m}=u,f=(h==null?void 0:h[t][l])||a,y=S.useMemo(()=>m,Object.values(m));return C.jsx(f.Provider,{value:y,children:p})}function d(u,h){const p=(h==null?void 0:h[t][l])||a,m=S.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>S.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return S.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,eP(s,...e)]}function eP(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const u=l(i)[`__scope${c}`];return{...a,...u}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Gf="Popper",[K_,Q_]=J2(Gf),[tP,Z_]=K_(Gf),J_=t=>{const{__scopePopper:e,children:n}=t,[r,s]=S.useState(null);return C.jsx(tP,{scope:e,anchor:r,onAnchorChange:s,children:n})};J_.displayName=Gf;var ew="PopperAnchor",tw=S.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Z_(ew,n),o=S.useRef(null),a=Fe(e,o);return S.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:C.jsx(be.div,{...s,ref:a})});tw.displayName=ew;var Yf="PopperContent",[nP,rP]=K_(Yf),nw=S.forwardRef((t,e)=>{var $,B,ke,se,ne,re;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:u="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:m,...f}=t,y=Z_(Yf,n),[g,v]=S.useState(null),_=Fe(e,at=>v(at)),[x,w]=S.useState(null),k=s0(x),b=(k==null?void 0:k.width)??0,T=(k==null?void 0:k.height)??0,N=r+(i!=="center"?"-"+i:""),E=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(c)?c:[c],A=I.length>0,R={padding:E,boundary:I.filter(iP),altBoundary:A},{refs:M,floatingStyles:j,placement:D,isPositioned:F,middlewareData:O}=z2({strategy:"fixed",placement:N,whileElementsMounted:(...at)=>M2(...at,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[$2({mainAxis:s+T,alignmentAxis:o}),l&&q2({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?H2():void 0,...R}),l&&G2({...R}),Y2({...R,apply:({elements:at,rects:jt,availableWidth:z,availableHeight:G})=>{const{width:ve,height:ye}=jt.reference,te=at.floating.style;te.setProperty("--radix-popper-available-width",`${z}px`),te.setProperty("--radix-popper-available-height",`${G}px`),te.setProperty("--radix-popper-anchor-width",`${ve}px`),te.setProperty("--radix-popper-anchor-height",`${ye}px`)}}),x&&K2({element:x,padding:a}),oP({arrowWidth:b,arrowHeight:T}),h&&X2({strategy:"referenceHidden",...R})]}),[P,L]=iw(D),U=Un(m);Ft(()=>{F&&(U==null||U())},[F,U]);const H=($=O.arrow)==null?void 0:$.x,Te=(B=O.arrow)==null?void 0:B.y,le=((ke=O.arrow)==null?void 0:ke.centerOffset)!==0,[K,Z]=S.useState();return Ft(()=>{g&&Z(window.getComputedStyle(g).zIndex)},[g]),C.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...j,transform:F?j.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[(se=O.transformOrigin)==null?void 0:se.x,(ne=O.transformOrigin)==null?void 0:ne.y].join(" "),...((re=O.hide)==null?void 0:re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:C.jsx(nP,{scope:n,placedSide:P,onArrowChange:w,arrowX:H,arrowY:Te,shouldHideArrow:le,children:C.jsx(be.div,{"data-side":P,"data-align":L,...f,ref:_,style:{...f.style,animation:F?void 0:"none"}})})})});nw.displayName=Yf;var rw="PopperArrow",sP={top:"bottom",right:"left",bottom:"top",left:"right"},sw=S.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=rP(rw,r),o=sP[i.placedSide];return C.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:C.jsx(Z2,{...s,ref:n,style:{...s.style,display:"block"}})})});sw.displayName=rw;function iP(t){return t!==null}var oP=t=>({name:"transformOrigin",options:t,fn(e){var y,g,v;const{placement:n,rects:r,middlewareData:s}=e,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=iw(n),u={start:"0%",center:"50%",end:"100%"}[d],h=(((g=s.arrow)==null?void 0:g.x)??0)+a/2,p=(((v=s.arrow)==null?void 0:v.y)??0)+l/2;let m="",f="";return c==="bottom"?(m=o?u:`${h}px`,f=`${-l}px`):c==="top"?(m=o?u:`${h}px`,f=`${r.floating.height+l}px`):c==="right"?(m=`${-l}px`,f=o?u:`${p}px`):c==="left"&&(m=`${r.floating.width+l}px`,f=o?u:`${p}px`),{data:{x:m,y:f}}}});function iw(t){const[e,n="center"]=t.split("-");return[e,n]}var aP=J_,lP=tw,cP=nw,uP=sw,dP="Portal",ow=S.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=S.useState(!1);Ft(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?zS.createPortal(C.jsx(be.div,{...r,ref:e}),o):null});ow.displayName=dP;var hP="VisuallyHidden",aw=S.forwardRef((t,e)=>C.jsx(be.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));aw.displayName=hP;var fP=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ys=new WeakMap,va=new WeakMap,ya={},xu=0,lw=function(t){return t&&(t.host||lw(t.parentNode))},pP=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=lw(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},mP=function(t,e,n,r){var s=pP(e,Array.isArray(t)?t:[t]);ya[n]||(ya[n]=new WeakMap);var i=ya[n],o=[],a=new Set,l=new Set(s),c=function(u){!u||a.has(u)||(a.add(u),c(u.parentNode))};s.forEach(c);var d=function(u){!u||l.has(u)||Array.prototype.forEach.call(u.children,function(h){if(a.has(h))d(h);else try{var p=h.getAttribute(r),m=p!==null&&p!=="false",f=(ys.get(h)||0)+1,y=(i.get(h)||0)+1;ys.set(h,f),i.set(h,y),o.push(h),f===1&&m&&va.set(h,!0),y===1&&h.setAttribute(n,"true"),m||h.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",h,g)}})};return d(e),a.clear(),xu++,function(){o.forEach(function(u){var h=ys.get(u)-1,p=i.get(u)-1;ys.set(u,h),i.set(u,p),h||(va.has(u)||u.removeAttribute(r),va.delete(u)),p||u.removeAttribute(n)}),xu--,xu||(ys=new WeakMap,ys=new WeakMap,va=new WeakMap,ya={})}},gP=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=fP(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),mP(r,s,n,"aria-hidden")):function(){return null}},La="right-scroll-bar-position",Va="width-before-scroll-bar",vP="with-scroll-bars-hidden",yP="--removed-body-scroll-bar-size";function Su(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function _P(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var wP=typeof window<"u"?S.useLayoutEffect:S.useEffect,ag=new WeakMap;function xP(t,e){var n=_P(null,function(r){return t.forEach(function(s){return Su(s,r)})});return wP(function(){var r=ag.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Su(a,null)}),i.forEach(function(a){s.has(a)||Su(a,o)})}ag.set(n,t)},[t]),n}function SP(t){return t}function bP(t,e){e===void 0&&(e=SP);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function TP(t){t===void 0&&(t={});var e=bP(null);return e.options=gn({async:!0,ssr:!1},t),e}var cw=function(t){var e=t.sideCar,n=v_(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,gn({},n))};cw.isSideCarExport=!0;function kP(t,e){return t.useMedium(e),cw}var uw=TP(),bu=function(){},Mc=S.forwardRef(function(t,e){var n=S.useRef(null),r=S.useState({onScrollCapture:bu,onWheelCapture:bu,onTouchMoveCapture:bu}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,u=t.shards,h=t.sideCar,p=t.noIsolation,m=t.inert,f=t.allowPinchZoom,y=t.as,g=y===void 0?"div":y,v=t.gapMode,_=v_(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=h,w=xP([n,e]),k=gn(gn({},_),s);return S.createElement(S.Fragment,null,d&&S.createElement(x,{sideCar:uw,removeScrollBar:c,shards:u,noIsolation:p,inert:m,setCallbacks:i,allowPinchZoom:!!f,lockRef:n,gapMode:v}),o?S.cloneElement(S.Children.only(a),gn(gn({},k),{ref:w})):S.createElement(g,gn({},k,{className:l,ref:w}),a))});Mc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Mc.classNames={fullWidth:Va,zeroRight:La};var CP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function EP(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=CP();return e&&t.setAttribute("nonce",e),t}function NP(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function AP(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var IP=function(){var t=0,e=null;return{add:function(n){t==0&&(e=EP())&&(NP(e,n),AP(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},OP=function(){var t=IP();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},dw=function(){var t=OP(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},PP={left:0,top:0,right:0,gap:0},Tu=function(t){return parseInt(t||"",10)||0},RP=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Tu(n),Tu(r),Tu(s)]},MP=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return PP;var e=RP(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},DP=dw(),Xs="data-scroll-locked",FP=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(vP,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Xs,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(La,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Va,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(La," .").concat(La,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Va," .").concat(Va,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Xs,`] {
    `).concat(yP,": ").concat(a,`px;
  }
`)},lg=function(){var t=parseInt(document.body.getAttribute(Xs)||"0",10);return isFinite(t)?t:0},LP=function(){S.useEffect(function(){return document.body.setAttribute(Xs,(lg()+1).toString()),function(){var t=lg()-1;t<=0?document.body.removeAttribute(Xs):document.body.setAttribute(Xs,t.toString())}},[])},VP=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;LP();var i=S.useMemo(function(){return MP(s)},[s]);return S.createElement(DP,{styles:FP(i,!e,s,n?"":"!important")})},zd=!1;if(typeof window<"u")try{var _a=Object.defineProperty({},"passive",{get:function(){return zd=!0,!0}});window.addEventListener("test",_a,_a),window.removeEventListener("test",_a,_a)}catch{zd=!1}var _s=zd?{passive:!1}:!1,jP=function(t){return t.tagName==="TEXTAREA"},hw=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!jP(t)&&n[e]==="visible")},UP=function(t){return hw(t,"overflowY")},BP=function(t){return hw(t,"overflowX")},cg=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=fw(t,r);if(s){var i=pw(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},zP=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},WP=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},fw=function(t,e){return t==="v"?UP(e):BP(e)},pw=function(t,e){return t==="v"?zP(e):WP(e)},$P=function(t,e){return t==="h"&&e==="rtl"?-1:1},qP=function(t,e,n,r,s){var i=$P(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,u=0,h=0;do{var p=pw(t,a),m=p[0],f=p[1],y=p[2],g=f-y-i*m;(m||g)&&fw(t,a)&&(u+=g,h+=m),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(u)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(c=!0),c},wa=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},ug=function(t){return[t.deltaX,t.deltaY]},dg=function(t){return t&&"current"in t?t.current:t},HP=function(t,e){return t[0]===e[0]&&t[1]===e[1]},GP=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},YP=0,ws=[];function XP(t){var e=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),s=S.useState(YP++)[0],i=S.useState(dw)[0],o=S.useRef(t);S.useEffect(function(){o.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var f=aI([t.lockRef.current],(t.shards||[]).map(dg),!0).filter(Boolean);return f.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),f.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=S.useCallback(function(f,y){if("touches"in f&&f.touches.length===2||f.type==="wheel"&&f.ctrlKey)return!o.current.allowPinchZoom;var g=wa(f),v=n.current,_="deltaX"in f?f.deltaX:v[0]-g[0],x="deltaY"in f?f.deltaY:v[1]-g[1],w,k=f.target,b=Math.abs(_)>Math.abs(x)?"h":"v";if("touches"in f&&b==="h"&&k.type==="range")return!1;var T=cg(b,k);if(!T)return!0;if(T?w=b:(w=b==="v"?"h":"v",T=cg(b,k)),!T)return!1;if(!r.current&&"changedTouches"in f&&(_||x)&&(r.current=w),!w)return!0;var N=r.current||w;return qP(N,y,f,N==="h"?_:x,!0)},[]),l=S.useCallback(function(f){var y=f;if(!(!ws.length||ws[ws.length-1]!==i)){var g="deltaY"in y?ug(y):wa(y),v=e.current.filter(function(w){return w.name===y.type&&(w.target===y.target||y.target===w.shadowParent)&&HP(w.delta,g)})[0];if(v&&v.should){y.cancelable&&y.preventDefault();return}if(!v){var _=(o.current.shards||[]).map(dg).filter(Boolean).filter(function(w){return w.contains(y.target)}),x=_.length>0?a(y,_[0]):!o.current.noIsolation;x&&y.cancelable&&y.preventDefault()}}},[]),c=S.useCallback(function(f,y,g,v){var _={name:f,delta:y,target:g,should:v,shadowParent:KP(g)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(x){return x!==_})},1)},[]),d=S.useCallback(function(f){n.current=wa(f),r.current=void 0},[]),u=S.useCallback(function(f){c(f.type,ug(f),f.target,a(f,t.lockRef.current))},[]),h=S.useCallback(function(f){c(f.type,wa(f),f.target,a(f,t.lockRef.current))},[]);S.useEffect(function(){return ws.push(i),t.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:h}),document.addEventListener("wheel",l,_s),document.addEventListener("touchmove",l,_s),document.addEventListener("touchstart",d,_s),function(){ws=ws.filter(function(f){return f!==i}),document.removeEventListener("wheel",l,_s),document.removeEventListener("touchmove",l,_s),document.removeEventListener("touchstart",d,_s)}},[]);var p=t.removeScrollBar,m=t.inert;return S.createElement(S.Fragment,null,m?S.createElement(i,{styles:GP(s)}):null,p?S.createElement(VP,{gapMode:t.gapMode}):null)}function KP(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const QP=kP(uw,XP);var mw=S.forwardRef(function(t,e){return S.createElement(Mc,gn({},t,{ref:e,sideCar:QP}))});mw.classNames=Mc.classNames;var ZP=[" ","Enter","ArrowUp","ArrowDown"],JP=[" ","Enter"],qo="Select",[Dc,Fc,eR]=i0(qo),[Ci,pD]=t0(qo,[eR,Q_]),Lc=Q_(),[tR,Lr]=Ci(qo),[nR,rR]=Ci(qo),gw=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:u,disabled:h,required:p,form:m}=t,f=Lc(e),[y,g]=S.useState(null),[v,_]=S.useState(null),[x,w]=S.useState(!1),k=n0(c),[b=!1,T]=Td({prop:r,defaultProp:s,onChange:i}),[N,E]=Td({prop:o,defaultProp:a,onChange:l}),I=S.useRef(null),A=y?m||!!y.closest("form"):!0,[R,M]=S.useState(new Set),j=Array.from(R).map(D=>D.props.value).join(";");return C.jsx(aP,{...f,children:C.jsxs(tR,{required:p,scope:e,trigger:y,onTriggerChange:g,valueNode:v,onValueNodeChange:_,valueNodeHasChildren:x,onValueNodeHasChildrenChange:w,contentId:Uf(),value:N,onValueChange:E,open:b,onOpenChange:T,dir:k,triggerPointerDownPosRef:I,disabled:h,children:[C.jsx(Dc.Provider,{scope:e,children:C.jsx(nR,{scope:t.__scopeSelect,onNativeOptionAdd:S.useCallback(D=>{M(F=>new Set(F).add(D))},[]),onNativeOptionRemove:S.useCallback(D=>{M(F=>{const O=new Set(F);return O.delete(D),O})},[]),children:n})}),A?C.jsxs(Bw,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:u,value:N,onChange:D=>E(D.target.value),disabled:h,form:m,children:[N===void 0?C.jsx("option",{value:""}):null,Array.from(R)]},j):null]})})};gw.displayName=qo;var vw="SelectTrigger",yw=S.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Lc(n),o=Lr(vw,n),a=o.disabled||r,l=Fe(e,o.onTriggerChange),c=Fc(n),d=S.useRef("touch"),[u,h,p]=zw(f=>{const y=c().filter(_=>!_.disabled),g=y.find(_=>_.value===o.value),v=Ww(y,f,g);v!==void 0&&o.onValueChange(v.value)}),m=f=>{a||(o.onOpenChange(!0),p()),f&&(o.triggerPointerDownPosRef.current={x:Math.round(f.pageX),y:Math.round(f.pageY)})};return C.jsx(lP,{asChild:!0,...i,children:C.jsx(be.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":Uw(o.value)?"":void 0,...s,ref:l,onClick:pe(s.onClick,f=>{f.currentTarget.focus(),d.current!=="mouse"&&m(f)}),onPointerDown:pe(s.onPointerDown,f=>{d.current=f.pointerType;const y=f.target;y.hasPointerCapture(f.pointerId)&&y.releasePointerCapture(f.pointerId),f.button===0&&f.ctrlKey===!1&&f.pointerType==="mouse"&&(m(f),f.preventDefault())}),onKeyDown:pe(s.onKeyDown,f=>{const y=u.current!=="";!(f.ctrlKey||f.altKey||f.metaKey)&&f.key.length===1&&h(f.key),!(y&&f.key===" ")&&ZP.includes(f.key)&&(m(),f.preventDefault())})})})});yw.displayName=vw;var _w="SelectValue",ww=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Lr(_w,n),{onValueNodeHasChildrenChange:c}=l,d=i!==void 0,u=Fe(e,l.onValueNodeChange);return Ft(()=>{c(d)},[c,d]),C.jsx(be.span,{...a,ref:u,style:{pointerEvents:"none"},children:Uw(l.value)?C.jsx(C.Fragment,{children:o}):i})});ww.displayName=_w;var sR="SelectIcon",xw=S.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return C.jsx(be.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});xw.displayName=sR;var iR="SelectPortal",Sw=t=>C.jsx(ow,{asChild:!0,...t});Sw.displayName=iR;var ls="SelectContent",bw=S.forwardRef((t,e)=>{const n=Lr(ls,t.__scopeSelect),[r,s]=S.useState();if(Ft(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?pi.createPortal(C.jsx(Tw,{scope:t.__scopeSelect,children:C.jsx(Dc.Slot,{scope:t.__scopeSelect,children:C.jsx("div",{children:t.children})})}),i):null}return C.jsx(kw,{...t,ref:e})});bw.displayName=ls;var Xt=10,[Tw,Vr]=Ci(ls),oR="SelectContentImpl",kw=S.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:u,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:f,avoidCollisions:y,...g}=t,v=Lr(ls,n),[_,x]=S.useState(null),[w,k]=S.useState(null),b=Fe(e,$=>x($)),[T,N]=S.useState(null),[E,I]=S.useState(null),A=Fc(n),[R,M]=S.useState(!1),j=S.useRef(!1);S.useEffect(()=>{if(_)return gP(_)},[_]),WO();const D=S.useCallback($=>{const[B,...ke]=A().map(re=>re.ref.current),[se]=ke.slice(-1),ne=document.activeElement;for(const re of $)if(re===ne||(re==null||re.scrollIntoView({block:"nearest"}),re===B&&w&&(w.scrollTop=0),re===se&&w&&(w.scrollTop=w.scrollHeight),re==null||re.focus(),document.activeElement!==ne))return},[A,w]),F=S.useCallback(()=>D([T,_]),[D,T,_]);S.useEffect(()=>{R&&F()},[R,F]);const{onOpenChange:O,triggerPointerDownPosRef:P}=v;S.useEffect(()=>{if(_){let $={x:0,y:0};const B=se=>{var ne,re;$={x:Math.abs(Math.round(se.pageX)-(((ne=P.current)==null?void 0:ne.x)??0)),y:Math.abs(Math.round(se.pageY)-(((re=P.current)==null?void 0:re.y)??0))}},ke=se=>{$.x<=10&&$.y<=10?se.preventDefault():_.contains(se.target)||O(!1),document.removeEventListener("pointermove",B),P.current=null};return P.current!==null&&(document.addEventListener("pointermove",B),document.addEventListener("pointerup",ke,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",ke,{capture:!0})}}},[_,O,P]),S.useEffect(()=>{const $=()=>O(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[O]);const[L,U]=zw($=>{const B=A().filter(ne=>!ne.disabled),ke=B.find(ne=>ne.ref.current===document.activeElement),se=Ww(B,$,ke);se&&setTimeout(()=>se.ref.current.focus())}),H=S.useCallback(($,B,ke)=>{const se=!j.current&&!ke;(v.value!==void 0&&v.value===B||se)&&(N($),se&&(j.current=!0))},[v.value]),Te=S.useCallback(()=>_==null?void 0:_.focus(),[_]),le=S.useCallback(($,B,ke)=>{const se=!j.current&&!ke;(v.value!==void 0&&v.value===B||se)&&I($)},[v.value]),K=r==="popper"?Wd:Cw,Z=K===Wd?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:u,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:f,avoidCollisions:y}:{};return C.jsx(Tw,{scope:n,content:_,viewport:w,onViewportChange:k,itemRefCallback:H,selectedItem:T,onItemLeave:Te,itemTextRefCallback:le,focusSelectedItem:F,selectedItemText:E,position:r,isPositioned:R,searchRef:L,children:C.jsx(mw,{as:ri,allowPinchZoom:!0,children:C.jsx(V_,{asChild:!0,trapped:v.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:pe(s,$=>{var B;(B=v.trigger)==null||B.focus({preventScroll:!0}),$.preventDefault()}),children:C.jsx(F_,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:C.jsx(K,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:$=>$.preventDefault(),...g,...Z,onPlaced:()=>M(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:pe(g.onKeyDown,$=>{const B=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!B&&$.key.length===1&&U($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let se=A().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);if(["ArrowUp","End"].includes($.key)&&(se=se.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const ne=$.target,re=se.indexOf(ne);se=se.slice(re+1)}setTimeout(()=>D(se)),$.preventDefault()}})})})})})})});kw.displayName=oR;var aR="SelectItemAlignedPosition",Cw=S.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Lr(ls,n),o=Vr(ls,n),[a,l]=S.useState(null),[c,d]=S.useState(null),u=Fe(e,b=>d(b)),h=Fc(n),p=S.useRef(!1),m=S.useRef(!0),{viewport:f,selectedItem:y,selectedItemText:g,focusSelectedItem:v}=o,_=S.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&f&&y&&g){const b=i.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),N=i.valueNode.getBoundingClientRect(),E=g.getBoundingClientRect();if(i.dir!=="rtl"){const ne=E.left-T.left,re=N.left-ne,at=b.left-re,jt=b.width+at,z=Math.max(jt,T.width),G=window.innerWidth-Xt,ve=hl(re,[Xt,Math.max(Xt,G-z)]);a.style.minWidth=jt+"px",a.style.left=ve+"px"}else{const ne=T.right-E.right,re=window.innerWidth-N.right-ne,at=window.innerWidth-b.right-re,jt=b.width+at,z=Math.max(jt,T.width),G=window.innerWidth-Xt,ve=hl(re,[Xt,Math.max(Xt,G-z)]);a.style.minWidth=jt+"px",a.style.right=ve+"px"}const I=h(),A=window.innerHeight-Xt*2,R=f.scrollHeight,M=window.getComputedStyle(c),j=parseInt(M.borderTopWidth,10),D=parseInt(M.paddingTop,10),F=parseInt(M.borderBottomWidth,10),O=parseInt(M.paddingBottom,10),P=j+D+R+O+F,L=Math.min(y.offsetHeight*5,P),U=window.getComputedStyle(f),H=parseInt(U.paddingTop,10),Te=parseInt(U.paddingBottom,10),le=b.top+b.height/2-Xt,K=A-le,Z=y.offsetHeight/2,$=y.offsetTop+Z,B=j+D+$,ke=P-B;if(B<=le){const ne=I.length>0&&y===I[I.length-1].ref.current;a.style.bottom="0px";const re=c.clientHeight-f.offsetTop-f.offsetHeight,at=Math.max(K,Z+(ne?Te:0)+re+F),jt=B+at;a.style.height=jt+"px"}else{const ne=I.length>0&&y===I[0].ref.current;a.style.top="0px";const at=Math.max(le,j+f.offsetTop+(ne?H:0)+Z)+ke;a.style.height=at+"px",f.scrollTop=B-le+f.offsetTop}a.style.margin=`${Xt}px 0`,a.style.minHeight=L+"px",a.style.maxHeight=A+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,a,c,f,y,g,i.dir,r]);Ft(()=>_(),[_]);const[x,w]=S.useState();Ft(()=>{c&&w(window.getComputedStyle(c).zIndex)},[c]);const k=S.useCallback(b=>{b&&m.current===!0&&(_(),v==null||v(),m.current=!1)},[_,v]);return C.jsx(cR,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:C.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:x},children:C.jsx(be.div,{...s,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Cw.displayName=aR;var lR="SelectPopperPosition",Wd=S.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Xt,...i}=t,o=Lc(n);return C.jsx(cP,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Wd.displayName=lR;var[cR,Xf]=Ci(ls,{}),$d="SelectViewport",Ew=S.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Vr($d,n),o=Xf($d,n),a=Fe(e,i.onViewportChange),l=S.useRef(0);return C.jsxs(C.Fragment,{children:[C.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),C.jsx(Dc.Slot,{scope:n,children:C.jsx(be.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:pe(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&u){const p=Math.abs(l.current-d.scrollTop);if(p>0){const m=window.innerHeight-Xt*2,f=parseFloat(u.style.minHeight),y=parseFloat(u.style.height),g=Math.max(f,y);if(g<m){const v=g+p,_=Math.min(m,v),x=v-_;u.style.height=_+"px",u.style.bottom==="0px"&&(d.scrollTop=x>0?x:0,u.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});Ew.displayName=$d;var Nw="SelectGroup",[uR,dR]=Ci(Nw),hR=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Uf();return C.jsx(uR,{scope:n,id:s,children:C.jsx(be.div,{role:"group","aria-labelledby":s,...r,ref:e})})});hR.displayName=Nw;var Aw="SelectLabel",Iw=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=dR(Aw,n);return C.jsx(be.div,{id:s.id,...r,ref:e})});Iw.displayName=Aw;var Dl="SelectItem",[fR,Ow]=Ci(Dl),Pw=S.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Lr(Dl,n),l=Vr(Dl,n),c=a.value===r,[d,u]=S.useState(i??""),[h,p]=S.useState(!1),m=Fe(e,v=>{var _;return(_=l.itemRefCallback)==null?void 0:_.call(l,v,r,s)}),f=Uf(),y=S.useRef("touch"),g=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return C.jsx(fR,{scope:n,value:r,disabled:s,textId:f,isSelected:c,onItemTextChange:S.useCallback(v=>{u(_=>_||((v==null?void 0:v.textContent)??"").trim())},[]),children:C.jsx(Dc.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:C.jsx(be.div,{role:"option","aria-labelledby":f,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:m,onFocus:pe(o.onFocus,()=>p(!0)),onBlur:pe(o.onBlur,()=>p(!1)),onClick:pe(o.onClick,()=>{y.current!=="mouse"&&g()}),onPointerUp:pe(o.onPointerUp,()=>{y.current==="mouse"&&g()}),onPointerDown:pe(o.onPointerDown,v=>{y.current=v.pointerType}),onPointerMove:pe(o.onPointerMove,v=>{var _;y.current=v.pointerType,s?(_=l.onItemLeave)==null||_.call(l):y.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(o.onPointerLeave,v=>{var _;v.currentTarget===document.activeElement&&((_=l.onItemLeave)==null||_.call(l))}),onKeyDown:pe(o.onKeyDown,v=>{var x;((x=l.searchRef)==null?void 0:x.current)!==""&&v.key===" "||(JP.includes(v.key)&&g(),v.key===" "&&v.preventDefault())})})})})});Pw.displayName=Dl;var Wi="SelectItemText",Rw=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Lr(Wi,n),a=Vr(Wi,n),l=Ow(Wi,n),c=rR(Wi,n),[d,u]=S.useState(null),h=Fe(e,g=>u(g),l.onItemTextChange,g=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,g,l.value,l.disabled)}),p=d==null?void 0:d.textContent,m=S.useMemo(()=>C.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:f,onNativeOptionRemove:y}=c;return Ft(()=>(f(m),()=>y(m)),[f,y,m]),C.jsxs(C.Fragment,{children:[C.jsx(be.span,{id:l.textId,...i,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?pi.createPortal(i.children,o.valueNode):null]})});Rw.displayName=Wi;var Mw="SelectItemIndicator",Dw=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return Ow(Mw,n).isSelected?C.jsx(be.span,{"aria-hidden":!0,...r,ref:e}):null});Dw.displayName=Mw;var qd="SelectScrollUpButton",Fw=S.forwardRef((t,e)=>{const n=Vr(qd,t.__scopeSelect),r=Xf(qd,t.__scopeSelect),[s,i]=S.useState(!1),o=Fe(e,r.onScrollButtonChange);return Ft(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?C.jsx(Vw,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});Fw.displayName=qd;var Hd="SelectScrollDownButton",Lw=S.forwardRef((t,e)=>{const n=Vr(Hd,t.__scopeSelect),r=Xf(Hd,t.__scopeSelect),[s,i]=S.useState(!1),o=Fe(e,r.onScrollButtonChange);return Ft(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?C.jsx(Vw,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});Lw.displayName=Hd;var Vw=S.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Vr("SelectScrollButton",n),o=S.useRef(null),a=Fc(n),l=S.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return S.useEffect(()=>()=>l(),[l]),Ft(()=>{var d;const c=a().find(u=>u.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),C.jsx(be.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:pe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:pe(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:pe(s.onPointerLeave,()=>{l()})})}),pR="SelectSeparator",jw=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return C.jsx(be.div,{"aria-hidden":!0,...r,ref:e})});jw.displayName=pR;var Gd="SelectArrow",mR=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Lc(n),i=Lr(Gd,n),o=Vr(Gd,n);return i.open&&o.position==="popper"?C.jsx(uP,{...s,...r,ref:e}):null});mR.displayName=Gd;function Uw(t){return t===""||t===void 0}var Bw=S.forwardRef((t,e)=>{const{value:n,...r}=t,s=S.useRef(null),i=Fe(e,s),o=r0(n);return S.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const u=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(u)}},[o,n]),C.jsx(aw,{asChild:!0,children:C.jsx("select",{...r,ref:i,defaultValue:n})})});Bw.displayName="BubbleSelect";function zw(t){const e=Un(t),n=S.useRef(""),r=S.useRef(0),s=S.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=S.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function Ww(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=gR(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function gR(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var vR=gw,$w=yw,yR=ww,_R=xw,wR=Sw,qw=bw,xR=Ew,Hw=Iw,Gw=Pw,SR=Rw,bR=Dw,Yw=Fw,Xw=Lw,Kw=jw;const TR=vR,kR=yR,Qw=S.forwardRef(({className:t,children:e,...n},r)=>C.jsxs($w,{ref:r,className:Ke("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,C.jsx(_R,{asChild:!0,children:C.jsx(NO,{className:"h-4 w-4 opacity-50"})})]}));Qw.displayName=$w.displayName;const Zw=S.forwardRef(({className:t,...e},n)=>C.jsx(Yw,{ref:n,className:Ke("flex cursor-default items-center justify-center py-1",t),...e,children:C.jsx(MO,{})}));Zw.displayName=Yw.displayName;const Jw=S.forwardRef(({className:t,...e},n)=>C.jsx(Xw,{ref:n,className:Ke("flex cursor-default items-center justify-center py-1",t),...e,children:C.jsx(PO,{})}));Jw.displayName=Xw.displayName;const e1=S.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>C.jsx(wR,{children:C.jsxs(qw,{ref:s,className:Ke("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[C.jsx(Zw,{}),C.jsx(xR,{className:Ke("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),C.jsx(Jw,{})]})}));e1.displayName=qw.displayName;const CR=S.forwardRef(({className:t,...e},n)=>C.jsx(Hw,{ref:n,className:Ke("px-2 py-1.5 text-sm font-semibold",t),...e}));CR.displayName=Hw.displayName;const t1=S.forwardRef(({className:t,children:e,...n},r)=>C.jsxs(Gw,{ref:r,className:Ke("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[C.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:C.jsx(bR,{children:C.jsx(IO,{className:"h-4 w-4"})})}),C.jsx(SR,{children:e})]}));t1.displayName=Gw.displayName;const ER=S.forwardRef(({className:t,...e},n)=>C.jsx(Kw,{ref:n,className:Ke("-mx-1 my-1 h-px bg-muted",t),...e}));ER.displayName=Kw.displayName;const Yd=S.forwardRef(({className:t,...e},n)=>C.jsx("div",{ref:n,className:Ke("rounded-xl border bg-card text-card-foreground shadow",t),...e}));Yd.displayName="Card";const Xd=S.forwardRef(({className:t,...e},n)=>C.jsx("div",{ref:n,className:Ke("flex flex-col space-y-1.5 p-6",t),...e}));Xd.displayName="CardHeader";const Kd=S.forwardRef(({className:t,...e},n)=>C.jsx("h3",{ref:n,className:Ke("font-semibold leading-none tracking-tight",t),...e}));Kd.displayName="CardTitle";const NR=S.forwardRef(({className:t,...e},n)=>C.jsx("p",{ref:n,className:Ke("text-sm text-muted-foreground",t),...e}));NR.displayName="CardDescription";const Qd=S.forwardRef(({className:t,...e},n)=>C.jsx("div",{ref:n,className:Ke("p-6 pt-0",t),...e}));Qd.displayName="CardContent";const AR=S.forwardRef(({className:t,...e},n)=>C.jsx("div",{ref:n,className:Ke("flex items-center p-6 pt-0",t),...e}));AR.displayName="CardFooter";var n1={exports:{}},r1={exports:{}};function IR(t){return t>64&&t<91?t-65:t>96&&t<123?t-71:t>47&&t<58?t+4:t===43?62:t===47?63:0}function OR(t,e){for(var n=t.replace(/[^A-Za-z0-9\+\/]/g,""),r=n.length,s=e?Math.ceil((r*3+1>>2)/e)*e:r*3+1>>2,i=new Uint8Array(s),o,a,l=0,c=0,d=0;d<r;d++)if(a=d&3,l|=IR(n.charCodeAt(d))<<18-6*a,a===3||r-d===1){for(o=0;o<3&&c<s;o++,c++)i[c]=l>>>(16>>>o&24)&255;l=0}return i}var PR={decode:OR},RR=function(t,e){return new Promise(function(n,r){var s=new XMLHttpRequest;e&&(s.responseType=e),s.open("GET",t),s.onload=function(){s.status===200?n(s.response):r(Error(s.statusText))},s.onerror=function(){r(Error("Network Error"))},s.send()})};(function(t){var e=PR,n=RR;function r(b){return function(T){return typeof T=="string"&&b.test(T)}}function s(b,T){return typeof b=="string"?b+T:typeof b=="function"?b(T):T}function i(b,T,N,E){var I=o(T)?a:l(T)?c:d(T)?u:h(T)?p:m(T)?f:y(T)?g:v(T)?_:x(T)?w:null,A=N||{};return I?I(b,T,A):E?Promise.resolve(E):Promise.reject("Source not valid ("+T+")")}i.fetch=n;function o(b){return b instanceof ArrayBuffer}function a(b,T,N){return new Promise(function(E,I){b.decodeAudioData(T,function(A){E(A)},function(){I("Can't decode audio data ("+T.slice(0,30)+"...)")})})}var l=r(/\.(mp3|wav|ogg)(\?.*)?$/i);function c(b,T,N){var E=s(N.from,T);return i(b,i.fetch(E,"arraybuffer"),N)}function d(b){return b&&typeof b.then=="function"}function u(b,T,N){return T.then(function(E){return i(b,E,N)})}var h=Array.isArray;function p(b,T,N){return Promise.all(T.map(function(E){return i(b,E,N,E)}))}function m(b){return b&&typeof b=="object"}function f(b,T,N){var E={},I=Object.keys(T).map(function(A){if(N.only&&N.only.indexOf(A)===-1)return null;var R=T[A];return i(b,R,N,R).then(function(M){E[A]=M})});return Promise.all(I).then(function(){return E})}var y=r(/\.json(\?.*)?$/i);function g(b,T,N){var E=s(N.from,T);return i(b,i.fetch(E,"text").then(JSON.parse),N)}var v=r(/^data:audio/);function _(b,T,N){var E=T.indexOf(",");return i(b,e.decode(T.slice(E+1)).buffer,N)}var x=r(/\.js(\?.*)?$/i);function w(b,T,N){var E=s(N.from,T);return i(b,i.fetch(E,"text").then(k),N)}function k(b){var T=b.indexOf("MIDI.Soundfont.");if(T<0)throw Error("Invalid MIDI.js Soundfont format");T=b.indexOf("=",T)+2;var N=b.lastIndexOf(",");return JSON.parse(b.slice(T,N)+"}")}t.exports&&(t.exports=i),typeof window<"u"&&(window.loadAudio=i)})(r1);var MR=r1.exports,s1={exports:{}},DR=FR;function FR(t){var e=t.createGain(),n=e._voltage=jR(t),r=xs(n),s=xs(n),i=xs(n);return e._startAmount=xs(s),e._endAmount=xs(i),e._multiplier=xs(r),e._multiplier.connect(e),e._startAmount.connect(e),e._endAmount.connect(e),e.value=r.gain,e.startValue=s.gain,e.endValue=i.gain,e.startValue.value=0,e.endValue.value=0,Object.defineProperties(e,LR),e}var LR={attack:{value:0,writable:!0},decay:{value:0,writable:!0},sustain:{value:1,writable:!0},release:{value:0,writable:!0},getReleaseDuration:{value:function(){return this.release}},start:{value:function(t){var e=this._multiplier.gain,n=this._startAmount.gain,r=this._endAmount.gain;this._voltage.start(t),this._decayFrom=this._decayFrom=t+this.attack,this._startedAt=t;var s=this.sustain;e.cancelScheduledValues(t),n.cancelScheduledValues(t),r.cancelScheduledValues(t),r.setValueAtTime(0,t),this.attack?(e.setValueAtTime(0,t),e.linearRampToValueAtTime(1,t+this.attack),n.setValueAtTime(1,t),n.linearRampToValueAtTime(0,t+this.attack)):(e.setValueAtTime(1,t),n.setValueAtTime(0,t)),this.decay&&e.setTargetAtTime(s,this._decayFrom,hg(this.decay))}},stop:{value:function(t,e){e&&(t=t-this.release);var n=t+this.release;if(this.release){var r=this._multiplier.gain,s=this._startAmount.gain,i=this._endAmount.gain;r.cancelScheduledValues(t),s.cancelScheduledValues(t),i.cancelScheduledValues(t);var o=hg(this.release);if(this.attack&&t<this._decayFrom){var a=UR(0,1,this._startedAt,this._decayFrom,t);r.linearRampToValueAtTime(a,t),s.linearRampToValueAtTime(1-a,t),s.setTargetAtTime(0,t,o)}i.setTargetAtTime(1,t,o),r.setTargetAtTime(0,t,o)}return this._voltage.stop(n),n}},onended:{get:function(){return this._voltage.onended},set:function(t){this._voltage.onended=t}}},VR=new Float32Array([1,1]);function jR(t){var e=t.createBufferSource(),n=t.createBuffer(1,2,t.sampleRate);return n.getChannelData(0).set(VR),e.buffer=n,e.loop=!0,e}function xs(t){var e=t.context.createGain();return t.connect(e),e}function hg(t){return Math.log(t+1)/Math.log(100)}function UR(t,e,n,r,s){var i=e-t,o=r-n,a=s-n,l=a/o,c=t+l*i;return c<=t&&(c=t),c>=e&&(c=e),c}var BR=DR,zR={},WR={gain:1,attack:.01,decay:.1,sustain:.9,release:.3,loop:!1,cents:0,loopStart:0,loopEnd:0};function $R(t,e,n){var r=!1,s=0,i={},o=t.createGain();o.gain.value=1;var a=Object.assign({},WR,n),l={context:t,out:o,opts:a};return e instanceof AudioBuffer?l.buffer=e:l.buffers=e,l.start=function(u,h,p){if(l.buffer&&u!==null)return l.start(null,u,h);var m=u?l.buffers[u]:l.buffer;if(m){if(!r){console.warn("SamplePlayer not connected to any node.");return}}else{console.warn("Buffer "+u+" not found.");return}var f=p||zR;h=Math.max(t.currentTime,h||0),l.emit("start",h,u,f);var y=d(u,m,f);return y.id=c(u,y),y.env.start(h),y.source.start(h),l.emit("started",h,y.id,y),f.duration&&y.stop(h+f.duration),y},l.play=function(u,h,p){return l.start(u,h,p)},l.stop=function(u,h){var p;return h=h||Object.keys(i),h.map(function(m){return p=i[m],p?(p.stop(u),p.id):null})},l.connect=function(u){return r=!0,o.connect(u),l},l.emit=function(u,h,p,m){l.onevent&&l.onevent(u,h,p,m);var f=l["on"+u];f&&f(h,p,m)},l;function c(u,h){return h.id=s++,i[h.id]=h,h.source.onended=function(){var p=t.currentTime;h.source.disconnect(),h.env.disconnect(),h.disconnect(),l.emit("ended",p,h.id,h)},h.id}function d(u,h,p){var m=t.createGain();return m.gain.value=0,m.connect(o),m.env=HR(t,p,a),m.env.connect(m.gain),m.source=t.createBufferSource(),m.source.buffer=h,m.source.connect(m),m.source.loop=p.loop||a.loop,m.source.playbackRate.value=GR(p.cents||a.cents),m.source.loopStart=p.loopStart||a.loopStart,m.source.loopEnd=p.loopEnd||a.loopEnd,m.stop=function(f){var y=f||t.currentTime;l.emit("stop",y,u);var g=m.env.stop(y);m.source.stop(g)},m}}function fg(t){return typeof t=="number"}var qR=["attack","decay","sustain","release"];function HR(t,e,n){var r=BR(t),s=e.adsr||n.adsr;return qR.forEach(function(i,o){s?r[i]=s[o]:r[i]=e[i]||n[i]}),r.value.value=fg(e.gain)?e.gain:fg(n.gain)?n.gain:1,r}function GR(t){return t?Math.pow(2,t/1200):1}var YR=$R,XR=function(t){return t.on=function(e,n){if(arguments.length===1&&typeof e=="function")return t.on("event",e);var r="on"+e,s=t[r];return t[r]=s?KR(s,n):n,t},t};function KR(t,e){return function(n,r,s,i){t(n,r,s,i),e(n,r,s,i)}}var i1=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function QR(){return i1}var ZR=[0,2,4,5,7,9,11];function o1(t,e,n){if(typeof t!="string")return null;var r=i1.exec(t);if(!r||!e&&r[4])return null;var s={letter:r[1].toUpperCase(),acc:r[2].replace(/x/g,"##")};return s.pc=s.letter+s.acc,s.step=(s.letter.charCodeAt(0)+3)%7,s.alt=s.acc[0]==="b"?-s.acc.length:s.acc.length,s.chroma=ZR[s.step]+s.alt,r[3]&&(s.oct=+r[3],s.midi=s.chroma+12*(s.oct+1),s.freq=a1(s.midi,n)),e&&(s.tonicOf=r[4]),s}function a1(t,e){return Math.pow(2,(t-69)/12)*(e||440)}var l1={parse:o1,regex:QR,midiToFreq:a1},JR=["letter","acc","pc","step","alt","chroma","oct","midi","freq"];JR.forEach(function(t){l1[t]=function(e){var n=o1(e);return n&&typeof n[t]<"u"?n[t]:null}});var eM=l1,tM=eM,nM=function(t){return t!==null&&t!==[]&&t>=0&&t<129},rM=function(t){return nM(t)?+t:tM.midi(t)},sM=function(t){if(t.buffers){var e=t.opts.map,n=typeof e=="function"?e:rM,r=function(i){return i?n(i)||i:null};t.buffers=iM(t.buffers,r);var s=t.start;t.start=function(i,o,a){var l=r(i),c=l%1;return c&&(l=Math.floor(l),a=Object.assign(a||{},{cents:Math.floor(c*100)})),s(l,o,a)}}return t};function iM(t,e){return Object.keys(t).reduce(function(n,r){return n[e(r)]=t[r],n},{})}var oM=Array.isArray,aM=function(t){return t&&typeof t=="object"},lM={},cM=function(t){return t.schedule=function(e,n){var r=t.context.currentTime,s=e<r?r:e;t.emit("schedule",s,n);var i,o,a,l;return n.map(function(c){if(c)oM(c)?(i=c[0],o=c[1]):(i=c.time,o=c);else return null;return aM(o)?(a=o.name||o.key||o.note||o.midi||null,l=o):(a=o,l=lM),t.start(a,s+(i||0),l)})},t};function xa(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var c1={exports:{}};(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,s,i){function o(c,d){if(!s[c]){if(!r[c]){var u=typeof xa=="function"&&xa;if(!d&&u)return u(c,!0);if(a)return a(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var p=s[c]={exports:{}};r[c][0].call(p.exports,function(m){var f=r[c][1][m];return o(f||m)},p,p.exports,n,r,s,i)}return s[c].exports}for(var a=typeof xa=="function"&&xa,l=0;l<i.length;l++)o(i[l]);return o}({1:[function(n,r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(i){function o(a){if(this._event=a,this._data=a.data,this.receivedTime=a.receivedTime,this._data&&this._data.length<2){console.warn("Illegal MIDI message of length",this._data.length);return}switch(this._messageCode=a.data[0]&240,this.channel=a.data[0]&15,this._messageCode){case 128:this.messageType="noteoff",this.key=a.data[1]&127,this.velocity=a.data[2]&127;break;case 144:this.messageType="noteon",this.key=a.data[1]&127,this.velocity=a.data[2]&127;break;case 160:this.messageType="keypressure",this.key=a.data[1]&127,this.pressure=a.data[2]&127;break;case 176:this.messageType="controlchange",this.controllerNumber=a.data[1]&127,this.controllerValue=a.data[2]&127,this.controllerNumber===120&&this.controllerValue===0?this.channelModeMessage="allsoundoff":this.controllerNumber===121?this.channelModeMessage="resetallcontrollers":this.controllerNumber===122?this.controllerValue===0?this.channelModeMessage="localcontroloff":this.channelModeMessage="localcontrolon":this.controllerNumber===123&&this.controllerValue===0?this.channelModeMessage="allnotesoff":this.controllerNumber===124&&this.controllerValue===0?this.channelModeMessage="omnimodeoff":this.controllerNumber===125&&this.controllerValue===0?this.channelModeMessage="omnimodeon":this.controllerNumber===126?this.channelModeMessage="monomodeon":this.controllerNumber===127&&(this.channelModeMessage="polymodeon");break;case 192:this.messageType="programchange",this.program=a.data[1];break;case 208:this.messageType="channelpressure",this.pressure=a.data[1]&127;break;case 224:this.messageType="pitchbendchange";var l=a.data[2]&127,c=a.data[1]&127;this.pitchBend=(l<<8)+c;break}}return new o(i)},r.exports=s.default},{}]},{},[1])(1)})})(c1);var uM=c1.exports,dM=uM,hM=function(t){return t.listenToMidi=function(e,n){var r={},s=n||{},i=s.gain||function(o){return o/127};return e.onmidimessage=function(o){var a=o.messageType?o:dM(o);if(a.messageType==="noteon"&&a.velocity===0&&(a.messageType="noteoff"),!(s.channel&&a.channel!==s.channel))switch(a.messageType){case"noteon":r[a.key]=t.play(a.key,0,{gain:i(a.velocity)});break;case"noteoff":r[a.key]&&(r[a.key].stop(),delete r[a.key]);break}},t},t};(function(t){var e=YR,n=XR,r=sM,s=cM,i=hM;function o(a,l,c){return i(s(r(n(e(a,l,c)))))}t.exports&&(t.exports=o),typeof window<"u"&&(window.SamplePlayer=o)})(s1);var fM=s1.exports;function pg(t,e){return Array(e+1).join(t)}function Kf(t){return typeof t=="number"}function pM(t){return typeof t=="string"}function mM(t){return typeof t<"u"}function u1(t,e){return Math.pow(2,(t-69)/12)*(e||440)}var d1=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function gM(){return d1}var vM=[0,2,4,5,7,9,11];function Xn(t,e,n){if(typeof t!="string")return null;var r=d1.exec(t);if(!r||!e&&r[4])return null;var s={letter:r[1].toUpperCase(),acc:r[2].replace(/x/g,"##")};s.pc=s.letter+s.acc,s.step=(s.letter.charCodeAt(0)+3)%7,s.alt=s.acc[0]==="b"?-s.acc.length:s.acc.length;var i=vM[s.step]+s.alt;return s.chroma=i<0?12+i:i%12,r[3]&&(s.oct=+r[3],s.midi=i+12*(s.oct+1),s.freq=u1(s.midi,n)),e&&(s.tonicOf=r[4]),s}var yM="CDEFGAB";function _M(t){return Kf(t)?t<0?pg("b",-t):pg("#",t):""}function wM(t){return Kf(t)?""+t:""}function h1(t,e,n){return t===null||typeof t>"u"?null:t.step?h1(t.step,t.alt,t.oct):t<0||t>6?null:yM.charAt(t)+_M(e)+wM(n)}function f1(t){if((Kf(t)||pM(t))&&t>=0&&t<128)return+t;var e=Xn(t);return e&&mM(e.midi)?e.midi:null}function xM(t,e){var n=f1(t);return n===null?null:u1(n,e)}function SM(t){return(Xn(t)||{}).letter}function bM(t){return(Xn(t)||{}).acc}function TM(t){return(Xn(t)||{}).pc}function kM(t){return(Xn(t)||{}).step}function CM(t){return(Xn(t)||{}).alt}function EM(t){return(Xn(t)||{}).chroma}function NM(t){return(Xn(t)||{}).oct}const AM=Object.freeze(Object.defineProperty({__proto__:null,acc:bM,alt:CM,build:h1,chroma:EM,freq:xM,letter:SM,midi:f1,oct:NM,parse:Xn,pc:TM,regex:gM,step:kM},Symbol.toStringTag,{value:"Module"})),IM=gg(AM);var ku,mg;function OM(){if(mg)return ku;mg=1;var t=IM;function e(s,i){if(console.warn("new Soundfont() is deprected"),console.log("Please use Soundfont.instrument() instead of new Soundfont().instrument()"),!(this instanceof e))return new e(s);this.nameToUrl=i||e.nameToUrl,this.ctx=s,this.instruments={},this.promises=[]}e.prototype.onready=function(s){console.warn("deprecated API"),console.log("Please use Promise.all(Soundfont.instrument(), Soundfont.instrument()).then() instead of new Soundfont().onready()"),Promise.all(this.promises).then(s)},e.prototype.instrument=function(s,i){console.warn("new Soundfont().instrument() is deprecated."),console.log("Please use Soundfont.instrument() instead.");var o=this.ctx;if(s=s||"default",s in this.instruments)return this.instruments[s];var a={name:s,play:r(o,i)};if(this.instruments[s]=a,s!=="default"){var l=e.instrument(o,s,i).then(function(c){return a.play=c.play,a});this.promises.push(l),a.onready=function(c){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),l.then(c)}}else a.onready=function(c){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),c()};return a};function n(s,i,o){return console.warn("Soundfont.loadBuffers is deprecate."),console.log("Use Soundfont.instrument(..) and get buffers properties from the result."),e.instrument(s,i,o).then(function(a){return a.buffers})}e.loadBuffers=n;function r(s,i){return i=i||{},function(o,a,l,c){console.warn("The oscillator player is deprecated."),console.log("Starting with version 0.9.0 you will have to wait until the soundfont is loaded to play sounds.");var d=o>0&&o<129?+o:t.midi(o),u=d?t.midiToFreq(d,440):null;if(u){l=l||.2,c=c||{};var h=c.destination||i.destination||s.destination,p=c.vcoType||i.vcoType||"sine",m=c.gain||i.gain||.4,f=s.createOscillator();f.type=p,f.frequency.value=u;var y=s.createGain();return y.gain.value=m,f.connect(y),y.connect(h),f.start(a),l>0&&f.stop(a+l),f}}}return e.noteToMidi=t.midi,ku=e,ku}(function(t){var e=MR,n=fM;function r(a,l,c){if(arguments.length===1)return function(m,f){return r(a,m,f)};var d=c||{},u=d.isSoundfontURL||s,h=d.nameToUrl||i,p=u(l)?l:h(l,d.soundfont,d.format);return e(a,p,{only:d.only||d.notes}).then(function(m){var f=n(a,m,d).connect(d.destination?d.destination:a.destination);return f.url=p,f.name=l,f})}function s(a){return/\.js(\?.*)?$/i.test(a)}function i(a,l,c){return c=c==="ogg"?c:"mp3",l=l==="FluidR3_GM"?l:"MusyngKite","https://gleitz.github.io/midi-js-soundfonts/"+l+"/"+a+"-"+c+".js"}var o=OM();o.instrument=r,o.nameToUrl=i,t.exports&&(t.exports=o),typeof window<"u"&&(window.Soundfont=o)})(n1);var PM=n1.exports;const RM=Zd(PM),MM=(t,e,n,r)=>{const s=new Ff({decay:e,wet:.3}).toDestination(),i=new Df({delayTime:"8n",feedback:n}).toDestination(),o=new Mf(4,r,.3).toDestination();return o.start(),RM.instrument(new AudioContext,t).then(a=>{const l=new is({oscillator:{type:"sine"}}).connect(o).connect(s).connect(i);return{instrument:a,synth:l}})},DM=["acoustic_grand_piano","electric_bass_finger","synth_drum","string_ensemble_1","acoustic_guitar_nylon","flute","violin","drawbar_organ","trumpet","synth_brass_1"],FM=({effects:t,onChange:e})=>C.jsx("div",{className:"grid grid-cols-3 gap-4 mt-4",children:Object.entries(t).map(([n,r])=>C.jsxs("div",{children:[C.jsx("label",{className:"text-sm font-medium text-gray-300 mb-1 block",children:n.charAt(0).toUpperCase()+n.slice(1)}),C.jsx(Kh,{value:[r],min:0,max:1,step:.01,onValueChange:s=>e(n,s[0])})]},n))});function LM(){const[t,e]=S.useState(null),[n,r]=S.useState(120),[s,i]=S.useState(!1),[o,a]=S.useState([]),[l,c]=S.useState([]),d=S.useRef(null),u=S.useRef(null);S.useEffect(()=>{const v=new Lf("waveform",1024);return VI.connect(v),u.current=v,()=>{v.dispose()}},[]),S.useEffect(()=>{let v;const _=()=>{if(d.current&&u.current){const x=d.current,w=x.getContext("2d");if(w){const k=x.width,b=x.height,T=u.current.getValue();w.clearRect(0,0,k,b),w.beginPath(),w.strokeStyle="rgb(255, 102, 178)",w.lineWidth=2;for(let N=0;N<T.length;N++){const E=N/T.length*k,I=(T[N]+1)/2*b;N===0?w.moveTo(E,I):w.lineTo(E,I)}w.stroke()}}v=requestAnimationFrame(_)};return s?_():v&&cancelAnimationFrame(v),()=>{v&&cancelAnimationFrame(v)}},[s]);const h=async v=>{var x;const _=(x=v.target.files)==null?void 0:x[0];if(_){const w=await _.arrayBuffer(),k=new Al.Midi(w);e(k),a(Array(k.tracks.length).fill("acoustic_grand_piano")),c(Array(k.tracks.length).fill({reverb:.2,delay:.4,chorus:.3}))}},p=(v,_)=>{const x=[...o];x[v]=_,a(x)},m=(v,_,x)=>{const w=[...l];w[v]={...w[v],[_]:x},c(w)},f=v=>{r(v),Vi().bpm.value=v},y=()=>{t&&(Vi().stop(),Vi().cancel(),t.tracks.forEach((v,_)=>{const x=o[_],{reverb:w,delay:k,chorus:b}=l[_];MM(x,w,k,b).then(({synth:T})=>{v.notes.forEach(N=>{rr.schedule(E=>{T.triggerAttackRelease(N.name,N.duration,E)},N.time)})})}),Vi().start(),i(!0))},g=()=>{Vi().stop(),i(!1)};return C.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-800 to-teal-700 flex items-center justify-center p-4",children:C.jsxs(Yd,{className:"w-full max-w-4xl bg-gray-900 text-white",children:[C.jsx(Xd,{children:C.jsx(Kd,{className:"text-3xl font-bold text-center text-pink-500",children:"Reproductor MIDI Lofi Retro"})}),C.jsx(Qd,{children:C.jsxs("div",{className:"space-y-6",children:[C.jsx("div",{className:"flex items-center justify-center",children:C.jsxs("label",{className:"cursor-pointer bg-pink-600 hover:bg-pink-700 text-white font-bold py-2 px-4 rounded inline-flex items-center",children:[C.jsx(zy,{className:"mr-2"}),C.jsx("span",{children:"Subir archivo MIDI"}),C.jsx(dl,{type:"file",accept:".mid,.midi",onChange:h,className:"hidden"})]})}),C.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-teal-500 rounded-2xl p-1",children:C.jsx("div",{className:"bg-gray-900 rounded-2xl p-4",children:C.jsx("canvas",{ref:d,width:600,height:100,className:"w-full"})})}),C.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[C.jsx("span",{className:"text-teal-300",children:"BPM:"}),C.jsx(dl,{type:"number",value:n,onChange:v=>f(Number(v.target.value)),min:20,max:300,className:"w-20 bg-gray-800 text-white"}),C.jsx(Br,{onClick:s?g:y,variant:"outline",size:"icon",className:"bg-gray-800 text-pink-500 hover:bg-gray-700",children:s?C.jsx(Uy,{}):C.jsx(By,{})})]}),t&&C.jsxs("div",{className:"space-y-4",children:[C.jsx("h3",{className:"text-xl font-semibold text-teal-300",children:"Configuracin de pistas"}),t.tracks.map((v,_)=>C.jsxs(Yd,{className:"bg-gray-800",children:[C.jsx(Xd,{children:C.jsxs(Kd,{className:"text-lg text-pink-400",children:["Pista ",_+1]})}),C.jsxs(Qd,{children:[C.jsxs(TR,{value:o[_],onValueChange:x=>p(_,x),children:[C.jsx(Qw,{className:"w-full bg-gray-700 text-white",children:C.jsx(kR,{placeholder:"Selecciona un instrumento"})}),C.jsx(e1,{children:DM.map(x=>C.jsx(t1,{value:x,children:x},x))})]}),C.jsx(FM,{effects:l[_],onChange:(x,w)=>m(_,x,w)})]})]},_))]})]})})]})})}const VM=()=>C.jsx(Eb,{children:C.jsxs(Tb,{children:[C.jsx(wd,{path:"/lofistation2",element:C.jsx(CO,{})}),C.jsx(wd,{path:"/lofistation",element:C.jsx(LM,{})})]})});Iy(document.getElementById("root")).render(C.jsx(S.StrictMode,{children:C.jsx(VM,{})}));
